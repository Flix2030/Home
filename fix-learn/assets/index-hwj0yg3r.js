(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(r){if(r.ep)return;r.ep=!0;const u=i(r);fetch(r.href,u)}})();function tT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $c={exports:{}},ia={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg;function YC(){if(Qg)return ia;Qg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,r,u){var c=null;if(u!==void 0&&(c=""+u),r.key!==void 0&&(c=""+r.key),"key"in r){u={};for(var h in r)h!=="key"&&(u[h]=r[h])}else u=r;return r=u.ref,{$$typeof:t,type:s,key:c,ref:r!==void 0?r:null,props:u}}return ia.Fragment=e,ia.jsx=i,ia.jsxs=i,ia}var $g;function JC(){return $g||($g=1,$c.exports=YC()),$c.exports}var E=JC(),Zc={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg;function KC(){if(Zg)return ve;Zg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function C(R){return R===null||typeof R!="object"?null:(R=S&&R[S]||R["@@iterator"],typeof R=="function"?R:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,M={};function N(R,J,ee){this.props=R,this.context=J,this.refs=M,this.updater=ee||_}N.prototype.isReactComponent={},N.prototype.setState=function(R,J){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,J,"setState")},N.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function G(){}G.prototype=N.prototype;function I(R,J,ee){this.props=R,this.context=J,this.refs=M,this.updater=ee||_}var F=I.prototype=new G;F.constructor=I,w(F,N.prototype),F.isPureReactComponent=!0;var Y=Array.isArray;function j(){}var Q={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function Z(R,J,ee){var ie=ee.ref;return{$$typeof:t,type:R,key:J,ref:ie!==void 0?ie:null,props:ee}}function ne(R,J){return Z(R.type,J,R.props)}function ue(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function Ae(R){var J={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ee){return J[ee]})}var ge=/\/+/g;function Me(R,J){return typeof R=="object"&&R!==null&&R.key!=null?Ae(""+R.key):J.toString(36)}function qe(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(j,j):(R.status="pending",R.then(function(J){R.status==="pending"&&(R.status="fulfilled",R.value=J)},function(J){R.status==="pending"&&(R.status="rejected",R.reason=J)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function k(R,J,ee,ie,me){var Se=typeof R;(Se==="undefined"||Se==="boolean")&&(R=null);var De=!1;if(R===null)De=!0;else switch(Se){case"bigint":case"string":case"number":De=!0;break;case"object":switch(R.$$typeof){case t:case e:De=!0;break;case y:return De=R._init,k(De(R._payload),J,ee,ie,me)}}if(De)return me=me(R),De=ie===""?"."+Me(R,0):ie,Y(me)?(ee="",De!=null&&(ee=De.replace(ge,"$&/")+"/"),k(me,J,ee,"",function($n){return $n})):me!=null&&(ue(me)&&(me=ne(me,ee+(me.key==null||R&&R.key===me.key?"":(""+me.key).replace(ge,"$&/")+"/")+De)),J.push(me)),1;De=0;var Xe=ie===""?".":ie+":";if(Y(R))for(var Oe=0;Oe<R.length;Oe++)ie=R[Oe],Se=Xe+Me(ie,Oe),De+=k(ie,J,ee,Se,me);else if(Oe=C(R),typeof Oe=="function")for(R=Oe.call(R),Oe=0;!(ie=R.next()).done;)ie=ie.value,Se=Xe+Me(ie,Oe++),De+=k(ie,J,ee,Se,me);else if(Se==="object"){if(typeof R.then=="function")return k(qe(R),J,ee,ie,me);throw J=String(R),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return De}function V(R,J,ee){if(R==null)return R;var ie=[],me=0;return k(R,ie,"","",function(Se){return J.call(ee,Se,me++)}),ie}function W(R){if(R._status===-1){var J=R._result;J=J(),J.then(function(ee){(R._status===0||R._status===-1)&&(R._status=1,R._result=ee)},function(ee){(R._status===0||R._status===-1)&&(R._status=2,R._result=ee)}),R._status===-1&&(R._status=0,R._result=J)}if(R._status===1)return R._result.default;throw R._result}var ae=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},fe={map:V,forEach:function(R,J,ee){V(R,function(){J.apply(this,arguments)},ee)},count:function(R){var J=0;return V(R,function(){J++}),J},toArray:function(R){return V(R,function(J){return J})||[]},only:function(R){if(!ue(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return ve.Activity=T,ve.Children=fe,ve.Component=N,ve.Fragment=i,ve.Profiler=r,ve.PureComponent=I,ve.StrictMode=s,ve.Suspense=g,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,ve.__COMPILER_RUNTIME={__proto__:null,c:function(R){return Q.H.useMemoCache(R)}},ve.cache=function(R){return function(){return R.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(R,J,ee){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ie=w({},R.props),me=R.key;if(J!=null)for(Se in J.key!==void 0&&(me=""+J.key),J)!$.call(J,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&J.ref===void 0||(ie[Se]=J[Se]);var Se=arguments.length-2;if(Se===1)ie.children=ee;else if(1<Se){for(var De=Array(Se),Xe=0;Xe<Se;Xe++)De[Xe]=arguments[Xe+2];ie.children=De}return Z(R.type,me,ie)},ve.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:u,_context:R},R},ve.createElement=function(R,J,ee){var ie,me={},Se=null;if(J!=null)for(ie in J.key!==void 0&&(Se=""+J.key),J)$.call(J,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(me[ie]=J[ie]);var De=arguments.length-2;if(De===1)me.children=ee;else if(1<De){for(var Xe=Array(De),Oe=0;Oe<De;Oe++)Xe[Oe]=arguments[Oe+2];me.children=Xe}if(R&&R.defaultProps)for(ie in De=R.defaultProps,De)me[ie]===void 0&&(me[ie]=De[ie]);return Z(R,Se,me)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(R){return{$$typeof:h,render:R}},ve.isValidElement=ue,ve.lazy=function(R){return{$$typeof:y,_payload:{_status:-1,_result:R},_init:W}},ve.memo=function(R,J){return{$$typeof:m,type:R,compare:J===void 0?null:J}},ve.startTransition=function(R){var J=Q.T,ee={};Q.T=ee;try{var ie=R(),me=Q.S;me!==null&&me(ee,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(j,ae)}catch(Se){ae(Se)}finally{J!==null&&ee.types!==null&&(J.types=ee.types),Q.T=J}},ve.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},ve.use=function(R){return Q.H.use(R)},ve.useActionState=function(R,J,ee){return Q.H.useActionState(R,J,ee)},ve.useCallback=function(R,J){return Q.H.useCallback(R,J)},ve.useContext=function(R){return Q.H.useContext(R)},ve.useDebugValue=function(){},ve.useDeferredValue=function(R,J){return Q.H.useDeferredValue(R,J)},ve.useEffect=function(R,J){return Q.H.useEffect(R,J)},ve.useEffectEvent=function(R){return Q.H.useEffectEvent(R)},ve.useId=function(){return Q.H.useId()},ve.useImperativeHandle=function(R,J,ee){return Q.H.useImperativeHandle(R,J,ee)},ve.useInsertionEffect=function(R,J){return Q.H.useInsertionEffect(R,J)},ve.useLayoutEffect=function(R,J){return Q.H.useLayoutEffect(R,J)},ve.useMemo=function(R,J){return Q.H.useMemo(R,J)},ve.useOptimistic=function(R,J){return Q.H.useOptimistic(R,J)},ve.useReducer=function(R,J,ee){return Q.H.useReducer(R,J,ee)},ve.useRef=function(R){return Q.H.useRef(R)},ve.useState=function(R){return Q.H.useState(R)},ve.useSyncExternalStore=function(R,J,ee){return Q.H.useSyncExternalStore(R,J,ee)},ve.useTransition=function(){return Q.H.useTransition()},ve.version="19.2.3",ve}var Wg;function ud(){return Wg||(Wg=1,Zc.exports=KC()),Zc.exports}var q=ud();const XC=tT(q);var Wc={exports:{}},oa={},jc={exports:{}},ef={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg;function QC(){return jg||(jg=1,(function(t){function e(k,V){var W=k.length;k.push(V);e:for(;0<W;){var ae=W-1>>>1,fe=k[ae];if(0<r(fe,V))k[ae]=V,k[W]=fe,W=ae;else break e}}function i(k){return k.length===0?null:k[0]}function s(k){if(k.length===0)return null;var V=k[0],W=k.pop();if(W!==V){k[0]=W;e:for(var ae=0,fe=k.length,R=fe>>>1;ae<R;){var J=2*(ae+1)-1,ee=k[J],ie=J+1,me=k[ie];if(0>r(ee,W))ie<fe&&0>r(me,ee)?(k[ae]=me,k[ie]=W,ae=ie):(k[ae]=ee,k[J]=W,ae=J);else if(ie<fe&&0>r(me,W))k[ae]=me,k[ie]=W,ae=ie;else break e}}return V}function r(k,V){var W=k.sortIndex-V.sortIndex;return W!==0?W:k.id-V.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var g=[],m=[],y=1,T=null,S=3,C=!1,_=!1,w=!1,M=!1,N=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function F(k){for(var V=i(m);V!==null;){if(V.callback===null)s(m);else if(V.startTime<=k)s(m),V.sortIndex=V.expirationTime,e(g,V);else break;V=i(m)}}function Y(k){if(w=!1,F(k),!_)if(i(g)!==null)_=!0,j||(j=!0,Ae());else{var V=i(m);V!==null&&qe(Y,V.startTime-k)}}var j=!1,Q=-1,$=5,Z=-1;function ne(){return M?!0:!(t.unstable_now()-Z<$)}function ue(){if(M=!1,j){var k=t.unstable_now();Z=k;var V=!0;try{e:{_=!1,w&&(w=!1,G(Q),Q=-1),C=!0;var W=S;try{t:{for(F(k),T=i(g);T!==null&&!(T.expirationTime>k&&ne());){var ae=T.callback;if(typeof ae=="function"){T.callback=null,S=T.priorityLevel;var fe=ae(T.expirationTime<=k);if(k=t.unstable_now(),typeof fe=="function"){T.callback=fe,F(k),V=!0;break t}T===i(g)&&s(g),F(k)}else s(g);T=i(g)}if(T!==null)V=!0;else{var R=i(m);R!==null&&qe(Y,R.startTime-k),V=!1}}break e}finally{T=null,S=W,C=!1}V=void 0}}finally{V?Ae():j=!1}}}var Ae;if(typeof I=="function")Ae=function(){I(ue)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,Me=ge.port2;ge.port1.onmessage=ue,Ae=function(){Me.postMessage(null)}}else Ae=function(){N(ue,0)};function qe(k,V){Q=N(function(){k(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(k){switch(S){case 1:case 2:case 3:var V=3;break;default:V=S}var W=S;S=V;try{return k()}finally{S=W}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(k,V){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var W=S;S=k;try{return V()}finally{S=W}},t.unstable_scheduleCallback=function(k,V,W){var ae=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ae+W:ae):W=ae,k){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=W+fe,k={id:y++,callback:V,priorityLevel:k,startTime:W,expirationTime:fe,sortIndex:-1},W>ae?(k.sortIndex=W,e(m,k),i(g)===null&&k===i(m)&&(w?(G(Q),Q=-1):w=!0,qe(Y,W-ae))):(k.sortIndex=fe,e(g,k),_||C||(_=!0,j||(j=!0,Ae()))),k},t.unstable_shouldYield=ne,t.unstable_wrapCallback=function(k){var V=S;return function(){var W=S;S=V;try{return k.apply(this,arguments)}finally{S=W}}}})(ef)),ef}var e0;function $C(){return e0||(e0=1,jc.exports=QC()),jc.exports}var tf={exports:{}},Et={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function ZC(){if(t0)return Et;t0=1;var t=ud();function e(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},r=Symbol.for("react.portal");function u(g,m,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:g,containerInfo:m,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Et.createPortal=function(g,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(g,m,null,y)},Et.flushSync=function(g){var m=c.T,y=s.p;try{if(c.T=null,s.p=2,g)return g()}finally{c.T=m,s.p=y,s.d.f()}},Et.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(g,m))},Et.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Et.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var y=m.as,T=h(y,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?s.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:C}):y==="script"&&s.d.X(g,{crossOrigin:T,integrity:S,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Et.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);s.d.M(g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(g)},Et.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,T=h(y,m.crossOrigin);s.d.L(g,y,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Et.preloadModule=function(g,m){if(typeof g=="string")if(m){var y=h(m.as,m.crossOrigin);s.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(g)},Et.requestFormReset=function(g){s.d.r(g)},Et.unstable_batchedUpdates=function(g,m){return g(m)},Et.useFormState=function(g,m,y){return c.H.useFormState(g,m,y)},Et.useFormStatus=function(){return c.H.useHostTransitionStatus()},Et.version="19.2.3",Et}var n0;function WC(){if(n0)return tf.exports;n0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tf.exports=ZC(),tf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function jC(){if(i0)return oa;i0=1;var t=$C(),e=ud(),i=WC();function s(n){var o="https://react.dev/errors/"+n;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)o+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var o=n,a=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(a=o.return),n=o.return;while(n)}return o.tag===3?a:null}function c(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function h(n){if(n.tag===31){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function g(n){if(u(n)!==n)throw Error(s(188))}function m(n){var o=n.alternate;if(!o){if(o=u(n),o===null)throw Error(s(188));return o!==n?null:n}for(var a=n,l=o;;){var p=a.return;if(p===null)break;var v=p.alternate;if(v===null){if(l=p.return,l!==null){a=l;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===a)return g(p),n;if(v===l)return g(p),o;v=v.sibling}throw Error(s(188))}if(a.return!==l.return)a=p,l=v;else{for(var x=!1,A=p.child;A;){if(A===a){x=!0,a=p,l=v;break}if(A===l){x=!0,l=p,a=v;break}A=A.sibling}if(!x){for(A=v.child;A;){if(A===a){x=!0,a=v,l=p;break}if(A===l){x=!0,l=v,a=p;break}A=A.sibling}if(!x)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:o}function y(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n;for(n=n.child;n!==null;){if(o=y(n),o!==null)return o;n=n.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),I=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function Ae(n){return n===null||typeof n!="object"?null:(n=ue&&n[ue]||n["@@iterator"],typeof n=="function"?n:null)}var ge=Symbol.for("react.client.reference");function Me(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ge?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case w:return"Fragment";case N:return"Profiler";case M:return"StrictMode";case Y:return"Suspense";case j:return"SuspenseList";case Z:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case _:return"Portal";case I:return n.displayName||"Context";case G:return(n._context.displayName||"Context")+".Consumer";case F:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Q:return o=n.displayName||null,o!==null?o:Me(n.type)||"Memo";case $:o=n._payload,n=n._init;try{return Me(n(o))}catch{}}return null}var qe=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ae=[],fe=-1;function R(n){return{current:n}}function J(n){0>fe||(n.current=ae[fe],ae[fe]=null,fe--)}function ee(n,o){fe++,ae[fe]=n.current,n.current=o}var ie=R(null),me=R(null),Se=R(null),De=R(null);function Xe(n,o){switch(ee(Se,o),ee(me,n),ee(ie,null),o.nodeType){case 9:case 11:n=(n=o.documentElement)&&(n=n.namespaceURI)?vg(n):0;break;default:if(n=o.tagName,o=o.namespaceURI)o=vg(o),n=Tg(o,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}J(ie),ee(ie,n)}function Oe(){J(ie),J(me),J(Se)}function $n(n){n.memoizedState!==null&&ee(De,n);var o=ie.current,a=Tg(o,n.type);o!==a&&(ee(me,n),ee(ie,a))}function ji(n){me.current===n&&(J(ie),J(me)),De.current===n&&(J(De),js._currentValue=W)}var ls,Na;function _n(n){if(ls===void 0)try{throw Error()}catch(a){var o=a.stack.trim().match(/\n( *(at )?)/);ls=o&&o[1]||"",Na=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ls+n+Na}var us=!1;function eo(n,o){if(!n||us)return"";us=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(o){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var z=H}Reflect.construct(n,[],X)}else{try{X.call()}catch(H){z=H}n.call(X.prototype)}}else{try{throw Error()}catch(H){z=H}(X=n())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=l.DetermineComponentFrameRoot(),x=v[0],A=v[1];if(x&&A){var b=x.split(`
`),P=A.split(`
`);for(p=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;p<P.length&&!P[p].includes("DetermineComponentFrameRoot");)p++;if(l===b.length||p===P.length)for(l=b.length-1,p=P.length-1;1<=l&&0<=p&&b[l]!==P[p];)p--;for(;1<=l&&0<=p;l--,p--)if(b[l]!==P[p]){if(l!==1||p!==1)do if(l--,p--,0>p||b[l]!==P[p]){var B=`
`+b[l].replace(" at new "," at ");return n.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",n.displayName)),B}while(1<=l&&0<=p);break}}}finally{us=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?_n(a):""}function wl(n,o){switch(n.tag){case 26:case 27:case 5:return _n(n.type);case 16:return _n("Lazy");case 13:return n.child!==o&&o!==null?_n("Suspense Fallback"):_n("Suspense");case 19:return _n("SuspenseList");case 0:case 15:return eo(n.type,!1);case 11:return eo(n.type.render,!1);case 1:return eo(n.type,!0);case 31:return _n("Activity");default:return""}}function wa(n){try{var o="",a=null;do o+=wl(n,a),a=n,n=n.return;while(n);return o}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var cs=Object.prototype.hasOwnProperty,fs=t.unstable_scheduleCallback,ds=t.unstable_cancelCallback,Rl=t.unstable_shouldYield,Dl=t.unstable_requestPaint,Tt=t.unstable_now,Il=t.unstable_getCurrentPriorityLevel,Ra=t.unstable_ImmediatePriority,to=t.unstable_UserBlockingPriority,no=t.unstable_NormalPriority,kl=t.unstable_LowPriority,Da=t.unstable_IdlePriority,Ul=t.log,hs=t.unstable_setDisableYieldValue,_i=null,St=null;function un(n){if(typeof Ul=="function"&&hs(n),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(_i,n)}catch{}}var _t=Math.clz32?Math.clz32:Pl,Vl=Math.log,Ll=Math.LN2;function Pl(n){return n>>>=0,n===0?32:31-(Vl(n)/Ll|0)|0}var O=256,ce=262144,de=4194304;function re(n){var o=n&42;if(o!==0)return o;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ee(n,o,a){var l=n.pendingLanes;if(l===0)return 0;var p=0,v=n.suspendedLanes,x=n.pingedLanes;n=n.warmLanes;var A=l&134217727;return A!==0?(l=A&~v,l!==0?p=re(l):(x&=A,x!==0?p=re(x):a||(a=A&~n,a!==0&&(p=re(a))))):(A=l&~v,A!==0?p=re(A):x!==0?p=re(x):a||(a=l&~n,a!==0&&(p=re(a)))),p===0?0:o!==0&&o!==p&&(o&v)===0&&(v=p&-p,a=o&-o,v>=a||v===32&&(a&4194048)!==0)?o:p}function je(n,o){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&o)===0}function ut(n,o){switch(n){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vn(){var n=de;return de<<=1,(de&62914560)===0&&(de=4194304),n}function xt(n){for(var o=[],a=0;31>a;a++)o.push(n);return o}function Rt(n,o){n.pendingLanes|=o,o!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function zl(n,o,a,l,p,v){var x=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var A=n.entanglements,b=n.expirationTimes,P=n.hiddenUpdates;for(a=x&~a;0<a;){var B=31-_t(a),X=1<<B;A[B]=0,b[B]=-1;var z=P[B];if(z!==null)for(P[B]=null,B=0;B<z.length;B++){var H=z[B];H!==null&&(H.lane&=-536870913)}a&=~X}l!==0&&eh(n,l,0),v!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=v&~(x&~o))}function eh(n,o,a){n.pendingLanes|=o,n.suspendedLanes&=~o;var l=31-_t(o);n.entangledLanes|=o,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function th(n,o){var a=n.entangledLanes|=o;for(n=n.entanglements;a;){var l=31-_t(a),p=1<<l;p&o|n[l]&o&&(n[l]|=o),a&=~p}}function nh(n,o){var a=o&-o;return a=(a&42)!==0?1:Gl(a),(a&(n.suspendedLanes|o))!==0?0:a}function Gl(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Hl(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ih(){var n=V.p;return n!==0?n:(n=window.event,n===void 0?32:qg(n.type))}function oh(n,o){var a=V.p;try{return V.p=n,o()}finally{V.p=a}}var Zn=Math.random().toString(36).slice(2),ht="__reactFiber$"+Zn,Dt="__reactProps$"+Zn,io="__reactContainer$"+Zn,Bl="__reactEvents$"+Zn,Ux="__reactListeners$"+Zn,Vx="__reactHandles$"+Zn,sh="__reactResources$"+Zn,ms="__reactMarker$"+Zn;function ql(n){delete n[ht],delete n[Dt],delete n[Bl],delete n[Ux],delete n[Vx]}function oo(n){var o=n[ht];if(o)return o;for(var a=n.parentNode;a;){if(o=a[io]||a[ht]){if(a=o.alternate,o.child!==null||a!==null&&a.child!==null)for(n=bg(n);n!==null;){if(a=n[ht])return a;n=bg(n)}return o}n=a,a=n.parentNode}return null}function so(n){if(n=n[ht]||n[io]){var o=n.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return n}return null}function ps(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n.stateNode;throw Error(s(33))}function ao(n){var o=n[sh];return o||(o=n[sh]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function ct(n){n[ms]=!0}var ah=new Set,rh={};function bi(n,o){ro(n,o),ro(n+"Capture",o)}function ro(n,o){for(rh[n]=o,n=0;n<o.length;n++)ah.add(o[n])}var Lx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lh={},uh={};function Px(n){return cs.call(uh,n)?!0:cs.call(lh,n)?!1:Lx.test(n)?uh[n]=!0:(lh[n]=!0,!1)}function Ia(n,o,a){if(Px(o))if(a===null)n.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(o);return;case"boolean":var l=o.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(o);return}}n.setAttribute(o,""+a)}}function ka(n,o,a){if(a===null)n.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttribute(o,""+a)}}function bn(n,o,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(o,a,""+l)}}function Kt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ch(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function zx(n,o,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,o);if(!n.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,v=l.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return p.call(this)},set:function(x){a=""+x,v.call(this,x)}}),Object.defineProperty(n,o,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(x){a=""+x},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function Ol(n){if(!n._valueTracker){var o=ch(n)?"checked":"value";n._valueTracker=zx(n,o,""+n[o])}}function fh(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var a=o.getValue(),l="";return n&&(l=ch(n)?n.checked?"true":"false":n.value),n=l,n!==a?(o.setValue(n),!0):!1}function Ua(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Gx=/[\n"\\]/g;function Xt(n){return n.replace(Gx,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Fl(n,o,a,l,p,v,x,A){n.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?n.type=x:n.removeAttribute("type"),o!=null?x==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+Kt(o)):n.value!==""+Kt(o)&&(n.value=""+Kt(o)):x!=="submit"&&x!=="reset"||n.removeAttribute("value"),o!=null?Yl(n,x,Kt(o)):a!=null?Yl(n,x,Kt(a)):l!=null&&n.removeAttribute("value"),p==null&&v!=null&&(n.defaultChecked=!!v),p!=null&&(n.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+Kt(A):n.removeAttribute("name")}function dh(n,o,a,l,p,v,x,A){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.type=v),o!=null||a!=null){if(!(v!=="submit"&&v!=="reset"||o!=null)){Ol(n);return}a=a!=null?""+Kt(a):"",o=o!=null?""+Kt(o):a,A||o===n.value||(n.value=o),n.defaultValue=o}l=l??p,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=A?n.checked:!!l,n.defaultChecked=!!l,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(n.name=x),Ol(n)}function Yl(n,o,a){o==="number"&&Ua(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function lo(n,o,a,l){if(n=n.options,o){o={};for(var p=0;p<a.length;p++)o["$"+a[p]]=!0;for(a=0;a<n.length;a++)p=o.hasOwnProperty("$"+n[a].value),n[a].selected!==p&&(n[a].selected=p),p&&l&&(n[a].defaultSelected=!0)}else{for(a=""+Kt(a),o=null,p=0;p<n.length;p++){if(n[p].value===a){n[p].selected=!0,l&&(n[p].defaultSelected=!0);return}o!==null||n[p].disabled||(o=n[p])}o!==null&&(o.selected=!0)}}function hh(n,o,a){if(o!=null&&(o=""+Kt(o),o!==n.value&&(n.value=o),a==null)){n.defaultValue!==o&&(n.defaultValue=o);return}n.defaultValue=a!=null?""+Kt(a):""}function mh(n,o,a,l){if(o==null){if(l!=null){if(a!=null)throw Error(s(92));if(qe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),o=a}a=Kt(o),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),Ol(n)}function uo(n,o){if(o){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=o;return}}n.textContent=o}var Hx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ph(n,o,a){var l=o.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="":l?n.setProperty(o,a):typeof a!="number"||a===0||Hx.has(o)?o==="float"?n.cssFloat=a:n[o]=(""+a).trim():n[o]=a+"px"}function gh(n,o,a){if(o!=null&&typeof o!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||o!=null&&o.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var p in o)l=o[p],o.hasOwnProperty(p)&&a[p]!==l&&ph(n,p,l)}else for(var v in o)o.hasOwnProperty(v)&&ph(n,v,o[v])}function Jl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(n){return qx.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Mn(){}var Kl=null;function Xl(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var co=null,fo=null;function yh(n){var o=so(n);if(o&&(n=o.stateNode)){var a=n[Dt]||null;e:switch(n=o.stateNode,o.type){case"input":if(Fl(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),o=a.name,a.type==="radio"&&o!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Xt(""+o)+'"][type="radio"]'),o=0;o<a.length;o++){var l=a[o];if(l!==n&&l.form===n.form){var p=l[Dt]||null;if(!p)throw Error(s(90));Fl(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(o=0;o<a.length;o++)l=a[o],l.form===n.form&&fh(l)}break e;case"textarea":hh(n,a.value,a.defaultValue);break e;case"select":o=a.value,o!=null&&lo(n,!!a.multiple,o,!1)}}}var Ql=!1;function vh(n,o,a){if(Ql)return n(o,a);Ql=!0;try{var l=n(o);return l}finally{if(Ql=!1,(co!==null||fo!==null)&&(Er(),co&&(o=co,n=fo,fo=co=null,yh(o),n)))for(o=0;o<n.length;o++)yh(n[o])}}function gs(n,o){var a=n.stateNode;if(a===null)return null;var l=a[Dt]||null;if(l===null)return null;a=l[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,o,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$l=!1;if(Nn)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){$l=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch{$l=!1}var Wn=null,Zl=null,La=null;function Th(){if(La)return La;var n,o=Zl,a=o.length,l,p="value"in Wn?Wn.value:Wn.textContent,v=p.length;for(n=0;n<a&&o[n]===p[n];n++);var x=a-n;for(l=1;l<=x&&o[a-l]===p[v-l];l++);return La=p.slice(n,1<l?1-l:void 0)}function Pa(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function za(){return!0}function Sh(){return!1}function It(n){function o(a,l,p,v,x){this._reactName=a,this._targetInst=p,this.type=l,this.nativeEvent=v,this.target=x,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(a=n[A],this[A]=a?a(v):v[A]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?za:Sh,this.isPropagationStopped=Sh,this}return T(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=za)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=za)},persist:function(){},isPersistent:za}),o}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=It(Mi),vs=T({},Mi,{view:0,detail:0}),Ox=It(vs),Wl,jl,Ts,Ha=T({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ts&&(Ts&&n.type==="mousemove"?(Wl=n.screenX-Ts.screenX,jl=n.screenY-Ts.screenY):jl=Wl=0,Ts=n),Wl)},movementY:function(n){return"movementY"in n?n.movementY:jl}}),xh=It(Ha),Fx=T({},Ha,{dataTransfer:0}),Yx=It(Fx),Jx=T({},vs,{relatedTarget:0}),eu=It(Jx),Kx=T({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),Xx=It(Kx),Qx=T({},Mi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),$x=It(Qx),Zx=T({},Mi,{data:0}),Eh=It(Zx),Wx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tE(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=eE[n])?!!o[n]:!1}function tu(){return tE}var nE=T({},vs,{key:function(n){if(n.key){var o=Wx[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=Pa(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?jx[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tu,charCode:function(n){return n.type==="keypress"?Pa(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Pa(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),iE=It(nE),oE=T({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ch=It(oE),sE=T({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tu}),aE=It(sE),rE=T({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),lE=It(rE),uE=T({},Ha,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),cE=It(uE),fE=T({},Mi,{newState:0,oldState:0}),dE=It(fE),hE=[9,13,27,32],nu=Nn&&"CompositionEvent"in window,Ss=null;Nn&&"documentMode"in document&&(Ss=document.documentMode);var mE=Nn&&"TextEvent"in window&&!Ss,Ah=Nn&&(!nu||Ss&&8<Ss&&11>=Ss),_h=" ",bh=!1;function Mh(n,o){switch(n){case"keyup":return hE.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nh(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ho=!1;function pE(n,o){switch(n){case"compositionend":return Nh(o);case"keypress":return o.which!==32?null:(bh=!0,_h);case"textInput":return n=o.data,n===_h&&bh?null:n;default:return null}}function gE(n,o){if(ho)return n==="compositionend"||!nu&&Mh(n,o)?(n=Th(),La=Zl=Wn=null,ho=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ah&&o.locale!=="ko"?null:o.data;default:return null}}var yE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wh(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!yE[n.type]:o==="textarea"}function Rh(n,o,a,l){co?fo?fo.push(l):fo=[l]:co=l,o=wr(o,"onChange"),0<o.length&&(a=new Ga("onChange","change",null,a,l),n.push({event:a,listeners:o}))}var xs=null,Es=null;function vE(n){dg(n,0)}function Ba(n){var o=ps(n);if(fh(o))return n}function Dh(n,o){if(n==="change")return o}var Ih=!1;if(Nn){var iu;if(Nn){var ou="oninput"in document;if(!ou){var kh=document.createElement("div");kh.setAttribute("oninput","return;"),ou=typeof kh.oninput=="function"}iu=ou}else iu=!1;Ih=iu&&(!document.documentMode||9<document.documentMode)}function Uh(){xs&&(xs.detachEvent("onpropertychange",Vh),Es=xs=null)}function Vh(n){if(n.propertyName==="value"&&Ba(Es)){var o=[];Rh(o,Es,n,Xl(n)),vh(vE,o)}}function TE(n,o,a){n==="focusin"?(Uh(),xs=o,Es=a,xs.attachEvent("onpropertychange",Vh)):n==="focusout"&&Uh()}function SE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ba(Es)}function xE(n,o){if(n==="click")return Ba(o)}function EE(n,o){if(n==="input"||n==="change")return Ba(o)}function CE(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var Gt=typeof Object.is=="function"?Object.is:CE;function Cs(n,o){if(Gt(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var a=Object.keys(n),l=Object.keys(o);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var p=a[l];if(!cs.call(o,p)||!Gt(n[p],o[p]))return!1}return!0}function Lh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ph(n,o){var a=Lh(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=o&&l>=o)return{node:a,offset:o-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Lh(a)}}function zh(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?zh(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function Gh(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var o=Ua(n.document);o instanceof n.HTMLIFrameElement;){try{var a=typeof o.contentWindow.location.href=="string"}catch{a=!1}if(a)n=o.contentWindow;else break;o=Ua(n.document)}return o}function su(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}var AE=Nn&&"documentMode"in document&&11>=document.documentMode,mo=null,au=null,As=null,ru=!1;function Hh(n,o,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ru||mo==null||mo!==Ua(l)||(l=mo,"selectionStart"in l&&su(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),As&&Cs(As,l)||(As=l,l=wr(au,"onSelect"),0<l.length&&(o=new Ga("onSelect","select",null,o,a),n.push({event:o,listeners:l}),o.target=mo)))}function Ni(n,o){var a={};return a[n.toLowerCase()]=o.toLowerCase(),a["Webkit"+n]="webkit"+o,a["Moz"+n]="moz"+o,a}var po={animationend:Ni("Animation","AnimationEnd"),animationiteration:Ni("Animation","AnimationIteration"),animationstart:Ni("Animation","AnimationStart"),transitionrun:Ni("Transition","TransitionRun"),transitionstart:Ni("Transition","TransitionStart"),transitioncancel:Ni("Transition","TransitionCancel"),transitionend:Ni("Transition","TransitionEnd")},lu={},Bh={};Nn&&(Bh=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function wi(n){if(lu[n])return lu[n];if(!po[n])return n;var o=po[n],a;for(a in o)if(o.hasOwnProperty(a)&&a in Bh)return lu[n]=o[a];return n}var qh=wi("animationend"),Oh=wi("animationiteration"),Fh=wi("animationstart"),_E=wi("transitionrun"),bE=wi("transitionstart"),ME=wi("transitioncancel"),Yh=wi("transitionend"),Jh=new Map,uu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uu.push("scrollEnd");function cn(n,o){Jh.set(n,o),bi(o,[n])}var qa=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Qt=[],go=0,cu=0;function Oa(){for(var n=go,o=cu=go=0;o<n;){var a=Qt[o];Qt[o++]=null;var l=Qt[o];Qt[o++]=null;var p=Qt[o];Qt[o++]=null;var v=Qt[o];if(Qt[o++]=null,l!==null&&p!==null){var x=l.pending;x===null?p.next=p:(p.next=x.next,x.next=p),l.pending=p}v!==0&&Kh(a,p,v)}}function Fa(n,o,a,l){Qt[go++]=n,Qt[go++]=o,Qt[go++]=a,Qt[go++]=l,cu|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function fu(n,o,a,l){return Fa(n,o,a,l),Ya(n)}function Ri(n,o){return Fa(n,null,null,o),Ya(n)}function Kh(n,o,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var p=!1,v=n.return;v!==null;)v.childLanes|=a,l=v.alternate,l!==null&&(l.childLanes|=a),v.tag===22&&(n=v.stateNode,n===null||n._visibility&1||(p=!0)),n=v,v=v.return;return n.tag===3?(v=n.stateNode,p&&o!==null&&(p=31-_t(a),n=v.hiddenUpdates,l=n[p],l===null?n[p]=[o]:l.push(o),o.lane=a|536870912),v):null}function Ya(n){if(50<Js)throw Js=0,Sc=null,Error(s(185));for(var o=n.return;o!==null;)n=o,o=n.return;return n.tag===3?n.stateNode:null}var yo={};function NE(n,o,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(n,o,a,l){return new NE(n,o,a,l)}function du(n){return n=n.prototype,!(!n||!n.isReactComponent)}function wn(n,o){var a=n.alternate;return a===null?(a=Ht(n.tag,o,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=o,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,o=n.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Xh(n,o){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=o,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,o=a.dependencies,n.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),n}function Ja(n,o,a,l,p,v){var x=0;if(l=n,typeof n=="function")du(n)&&(x=1);else if(typeof n=="string")x=kC(n,a,ie.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Z:return n=Ht(31,a,o,p),n.elementType=Z,n.lanes=v,n;case w:return Di(a.children,p,v,o);case M:x=8,p|=24;break;case N:return n=Ht(12,a,o,p|2),n.elementType=N,n.lanes=v,n;case Y:return n=Ht(13,a,o,p),n.elementType=Y,n.lanes=v,n;case j:return n=Ht(19,a,o,p),n.elementType=j,n.lanes=v,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case I:x=10;break e;case G:x=9;break e;case F:x=11;break e;case Q:x=14;break e;case $:x=16,l=null;break e}x=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return o=Ht(x,a,o,p),o.elementType=n,o.type=l,o.lanes=v,o}function Di(n,o,a,l){return n=Ht(7,n,l,o),n.lanes=a,n}function hu(n,o,a){return n=Ht(6,n,null,o),n.lanes=a,n}function Qh(n){var o=Ht(18,null,null,0);return o.stateNode=n,o}function mu(n,o,a){return o=Ht(4,n.children!==null?n.children:[],n.key,o),o.lanes=a,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}var $h=new WeakMap;function $t(n,o){if(typeof n=="object"&&n!==null){var a=$h.get(n);return a!==void 0?a:(o={value:n,source:o,stack:wa(o)},$h.set(n,o),o)}return{value:n,source:o,stack:wa(o)}}var vo=[],To=0,Ka=null,_s=0,Zt=[],Wt=0,jn=null,Tn=1,Sn="";function Rn(n,o){vo[To++]=_s,vo[To++]=Ka,Ka=n,_s=o}function Zh(n,o,a){Zt[Wt++]=Tn,Zt[Wt++]=Sn,Zt[Wt++]=jn,jn=n;var l=Tn;n=Sn;var p=32-_t(l)-1;l&=~(1<<p),a+=1;var v=32-_t(o)+p;if(30<v){var x=p-p%5;v=(l&(1<<x)-1).toString(32),l>>=x,p-=x,Tn=1<<32-_t(o)+p|a<<p|l,Sn=v+n}else Tn=1<<v|a<<p|l,Sn=n}function pu(n){n.return!==null&&(Rn(n,1),Zh(n,1,0))}function gu(n){for(;n===Ka;)Ka=vo[--To],vo[To]=null,_s=vo[--To],vo[To]=null;for(;n===jn;)jn=Zt[--Wt],Zt[Wt]=null,Sn=Zt[--Wt],Zt[Wt]=null,Tn=Zt[--Wt],Zt[Wt]=null}function Wh(n,o){Zt[Wt++]=Tn,Zt[Wt++]=Sn,Zt[Wt++]=jn,Tn=o.id,Sn=o.overflow,jn=n}var mt=null,Fe=null,Re=!1,ei=null,jt=!1,yu=Error(s(519));function ti(n){var o=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bs($t(o,n)),yu}function jh(n){var o=n.stateNode,a=n.type,l=n.memoizedProps;switch(o[ht]=n,o[Dt]=l,a){case"dialog":be("cancel",o),be("close",o);break;case"iframe":case"object":case"embed":be("load",o);break;case"video":case"audio":for(a=0;a<Xs.length;a++)be(Xs[a],o);break;case"source":be("error",o);break;case"img":case"image":case"link":be("error",o),be("load",o);break;case"details":be("toggle",o);break;case"input":be("invalid",o),dh(o,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":be("invalid",o);break;case"textarea":be("invalid",o),mh(o,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||o.textContent===""+a||l.suppressHydrationWarning===!0||gg(o.textContent,a)?(l.popover!=null&&(be("beforetoggle",o),be("toggle",o)),l.onScroll!=null&&be("scroll",o),l.onScrollEnd!=null&&be("scrollend",o),l.onClick!=null&&(o.onclick=Mn),o=!0):o=!1,o||ti(n,!0)}function em(n){for(mt=n.return;mt;)switch(mt.tag){case 5:case 31:case 13:jt=!1;return;case 27:case 3:jt=!0;return;default:mt=mt.return}}function So(n){if(n!==mt)return!1;if(!Re)return em(n),Re=!0,!1;var o=n.tag,a;if((a=o!==3&&o!==27)&&((a=o===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Vc(n.type,n.memoizedProps)),a=!a),a&&Fe&&ti(n),em(n),o===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));Fe=_g(n)}else if(o===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));Fe=_g(n)}else o===27?(o=Fe,pi(n.type)?(n=Hc,Hc=null,Fe=n):Fe=o):Fe=mt?tn(n.stateNode.nextSibling):null;return!0}function Ii(){Fe=mt=null,Re=!1}function vu(){var n=ei;return n!==null&&(Lt===null?Lt=n:Lt.push.apply(Lt,n),ei=null),n}function bs(n){ei===null?ei=[n]:ei.push(n)}var Tu=R(null),ki=null,Dn=null;function ni(n,o,a){ee(Tu,o._currentValue),o._currentValue=a}function In(n){n._currentValue=Tu.current,J(Tu)}function Su(n,o,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,l!==null&&(l.childLanes|=o)):l!==null&&(l.childLanes&o)!==o&&(l.childLanes|=o),n===a)break;n=n.return}}function xu(n,o,a,l){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var v=p.dependencies;if(v!==null){var x=p.child;v=v.firstContext;e:for(;v!==null;){var A=v;v=p;for(var b=0;b<o.length;b++)if(A.context===o[b]){v.lanes|=a,A=v.alternate,A!==null&&(A.lanes|=a),Su(v.return,a,n),l||(x=null);break e}v=A.next}}else if(p.tag===18){if(x=p.return,x===null)throw Error(s(341));x.lanes|=a,v=x.alternate,v!==null&&(v.lanes|=a),Su(x,a,n),x=null}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===n){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}}function xo(n,o,a,l){n=null;for(var p=o,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var x=p.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var A=p.type;Gt(p.pendingProps.value,x.value)||(n!==null?n.push(A):n=[A])}}else if(p===De.current){if(x=p.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push(js):n=[js])}p=p.return}n!==null&&xu(o,n,a,l),o.flags|=262144}function Xa(n){for(n=n.firstContext;n!==null;){if(!Gt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ui(n){ki=n,Dn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function pt(n){return tm(ki,n)}function Qa(n,o){return ki===null&&Ui(n),tm(n,o)}function tm(n,o){var a=o._currentValue;if(o={context:o,memoizedValue:a,next:null},Dn===null){if(n===null)throw Error(s(308));Dn=o,n.dependencies={lanes:0,firstContext:o},n.flags|=524288}else Dn=Dn.next=o;return a}var wE=typeof AbortController<"u"?AbortController:function(){var n=[],o=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){o.aborted=!0,n.forEach(function(a){return a()})}},RE=t.unstable_scheduleCallback,DE=t.unstable_NormalPriority,nt={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Eu(){return{controller:new wE,data:new Map,refCount:0}}function Ms(n){n.refCount--,n.refCount===0&&RE(DE,function(){n.controller.abort()})}var Ns=null,Cu=0,Eo=0,Co=null;function IE(n,o){if(Ns===null){var a=Ns=[];Cu=0,Eo=bc(),Co={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Cu++,o.then(nm,nm),o}function nm(){if(--Cu===0&&Ns!==null){Co!==null&&(Co.status="fulfilled");var n=Ns;Ns=null,Eo=0,Co=null;for(var o=0;o<n.length;o++)(0,n[o])()}}function kE(n,o){var a=[],l={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return n.then(function(){l.status="fulfilled",l.value=o;for(var p=0;p<a.length;p++)(0,a[p])(o)},function(p){for(l.status="rejected",l.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),l}var im=k.S;k.S=function(n,o){Hp=Tt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&IE(n,o),im!==null&&im(n,o)};var Vi=R(null);function Au(){var n=Vi.current;return n!==null?n:Be.pooledCache}function $a(n,o){o===null?ee(Vi,Vi.current):ee(Vi,o.pool)}function om(){var n=Au();return n===null?null:{parent:nt._currentValue,pool:n}}var Ao=Error(s(460)),_u=Error(s(474)),Za=Error(s(542)),Wa={then:function(){}};function sm(n){return n=n.status,n==="fulfilled"||n==="rejected"}function am(n,o,a){switch(a=n[a],a===void 0?n.push(o):a!==o&&(o.then(Mn,Mn),o=a),o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,lm(n),n;default:if(typeof o.status=="string")o.then(Mn,Mn);else{if(n=Be,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=o,n.status="pending",n.then(function(l){if(o.status==="pending"){var p=o;p.status="fulfilled",p.value=l}},function(l){if(o.status==="pending"){var p=o;p.status="rejected",p.reason=l}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,lm(n),n}throw Pi=o,Ao}}function Li(n){try{var o=n._init;return o(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Pi=a,Ao):a}}var Pi=null;function rm(){if(Pi===null)throw Error(s(459));var n=Pi;return Pi=null,n}function lm(n){if(n===Ao||n===Za)throw Error(s(483))}var _o=null,ws=0;function ja(n){var o=ws;return ws+=1,_o===null&&(_o=[]),am(_o,n,o)}function Rs(n,o){o=o.props.ref,n.ref=o!==void 0?o:null}function er(n,o){throw o.$$typeof===S?Error(s(525)):(n=Object.prototype.toString.call(o),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n)))}function um(n){function o(U,D){if(n){var L=U.deletions;L===null?(U.deletions=[D],U.flags|=16):L.push(D)}}function a(U,D){if(!n)return null;for(;D!==null;)o(U,D),D=D.sibling;return null}function l(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function p(U,D){return U=wn(U,D),U.index=0,U.sibling=null,U}function v(U,D,L){return U.index=L,n?(L=U.alternate,L!==null?(L=L.index,L<D?(U.flags|=67108866,D):L):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function x(U){return n&&U.alternate===null&&(U.flags|=67108866),U}function A(U,D,L,K){return D===null||D.tag!==6?(D=hu(L,U.mode,K),D.return=U,D):(D=p(D,L),D.return=U,D)}function b(U,D,L,K){var le=L.type;return le===w?B(U,D,L.props.children,K,L.key):D!==null&&(D.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===$&&Li(le)===D.type)?(D=p(D,L.props),Rs(D,L),D.return=U,D):(D=Ja(L.type,L.key,L.props,null,U.mode,K),Rs(D,L),D.return=U,D)}function P(U,D,L,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=mu(L,U.mode,K),D.return=U,D):(D=p(D,L.children||[]),D.return=U,D)}function B(U,D,L,K,le){return D===null||D.tag!==7?(D=Di(L,U.mode,K,le),D.return=U,D):(D=p(D,L),D.return=U,D)}function X(U,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=hu(""+D,U.mode,L),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case C:return L=Ja(D.type,D.key,D.props,null,U.mode,L),Rs(L,D),L.return=U,L;case _:return D=mu(D,U.mode,L),D.return=U,D;case $:return D=Li(D),X(U,D,L)}if(qe(D)||Ae(D))return D=Di(D,U.mode,L,null),D.return=U,D;if(typeof D.then=="function")return X(U,ja(D),L);if(D.$$typeof===I)return X(U,Qa(U,D),L);er(U,D)}return null}function z(U,D,L,K){var le=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return le!==null?null:A(U,D,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case C:return L.key===le?b(U,D,L,K):null;case _:return L.key===le?P(U,D,L,K):null;case $:return L=Li(L),z(U,D,L,K)}if(qe(L)||Ae(L))return le!==null?null:B(U,D,L,K,null);if(typeof L.then=="function")return z(U,D,ja(L),K);if(L.$$typeof===I)return z(U,D,Qa(U,L),K);er(U,L)}return null}function H(U,D,L,K,le){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(L)||null,A(D,U,""+K,le);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case C:return U=U.get(K.key===null?L:K.key)||null,b(D,U,K,le);case _:return U=U.get(K.key===null?L:K.key)||null,P(D,U,K,le);case $:return K=Li(K),H(U,D,L,K,le)}if(qe(K)||Ae(K))return U=U.get(L)||null,B(D,U,K,le,null);if(typeof K.then=="function")return H(U,D,L,ja(K),le);if(K.$$typeof===I)return H(U,D,L,Qa(D,K),le);er(D,K)}return null}function oe(U,D,L,K){for(var le=null,Ie=null,se=D,Ce=D=0,we=null;se!==null&&Ce<L.length;Ce++){se.index>Ce?(we=se,se=null):we=se.sibling;var ke=z(U,se,L[Ce],K);if(ke===null){se===null&&(se=we);break}n&&se&&ke.alternate===null&&o(U,se),D=v(ke,D,Ce),Ie===null?le=ke:Ie.sibling=ke,Ie=ke,se=we}if(Ce===L.length)return a(U,se),Re&&Rn(U,Ce),le;if(se===null){for(;Ce<L.length;Ce++)se=X(U,L[Ce],K),se!==null&&(D=v(se,D,Ce),Ie===null?le=se:Ie.sibling=se,Ie=se);return Re&&Rn(U,Ce),le}for(se=l(se);Ce<L.length;Ce++)we=H(se,U,Ce,L[Ce],K),we!==null&&(n&&we.alternate!==null&&se.delete(we.key===null?Ce:we.key),D=v(we,D,Ce),Ie===null?le=we:Ie.sibling=we,Ie=we);return n&&se.forEach(function(Si){return o(U,Si)}),Re&&Rn(U,Ce),le}function he(U,D,L,K){if(L==null)throw Error(s(151));for(var le=null,Ie=null,se=D,Ce=D=0,we=null,ke=L.next();se!==null&&!ke.done;Ce++,ke=L.next()){se.index>Ce?(we=se,se=null):we=se.sibling;var Si=z(U,se,ke.value,K);if(Si===null){se===null&&(se=we);break}n&&se&&Si.alternate===null&&o(U,se),D=v(Si,D,Ce),Ie===null?le=Si:Ie.sibling=Si,Ie=Si,se=we}if(ke.done)return a(U,se),Re&&Rn(U,Ce),le;if(se===null){for(;!ke.done;Ce++,ke=L.next())ke=X(U,ke.value,K),ke!==null&&(D=v(ke,D,Ce),Ie===null?le=ke:Ie.sibling=ke,Ie=ke);return Re&&Rn(U,Ce),le}for(se=l(se);!ke.done;Ce++,ke=L.next())ke=H(se,U,Ce,ke.value,K),ke!==null&&(n&&ke.alternate!==null&&se.delete(ke.key===null?Ce:ke.key),D=v(ke,D,Ce),Ie===null?le=ke:Ie.sibling=ke,Ie=ke);return n&&se.forEach(function(FC){return o(U,FC)}),Re&&Rn(U,Ce),le}function He(U,D,L,K){if(typeof L=="object"&&L!==null&&L.type===w&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case C:e:{for(var le=L.key;D!==null;){if(D.key===le){if(le=L.type,le===w){if(D.tag===7){a(U,D.sibling),K=p(D,L.props.children),K.return=U,U=K;break e}}else if(D.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===$&&Li(le)===D.type){a(U,D.sibling),K=p(D,L.props),Rs(K,L),K.return=U,U=K;break e}a(U,D);break}else o(U,D);D=D.sibling}L.type===w?(K=Di(L.props.children,U.mode,K,L.key),K.return=U,U=K):(K=Ja(L.type,L.key,L.props,null,U.mode,K),Rs(K,L),K.return=U,U=K)}return x(U);case _:e:{for(le=L.key;D!==null;){if(D.key===le)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){a(U,D.sibling),K=p(D,L.children||[]),K.return=U,U=K;break e}else{a(U,D);break}else o(U,D);D=D.sibling}K=mu(L,U.mode,K),K.return=U,U=K}return x(U);case $:return L=Li(L),He(U,D,L,K)}if(qe(L))return oe(U,D,L,K);if(Ae(L)){if(le=Ae(L),typeof le!="function")throw Error(s(150));return L=le.call(L),he(U,D,L,K)}if(typeof L.then=="function")return He(U,D,ja(L),K);if(L.$$typeof===I)return He(U,D,Qa(U,L),K);er(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(a(U,D.sibling),K=p(D,L),K.return=U,U=K):(a(U,D),K=hu(L,U.mode,K),K.return=U,U=K),x(U)):a(U,D)}return function(U,D,L,K){try{ws=0;var le=He(U,D,L,K);return _o=null,le}catch(se){if(se===Ao||se===Za)throw se;var Ie=Ht(29,se,null,U.mode);return Ie.lanes=K,Ie.return=U,Ie}finally{}}}var zi=um(!0),cm=um(!1),ii=!1;function bu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mu(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function oi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function si(n,o,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ve&2)!==0){var p=l.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),l.pending=o,o=Ya(n),Kh(n,null,a),o}return Fa(n,l,o,a),Ya(n)}function Ds(n,o,a){if(o=o.updateQueue,o!==null&&(o=o.shared,(a&4194048)!==0)){var l=o.lanes;l&=n.pendingLanes,a|=l,o.lanes=a,th(n,a)}}function Nu(n,o){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var p=null,v=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};v===null?p=v=x:v=v.next=x,a=a.next}while(a!==null);v===null?p=v=o:v=v.next=o}else p=v=o;a={baseState:l.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=o:n.next=o,a.lastBaseUpdate=o}var wu=!1;function Is(){if(wu){var n=Co;if(n!==null)throw n}}function ks(n,o,a,l){wu=!1;var p=n.updateQueue;ii=!1;var v=p.firstBaseUpdate,x=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var b=A,P=b.next;b.next=null,x===null?v=P:x.next=P,x=b;var B=n.alternate;B!==null&&(B=B.updateQueue,A=B.lastBaseUpdate,A!==x&&(A===null?B.firstBaseUpdate=P:A.next=P,B.lastBaseUpdate=b))}if(v!==null){var X=p.baseState;x=0,B=P=b=null,A=v;do{var z=A.lane&-536870913,H=z!==A.lane;if(H?(Ne&z)===z:(l&z)===z){z!==0&&z===Eo&&(wu=!0),B!==null&&(B=B.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var oe=n,he=A;z=o;var He=a;switch(he.tag){case 1:if(oe=he.payload,typeof oe=="function"){X=oe.call(He,X,z);break e}X=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=he.payload,z=typeof oe=="function"?oe.call(He,X,z):oe,z==null)break e;X=T({},X,z);break e;case 2:ii=!0}}z=A.callback,z!==null&&(n.flags|=64,H&&(n.flags|=8192),H=p.callbacks,H===null?p.callbacks=[z]:H.push(z))}else H={lane:z,tag:A.tag,payload:A.payload,callback:A.callback,next:null},B===null?(P=B=H,b=X):B=B.next=H,x|=z;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;H=A,A=H.next,H.next=null,p.lastBaseUpdate=H,p.shared.pending=null}}while(!0);B===null&&(b=X),p.baseState=b,p.firstBaseUpdate=P,p.lastBaseUpdate=B,v===null&&(p.shared.lanes=0),ci|=x,n.lanes=x,n.memoizedState=X}}function fm(n,o){if(typeof n!="function")throw Error(s(191,n));n.call(o)}function dm(n,o){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)fm(a[n],o)}var bo=R(null),tr=R(0);function hm(n,o){n=Bn,ee(tr,n),ee(bo,o),Bn=n|o.baseLanes}function Ru(){ee(tr,Bn),ee(bo,bo.current)}function Du(){Bn=tr.current,J(bo),J(tr)}var Bt=R(null),en=null;function ai(n){var o=n.alternate;ee(et,et.current&1),ee(Bt,n),en===null&&(o===null||bo.current!==null||o.memoizedState!==null)&&(en=n)}function Iu(n){ee(et,et.current),ee(Bt,n),en===null&&(en=n)}function mm(n){n.tag===22?(ee(et,et.current),ee(Bt,n),en===null&&(en=n)):ri()}function ri(){ee(et,et.current),ee(Bt,Bt.current)}function qt(n){J(Bt),en===n&&(en=null),J(et)}var et=R(0);function nr(n){for(var o=n;o!==null;){if(o.tag===13){var a=o.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||zc(a)||Gc(a)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var kn=0,xe=null,ze=null,it=null,ir=!1,Mo=!1,Gi=!1,or=0,Us=0,No=null,UE=0;function $e(){throw Error(s(321))}function ku(n,o){if(o===null)return!1;for(var a=0;a<o.length&&a<n.length;a++)if(!Gt(n[a],o[a]))return!1;return!0}function Uu(n,o,a,l,p,v){return kn=v,xe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,k.H=n===null||n.memoizedState===null?Zm:Qu,Gi=!1,v=a(l,p),Gi=!1,Mo&&(v=gm(o,a,l,p)),pm(n),v}function pm(n){k.H=Ps;var o=ze!==null&&ze.next!==null;if(kn=0,it=ze=xe=null,ir=!1,Us=0,No=null,o)throw Error(s(300));n===null||ot||(n=n.dependencies,n!==null&&Xa(n)&&(ot=!0))}function gm(n,o,a,l){xe=n;var p=0;do{if(Mo&&(No=null),Us=0,Mo=!1,25<=p)throw Error(s(301));if(p+=1,it=ze=null,n.updateQueue!=null){var v=n.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}k.H=Wm,v=o(a,l)}while(Mo);return v}function VE(){var n=k.H,o=n.useState()[0];return o=typeof o.then=="function"?Vs(o):o,n=n.useState()[0],(ze!==null?ze.memoizedState:null)!==n&&(xe.flags|=1024),o}function Vu(){var n=or!==0;return or=0,n}function Lu(n,o,a){o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~a}function Pu(n){if(ir){for(n=n.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}ir=!1}kn=0,it=ze=xe=null,Mo=!1,Us=or=0,No=null}function bt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?xe.memoizedState=it=n:it=it.next=n,it}function tt(){if(ze===null){var n=xe.alternate;n=n!==null?n.memoizedState:null}else n=ze.next;var o=it===null?xe.memoizedState:it.next;if(o!==null)it=o,ze=n;else{if(n===null)throw xe.alternate===null?Error(s(467)):Error(s(310));ze=n,n={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},it===null?xe.memoizedState=it=n:it=it.next=n}return it}function sr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vs(n){var o=Us;return Us+=1,No===null&&(No=[]),n=am(No,n,o),o=xe,(it===null?o.memoizedState:it.next)===null&&(o=o.alternate,k.H=o===null||o.memoizedState===null?Zm:Qu),n}function ar(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Vs(n);if(n.$$typeof===I)return pt(n)}throw Error(s(438,String(n)))}function zu(n){var o=null,a=xe.updateQueue;if(a!==null&&(o=a.memoCache),o==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(o={data:l.data.map(function(p){return p.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),a===null&&(a=sr(),xe.updateQueue=a),a.memoCache=o,a=o.data[o.index],a===void 0)for(a=o.data[o.index]=Array(n),l=0;l<n;l++)a[l]=ne;return o.index++,a}function Un(n,o){return typeof o=="function"?o(n):o}function rr(n){var o=tt();return Gu(o,ze,n)}function Gu(n,o,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var p=n.baseQueue,v=l.pending;if(v!==null){if(p!==null){var x=p.next;p.next=v.next,v.next=x}o.baseQueue=p=v,l.pending=null}if(v=n.baseState,p===null)n.memoizedState=v;else{o=p.next;var A=x=null,b=null,P=o,B=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(Ne&X)===X:(kn&X)===X){var z=P.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===Eo&&(B=!0);else if((kn&z)===z){P=P.next,z===Eo&&(B=!0);continue}else X={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(A=b=X,x=v):b=b.next=X,xe.lanes|=z,ci|=z;X=P.action,Gi&&a(v,X),v=P.hasEagerState?P.eagerState:a(v,X)}else z={lane:X,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(A=b=z,x=v):b=b.next=z,xe.lanes|=X,ci|=X;P=P.next}while(P!==null&&P!==o);if(b===null?x=v:b.next=A,!Gt(v,n.memoizedState)&&(ot=!0,B&&(a=Co,a!==null)))throw a;n.memoizedState=v,n.baseState=x,n.baseQueue=b,l.lastRenderedState=v}return p===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Hu(n){var o=tt(),a=o.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,p=a.pending,v=o.memoizedState;if(p!==null){a.pending=null;var x=p=p.next;do v=n(v,x.action),x=x.next;while(x!==p);Gt(v,o.memoizedState)||(ot=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),a.lastRenderedState=v}return[v,l]}function ym(n,o,a){var l=xe,p=tt(),v=Re;if(v){if(a===void 0)throw Error(s(407));a=a()}else a=o();var x=!Gt((ze||p).memoizedState,a);if(x&&(p.memoizedState=a,ot=!0),p=p.queue,Ou(Sm.bind(null,l,p,n),[n]),p.getSnapshot!==o||x||it!==null&&it.memoizedState.tag&1){if(l.flags|=2048,wo(9,{destroy:void 0},Tm.bind(null,l,p,a,o),null),Be===null)throw Error(s(349));v||(kn&127)!==0||vm(l,o,a)}return a}function vm(n,o,a){n.flags|=16384,n={getSnapshot:o,value:a},o=xe.updateQueue,o===null?(o=sr(),xe.updateQueue=o,o.stores=[n]):(a=o.stores,a===null?o.stores=[n]:a.push(n))}function Tm(n,o,a,l){o.value=a,o.getSnapshot=l,xm(o)&&Em(n)}function Sm(n,o,a){return a(function(){xm(o)&&Em(n)})}function xm(n){var o=n.getSnapshot;n=n.value;try{var a=o();return!Gt(n,a)}catch{return!0}}function Em(n){var o=Ri(n,2);o!==null&&Pt(o,n,2)}function Bu(n){var o=bt();if(typeof n=="function"){var a=n;if(n=a(),Gi){un(!0);try{a()}finally{un(!1)}}}return o.memoizedState=o.baseState=n,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:n},o}function Cm(n,o,a,l){return n.baseState=a,Gu(n,ze,typeof l=="function"?l:Un)}function LE(n,o,a,l,p){if(cr(n))throw Error(s(485));if(n=o.action,n!==null){var v={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){v.listeners.push(x)}};k.T!==null?a(!0):v.isTransition=!1,l(v),a=o.pending,a===null?(v.next=o.pending=v,Am(o,v)):(v.next=a.next,o.pending=a.next=v)}}function Am(n,o){var a=o.action,l=o.payload,p=n.state;if(o.isTransition){var v=k.T,x={};k.T=x;try{var A=a(p,l),b=k.S;b!==null&&b(x,A),_m(n,o,A)}catch(P){qu(n,o,P)}finally{v!==null&&x.types!==null&&(v.types=x.types),k.T=v}}else try{v=a(p,l),_m(n,o,v)}catch(P){qu(n,o,P)}}function _m(n,o,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){bm(n,o,l)},function(l){return qu(n,o,l)}):bm(n,o,a)}function bm(n,o,a){o.status="fulfilled",o.value=a,Mm(o),n.state=a,o=n.pending,o!==null&&(a=o.next,a===o?n.pending=null:(a=a.next,o.next=a,Am(n,a)))}function qu(n,o,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do o.status="rejected",o.reason=a,Mm(o),o=o.next;while(o!==l)}n.action=null}function Mm(n){n=n.listeners;for(var o=0;o<n.length;o++)(0,n[o])()}function Nm(n,o){return o}function wm(n,o){if(Re){var a=Be.formState;if(a!==null){e:{var l=xe;if(Re){if(Fe){t:{for(var p=Fe,v=jt;p.nodeType!==8;){if(!v){p=null;break t}if(p=tn(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Fe=tn(p.nextSibling),l=p.data==="F!";break e}}ti(l)}l=!1}l&&(o=a[0])}}return a=bt(),a.memoizedState=a.baseState=o,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nm,lastRenderedState:o},a.queue=l,a=Xm.bind(null,xe,l),l.dispatch=a,l=Bu(!1),v=Xu.bind(null,xe,!1,l.queue),l=bt(),p={state:o,dispatch:null,action:n,pending:null},l.queue=p,a=LE.bind(null,xe,p,v,a),p.dispatch=a,l.memoizedState=n,[o,a,!1]}function Rm(n){var o=tt();return Dm(o,ze,n)}function Dm(n,o,a){if(o=Gu(n,o,Nm)[0],n=rr(Un)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var l=Vs(o)}catch(x){throw x===Ao?Za:x}else l=o;o=tt();var p=o.queue,v=p.dispatch;return a!==o.memoizedState&&(xe.flags|=2048,wo(9,{destroy:void 0},PE.bind(null,p,a),null)),[l,v,n]}function PE(n,o){n.action=o}function Im(n){var o=tt(),a=ze;if(a!==null)return Dm(o,a,n);tt(),o=o.memoizedState,a=tt();var l=a.queue.dispatch;return a.memoizedState=n,[o,l,!1]}function wo(n,o,a,l){return n={tag:n,create:a,deps:l,inst:o,next:null},o=xe.updateQueue,o===null&&(o=sr(),xe.updateQueue=o),a=o.lastEffect,a===null?o.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,o.lastEffect=n),n}function km(){return tt().memoizedState}function lr(n,o,a,l){var p=bt();xe.flags|=n,p.memoizedState=wo(1|o,{destroy:void 0},a,l===void 0?null:l)}function ur(n,o,a,l){var p=tt();l=l===void 0?null:l;var v=p.memoizedState.inst;ze!==null&&l!==null&&ku(l,ze.memoizedState.deps)?p.memoizedState=wo(o,v,a,l):(xe.flags|=n,p.memoizedState=wo(1|o,v,a,l))}function Um(n,o){lr(8390656,8,n,o)}function Ou(n,o){ur(2048,8,n,o)}function zE(n){xe.flags|=4;var o=xe.updateQueue;if(o===null)o=sr(),xe.updateQueue=o,o.events=[n];else{var a=o.events;a===null?o.events=[n]:a.push(n)}}function Vm(n){var o=tt().memoizedState;return zE({ref:o,nextImpl:n}),function(){if((Ve&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}function Lm(n,o){return ur(4,2,n,o)}function Pm(n,o){return ur(4,4,n,o)}function zm(n,o){if(typeof o=="function"){n=n();var a=o(n);return function(){typeof a=="function"?a():o(null)}}if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function Gm(n,o,a){a=a!=null?a.concat([n]):null,ur(4,4,zm.bind(null,o,n),a)}function Fu(){}function Hm(n,o){var a=tt();o=o===void 0?null:o;var l=a.memoizedState;return o!==null&&ku(o,l[1])?l[0]:(a.memoizedState=[n,o],n)}function Bm(n,o){var a=tt();o=o===void 0?null:o;var l=a.memoizedState;if(o!==null&&ku(o,l[1]))return l[0];if(l=n(),Gi){un(!0);try{n()}finally{un(!1)}}return a.memoizedState=[l,o],l}function Yu(n,o,a){return a===void 0||(kn&1073741824)!==0&&(Ne&261930)===0?n.memoizedState=o:(n.memoizedState=a,n=qp(),xe.lanes|=n,ci|=n,a)}function qm(n,o,a,l){return Gt(a,o)?a:bo.current!==null?(n=Yu(n,a,l),Gt(n,o)||(ot=!0),n):(kn&42)===0||(kn&1073741824)!==0&&(Ne&261930)===0?(ot=!0,n.memoizedState=a):(n=qp(),xe.lanes|=n,ci|=n,o)}function Om(n,o,a,l,p){var v=V.p;V.p=v!==0&&8>v?v:8;var x=k.T,A={};k.T=A,Xu(n,!1,o,a);try{var b=p(),P=k.S;if(P!==null&&P(A,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var B=kE(b,l);Ls(n,o,B,Yt(n))}else Ls(n,o,l,Yt(n))}catch(X){Ls(n,o,{then:function(){},status:"rejected",reason:X},Yt())}finally{V.p=v,x!==null&&A.types!==null&&(x.types=A.types),k.T=x}}function GE(){}function Ju(n,o,a,l){if(n.tag!==5)throw Error(s(476));var p=Fm(n).queue;Om(n,p,o,W,a===null?GE:function(){return Ym(n),a(l)})}function Fm(n){var o=n.memoizedState;if(o!==null)return o;o={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:W},next:null};var a={};return o.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:a},next:null},n.memoizedState=o,n=n.alternate,n!==null&&(n.memoizedState=o),o}function Ym(n){var o=Fm(n);o.next===null&&(o=n.alternate.memoizedState),Ls(n,o.next.queue,{},Yt())}function Ku(){return pt(js)}function Jm(){return tt().memoizedState}function Km(){return tt().memoizedState}function HE(n){for(var o=n.return;o!==null;){switch(o.tag){case 24:case 3:var a=Yt();n=oi(a);var l=si(o,n,a);l!==null&&(Pt(l,o,a),Ds(l,o,a)),o={cache:Eu()},n.payload=o;return}o=o.return}}function BE(n,o,a){var l=Yt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},cr(n)?Qm(o,a):(a=fu(n,o,a,l),a!==null&&(Pt(a,n,l),$m(a,o,l)))}function Xm(n,o,a){var l=Yt();Ls(n,o,a,l)}function Ls(n,o,a,l){var p={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(cr(n))Qm(o,p);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var x=o.lastRenderedState,A=v(x,a);if(p.hasEagerState=!0,p.eagerState=A,Gt(A,x))return Fa(n,o,p,0),Be===null&&Oa(),!1}catch{}finally{}if(a=fu(n,o,p,l),a!==null)return Pt(a,n,l),$m(a,o,l),!0}return!1}function Xu(n,o,a,l){if(l={lane:2,revertLane:bc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},cr(n)){if(o)throw Error(s(479))}else o=fu(n,a,l,2),o!==null&&Pt(o,n,2)}function cr(n){var o=n.alternate;return n===xe||o!==null&&o===xe}function Qm(n,o){Mo=ir=!0;var a=n.pending;a===null?o.next=o:(o.next=a.next,a.next=o),n.pending=o}function $m(n,o,a){if((a&4194048)!==0){var l=o.lanes;l&=n.pendingLanes,a|=l,o.lanes=a,th(n,a)}}var Ps={readContext:pt,use:ar,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useLayoutEffect:$e,useInsertionEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useSyncExternalStore:$e,useId:$e,useHostTransitionStatus:$e,useFormState:$e,useActionState:$e,useOptimistic:$e,useMemoCache:$e,useCacheRefresh:$e};Ps.useEffectEvent=$e;var Zm={readContext:pt,use:ar,useCallback:function(n,o){return bt().memoizedState=[n,o===void 0?null:o],n},useContext:pt,useEffect:Um,useImperativeHandle:function(n,o,a){a=a!=null?a.concat([n]):null,lr(4194308,4,zm.bind(null,o,n),a)},useLayoutEffect:function(n,o){return lr(4194308,4,n,o)},useInsertionEffect:function(n,o){lr(4,2,n,o)},useMemo:function(n,o){var a=bt();o=o===void 0?null:o;var l=n();if(Gi){un(!0);try{n()}finally{un(!1)}}return a.memoizedState=[l,o],l},useReducer:function(n,o,a){var l=bt();if(a!==void 0){var p=a(o);if(Gi){un(!0);try{a(o)}finally{un(!1)}}}else p=o;return l.memoizedState=l.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},l.queue=n,n=n.dispatch=BE.bind(null,xe,n),[l.memoizedState,n]},useRef:function(n){var o=bt();return n={current:n},o.memoizedState=n},useState:function(n){n=Bu(n);var o=n.queue,a=Xm.bind(null,xe,o);return o.dispatch=a,[n.memoizedState,a]},useDebugValue:Fu,useDeferredValue:function(n,o){var a=bt();return Yu(a,n,o)},useTransition:function(){var n=Bu(!1);return n=Om.bind(null,xe,n.queue,!0,!1),bt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,o,a){var l=xe,p=bt();if(Re){if(a===void 0)throw Error(s(407));a=a()}else{if(a=o(),Be===null)throw Error(s(349));(Ne&127)!==0||vm(l,o,a)}p.memoizedState=a;var v={value:a,getSnapshot:o};return p.queue=v,Um(Sm.bind(null,l,v,n),[n]),l.flags|=2048,wo(9,{destroy:void 0},Tm.bind(null,l,v,a,o),null),a},useId:function(){var n=bt(),o=Be.identifierPrefix;if(Re){var a=Sn,l=Tn;a=(l&~(1<<32-_t(l)-1)).toString(32)+a,o="_"+o+"R_"+a,a=or++,0<a&&(o+="H"+a.toString(32)),o+="_"}else a=UE++,o="_"+o+"r_"+a.toString(32)+"_";return n.memoizedState=o},useHostTransitionStatus:Ku,useFormState:wm,useActionState:wm,useOptimistic:function(n){var o=bt();o.memoizedState=o.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=a,o=Xu.bind(null,xe,!0,a),a.dispatch=o,[n,o]},useMemoCache:zu,useCacheRefresh:function(){return bt().memoizedState=HE.bind(null,xe)},useEffectEvent:function(n){var o=bt(),a={impl:n};return o.memoizedState=a,function(){if((Ve&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Qu={readContext:pt,use:ar,useCallback:Hm,useContext:pt,useEffect:Ou,useImperativeHandle:Gm,useInsertionEffect:Lm,useLayoutEffect:Pm,useMemo:Bm,useReducer:rr,useRef:km,useState:function(){return rr(Un)},useDebugValue:Fu,useDeferredValue:function(n,o){var a=tt();return qm(a,ze.memoizedState,n,o)},useTransition:function(){var n=rr(Un)[0],o=tt().memoizedState;return[typeof n=="boolean"?n:Vs(n),o]},useSyncExternalStore:ym,useId:Jm,useHostTransitionStatus:Ku,useFormState:Rm,useActionState:Rm,useOptimistic:function(n,o){var a=tt();return Cm(a,ze,n,o)},useMemoCache:zu,useCacheRefresh:Km};Qu.useEffectEvent=Vm;var Wm={readContext:pt,use:ar,useCallback:Hm,useContext:pt,useEffect:Ou,useImperativeHandle:Gm,useInsertionEffect:Lm,useLayoutEffect:Pm,useMemo:Bm,useReducer:Hu,useRef:km,useState:function(){return Hu(Un)},useDebugValue:Fu,useDeferredValue:function(n,o){var a=tt();return ze===null?Yu(a,n,o):qm(a,ze.memoizedState,n,o)},useTransition:function(){var n=Hu(Un)[0],o=tt().memoizedState;return[typeof n=="boolean"?n:Vs(n),o]},useSyncExternalStore:ym,useId:Jm,useHostTransitionStatus:Ku,useFormState:Im,useActionState:Im,useOptimistic:function(n,o){var a=tt();return ze!==null?Cm(a,ze,n,o):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:zu,useCacheRefresh:Km};Wm.useEffectEvent=Vm;function $u(n,o,a,l){o=n.memoizedState,a=a(l,o),a=a==null?o:T({},o,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Zu={enqueueSetState:function(n,o,a){n=n._reactInternals;var l=Yt(),p=oi(l);p.payload=o,a!=null&&(p.callback=a),o=si(n,p,l),o!==null&&(Pt(o,n,l),Ds(o,n,l))},enqueueReplaceState:function(n,o,a){n=n._reactInternals;var l=Yt(),p=oi(l);p.tag=1,p.payload=o,a!=null&&(p.callback=a),o=si(n,p,l),o!==null&&(Pt(o,n,l),Ds(o,n,l))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var a=Yt(),l=oi(a);l.tag=2,o!=null&&(l.callback=o),o=si(n,l,a),o!==null&&(Pt(o,n,a),Ds(o,n,a))}};function jm(n,o,a,l,p,v,x){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,v,x):o.prototype&&o.prototype.isPureReactComponent?!Cs(a,l)||!Cs(p,v):!0}function ep(n,o,a,l){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(a,l),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(a,l),o.state!==n&&Zu.enqueueReplaceState(o,o.state,null)}function Hi(n,o){var a=o;if("ref"in o){a={};for(var l in o)l!=="ref"&&(a[l]=o[l])}if(n=n.defaultProps){a===o&&(a=T({},a));for(var p in n)a[p]===void 0&&(a[p]=n[p])}return a}function tp(n){qa(n)}function np(n){console.error(n)}function ip(n){qa(n)}function fr(n,o){try{var a=n.onUncaughtError;a(o.value,{componentStack:o.stack})}catch(l){setTimeout(function(){throw l})}}function op(n,o,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Wu(n,o,a){return a=oi(a),a.tag=3,a.payload={element:null},a.callback=function(){fr(n,o)},a}function sp(n){return n=oi(n),n.tag=3,n}function ap(n,o,a,l){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var v=l.value;n.payload=function(){return p(v)},n.callback=function(){op(o,a,l)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(n.callback=function(){op(o,a,l),typeof p!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function qE(n,o,a,l,p){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(o=a.alternate,o!==null&&xo(o,a,p,!0),a=Bt.current,a!==null){switch(a.tag){case 31:case 13:return en===null?Cr():a.alternate===null&&Ze===0&&(Ze=3),a.flags&=-257,a.flags|=65536,a.lanes=p,l===Wa?a.flags|=16384:(o=a.updateQueue,o===null?a.updateQueue=new Set([l]):o.add(l),Cc(n,l,p)),!1;case 22:return a.flags|=65536,l===Wa?a.flags|=16384:(o=a.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=o):(a=o.retryQueue,a===null?o.retryQueue=new Set([l]):a.add(l)),Cc(n,l,p)),!1}throw Error(s(435,a.tag))}return Cc(n,l,p),Cr(),!1}if(Re)return o=Bt.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=p,l!==yu&&(n=Error(s(422),{cause:l}),bs($t(n,a)))):(l!==yu&&(o=Error(s(423),{cause:l}),bs($t(o,a))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,l=$t(l,a),p=Wu(n.stateNode,l,p),Nu(n,p),Ze!==4&&(Ze=2)),!1;var v=Error(s(520),{cause:l});if(v=$t(v,a),Ys===null?Ys=[v]:Ys.push(v),Ze!==4&&(Ze=2),o===null)return!0;l=$t(l,a),a=o;do{switch(a.tag){case 3:return a.flags|=65536,n=p&-p,a.lanes|=n,n=Wu(a.stateNode,l,n),Nu(a,n),!1;case 1:if(o=a.type,v=a.stateNode,(a.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(fi===null||!fi.has(v))))return a.flags|=65536,p&=-p,a.lanes|=p,p=sp(p),ap(p,n,a,l),Nu(a,p),!1}a=a.return}while(a!==null);return!1}var ju=Error(s(461)),ot=!1;function gt(n,o,a,l){o.child=n===null?cm(o,null,a,l):zi(o,n.child,a,l)}function rp(n,o,a,l,p){a=a.render;var v=o.ref;if("ref"in l){var x={};for(var A in l)A!=="ref"&&(x[A]=l[A])}else x=l;return Ui(o),l=Uu(n,o,a,x,v,p),A=Vu(),n!==null&&!ot?(Lu(n,o,p),Vn(n,o,p)):(Re&&A&&pu(o),o.flags|=1,gt(n,o,l,p),o.child)}function lp(n,o,a,l,p){if(n===null){var v=a.type;return typeof v=="function"&&!du(v)&&v.defaultProps===void 0&&a.compare===null?(o.tag=15,o.type=v,up(n,o,v,l,p)):(n=Ja(a.type,null,l,o,o.mode,p),n.ref=o.ref,n.return=o,o.child=n)}if(v=n.child,!rc(n,p)){var x=v.memoizedProps;if(a=a.compare,a=a!==null?a:Cs,a(x,l)&&n.ref===o.ref)return Vn(n,o,p)}return o.flags|=1,n=wn(v,l),n.ref=o.ref,n.return=o,o.child=n}function up(n,o,a,l,p){if(n!==null){var v=n.memoizedProps;if(Cs(v,l)&&n.ref===o.ref)if(ot=!1,o.pendingProps=l=v,rc(n,p))(n.flags&131072)!==0&&(ot=!0);else return o.lanes=n.lanes,Vn(n,o,p)}return ec(n,o,a,l,p)}function cp(n,o,a,l){var p=l.children,v=n!==null?n.memoizedState:null;if(n===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((o.flags&128)!==0){if(v=v!==null?v.baseLanes|a:a,n!==null){for(l=o.child=n.child,p=0;l!==null;)p=p|l.lanes|l.childLanes,l=l.sibling;l=p&~v}else l=0,o.child=null;return fp(n,o,v,a,l)}if((a&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},n!==null&&$a(o,v!==null?v.cachePool:null),v!==null?hm(o,v):Ru(),mm(o);else return l=o.lanes=536870912,fp(n,o,v!==null?v.baseLanes|a:a,a,l)}else v!==null?($a(o,v.cachePool),hm(o,v),ri(),o.memoizedState=null):(n!==null&&$a(o,null),Ru(),ri());return gt(n,o,p,a),o.child}function zs(n,o){return n!==null&&n.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function fp(n,o,a,l,p){var v=Au();return v=v===null?null:{parent:nt._currentValue,pool:v},o.memoizedState={baseLanes:a,cachePool:v},n!==null&&$a(o,null),Ru(),mm(o),n!==null&&xo(n,o,l,!0),o.childLanes=p,null}function dr(n,o){return o=mr({mode:o.mode,children:o.children},n.mode),o.ref=n.ref,n.child=o,o.return=n,o}function dp(n,o,a){return zi(o,n.child,null,a),n=dr(o,o.pendingProps),n.flags|=2,qt(o),o.memoizedState=null,n}function OE(n,o,a){var l=o.pendingProps,p=(o.flags&128)!==0;if(o.flags&=-129,n===null){if(Re){if(l.mode==="hidden")return n=dr(o,l),o.lanes=536870912,zs(null,n);if(Iu(o),(n=Fe)?(n=Ag(n,jt),n=n!==null&&n.data==="&"?n:null,n!==null&&(o.memoizedState={dehydrated:n,treeContext:jn!==null?{id:Tn,overflow:Sn}:null,retryLane:536870912,hydrationErrors:null},a=Qh(n),a.return=o,o.child=a,mt=o,Fe=null)):n=null,n===null)throw ti(o);return o.lanes=536870912,null}return dr(o,l)}var v=n.memoizedState;if(v!==null){var x=v.dehydrated;if(Iu(o),p)if(o.flags&256)o.flags&=-257,o=dp(n,o,a);else if(o.memoizedState!==null)o.child=n.child,o.flags|=128,o=null;else throw Error(s(558));else if(ot||xo(n,o,a,!1),p=(a&n.childLanes)!==0,ot||p){if(l=Be,l!==null&&(x=nh(l,a),x!==0&&x!==v.retryLane))throw v.retryLane=x,Ri(n,x),Pt(l,n,x),ju;Cr(),o=dp(n,o,a)}else n=v.treeContext,Fe=tn(x.nextSibling),mt=o,Re=!0,ei=null,jt=!1,n!==null&&Wh(o,n),o=dr(o,l),o.flags|=4096;return o}return n=wn(n.child,{mode:l.mode,children:l.children}),n.ref=o.ref,o.child=n,n.return=o,n}function hr(n,o){var a=o.ref;if(a===null)n!==null&&n.ref!==null&&(o.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(o.flags|=4194816)}}function ec(n,o,a,l,p){return Ui(o),a=Uu(n,o,a,l,void 0,p),l=Vu(),n!==null&&!ot?(Lu(n,o,p),Vn(n,o,p)):(Re&&l&&pu(o),o.flags|=1,gt(n,o,a,p),o.child)}function hp(n,o,a,l,p,v){return Ui(o),o.updateQueue=null,a=gm(o,l,a,p),pm(n),l=Vu(),n!==null&&!ot?(Lu(n,o,v),Vn(n,o,v)):(Re&&l&&pu(o),o.flags|=1,gt(n,o,a,v),o.child)}function mp(n,o,a,l,p){if(Ui(o),o.stateNode===null){var v=yo,x=a.contextType;typeof x=="object"&&x!==null&&(v=pt(x)),v=new a(l,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Zu,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=l,v.state=o.memoizedState,v.refs={},bu(o),x=a.contextType,v.context=typeof x=="object"&&x!==null?pt(x):yo,v.state=o.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&($u(o,a,x,l),v.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(x=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),x!==v.state&&Zu.enqueueReplaceState(v,v.state,null),ks(o,l,v,p),Is(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),l=!0}else if(n===null){v=o.stateNode;var A=o.memoizedProps,b=Hi(a,A);v.props=b;var P=v.context,B=a.contextType;x=yo,typeof B=="object"&&B!==null&&(x=pt(B));var X=a.getDerivedStateFromProps;B=typeof X=="function"||typeof v.getSnapshotBeforeUpdate=="function",A=o.pendingProps!==A,B||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A||P!==x)&&ep(o,v,l,x),ii=!1;var z=o.memoizedState;v.state=z,ks(o,l,v,p),Is(),P=o.memoizedState,A||z!==P||ii?(typeof X=="function"&&($u(o,a,X,l),P=o.memoizedState),(b=ii||jm(o,a,b,l,z,P,x))?(B||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=l,o.memoizedState=P),v.props=l,v.state=P,v.context=x,l=b):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),l=!1)}else{v=o.stateNode,Mu(n,o),x=o.memoizedProps,B=Hi(a,x),v.props=B,X=o.pendingProps,z=v.context,P=a.contextType,b=yo,typeof P=="object"&&P!==null&&(b=pt(P)),A=a.getDerivedStateFromProps,(P=typeof A=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(x!==X||z!==b)&&ep(o,v,l,b),ii=!1,z=o.memoizedState,v.state=z,ks(o,l,v,p),Is();var H=o.memoizedState;x!==X||z!==H||ii||n!==null&&n.dependencies!==null&&Xa(n.dependencies)?(typeof A=="function"&&($u(o,a,A,l),H=o.memoizedState),(B=ii||jm(o,a,B,l,z,H,b)||n!==null&&n.dependencies!==null&&Xa(n.dependencies))?(P||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(l,H,b),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(l,H,b)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||x===n.memoizedProps&&z===n.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||x===n.memoizedProps&&z===n.memoizedState||(o.flags|=1024),o.memoizedProps=l,o.memoizedState=H),v.props=l,v.state=H,v.context=b,l=B):(typeof v.componentDidUpdate!="function"||x===n.memoizedProps&&z===n.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||x===n.memoizedProps&&z===n.memoizedState||(o.flags|=1024),l=!1)}return v=l,hr(n,o),l=(o.flags&128)!==0,v||l?(v=o.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,n!==null&&l?(o.child=zi(o,n.child,null,p),o.child=zi(o,null,a,p)):gt(n,o,a,p),o.memoizedState=v.state,n=o.child):n=Vn(n,o,p),n}function pp(n,o,a,l){return Ii(),o.flags|=256,gt(n,o,a,l),o.child}var tc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nc(n){return{baseLanes:n,cachePool:om()}}function ic(n,o,a){return n=n!==null?n.childLanes&~a:0,o&&(n|=Ft),n}function gp(n,o,a){var l=o.pendingProps,p=!1,v=(o.flags&128)!==0,x;if((x=v)||(x=n!==null&&n.memoizedState===null?!1:(et.current&2)!==0),x&&(p=!0,o.flags&=-129),x=(o.flags&32)!==0,o.flags&=-33,n===null){if(Re){if(p?ai(o):ri(),(n=Fe)?(n=Ag(n,jt),n=n!==null&&n.data!=="&"?n:null,n!==null&&(o.memoizedState={dehydrated:n,treeContext:jn!==null?{id:Tn,overflow:Sn}:null,retryLane:536870912,hydrationErrors:null},a=Qh(n),a.return=o,o.child=a,mt=o,Fe=null)):n=null,n===null)throw ti(o);return Gc(n)?o.lanes=32:o.lanes=536870912,null}var A=l.children;return l=l.fallback,p?(ri(),p=o.mode,A=mr({mode:"hidden",children:A},p),l=Di(l,p,a,null),A.return=o,l.return=o,A.sibling=l,o.child=A,l=o.child,l.memoizedState=nc(a),l.childLanes=ic(n,x,a),o.memoizedState=tc,zs(null,l)):(ai(o),oc(o,A))}var b=n.memoizedState;if(b!==null&&(A=b.dehydrated,A!==null)){if(v)o.flags&256?(ai(o),o.flags&=-257,o=sc(n,o,a)):o.memoizedState!==null?(ri(),o.child=n.child,o.flags|=128,o=null):(ri(),A=l.fallback,p=o.mode,l=mr({mode:"visible",children:l.children},p),A=Di(A,p,a,null),A.flags|=2,l.return=o,A.return=o,l.sibling=A,o.child=l,zi(o,n.child,null,a),l=o.child,l.memoizedState=nc(a),l.childLanes=ic(n,x,a),o.memoizedState=tc,o=zs(null,l));else if(ai(o),Gc(A)){if(x=A.nextSibling&&A.nextSibling.dataset,x)var P=x.dgst;x=P,l=Error(s(419)),l.stack="",l.digest=x,bs({value:l,source:null,stack:null}),o=sc(n,o,a)}else if(ot||xo(n,o,a,!1),x=(a&n.childLanes)!==0,ot||x){if(x=Be,x!==null&&(l=nh(x,a),l!==0&&l!==b.retryLane))throw b.retryLane=l,Ri(n,l),Pt(x,n,l),ju;zc(A)||Cr(),o=sc(n,o,a)}else zc(A)?(o.flags|=192,o.child=n.child,o=null):(n=b.treeContext,Fe=tn(A.nextSibling),mt=o,Re=!0,ei=null,jt=!1,n!==null&&Wh(o,n),o=oc(o,l.children),o.flags|=4096);return o}return p?(ri(),A=l.fallback,p=o.mode,b=n.child,P=b.sibling,l=wn(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?A=wn(P,A):(A=Di(A,p,a,null),A.flags|=2),A.return=o,l.return=o,l.sibling=A,o.child=l,zs(null,l),l=o.child,A=n.child.memoizedState,A===null?A=nc(a):(p=A.cachePool,p!==null?(b=nt._currentValue,p=p.parent!==b?{parent:b,pool:b}:p):p=om(),A={baseLanes:A.baseLanes|a,cachePool:p}),l.memoizedState=A,l.childLanes=ic(n,x,a),o.memoizedState=tc,zs(n.child,l)):(ai(o),a=n.child,n=a.sibling,a=wn(a,{mode:"visible",children:l.children}),a.return=o,a.sibling=null,n!==null&&(x=o.deletions,x===null?(o.deletions=[n],o.flags|=16):x.push(n)),o.child=a,o.memoizedState=null,a)}function oc(n,o){return o=mr({mode:"visible",children:o},n.mode),o.return=n,n.child=o}function mr(n,o){return n=Ht(22,n,null,o),n.lanes=0,n}function sc(n,o,a){return zi(o,n.child,null,a),n=oc(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function yp(n,o,a){n.lanes|=o;var l=n.alternate;l!==null&&(l.lanes|=o),Su(n.return,o,a)}function ac(n,o,a,l,p,v){var x=n.memoizedState;x===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:p,treeForkCount:v}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=l,x.tail=a,x.tailMode=p,x.treeForkCount=v)}function vp(n,o,a){var l=o.pendingProps,p=l.revealOrder,v=l.tail;l=l.children;var x=et.current,A=(x&2)!==0;if(A?(x=x&1|2,o.flags|=128):x&=1,ee(et,x),gt(n,o,l,a),l=Re?_s:0,!A&&n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&yp(n,a,o);else if(n.tag===19)yp(n,a,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(p){case"forwards":for(a=o.child,p=null;a!==null;)n=a.alternate,n!==null&&nr(n)===null&&(p=a),a=a.sibling;a=p,a===null?(p=o.child,o.child=null):(p=a.sibling,a.sibling=null),ac(o,!1,p,a,v,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,p=o.child,o.child=null;p!==null;){if(n=p.alternate,n!==null&&nr(n)===null){o.child=p;break}n=p.sibling,p.sibling=a,a=p,p=n}ac(o,!0,a,null,v,l);break;case"together":ac(o,!1,null,null,void 0,l);break;default:o.memoizedState=null}return o.child}function Vn(n,o,a){if(n!==null&&(o.dependencies=n.dependencies),ci|=o.lanes,(a&o.childLanes)===0)if(n!==null){if(xo(n,o,a,!1),(a&o.childLanes)===0)return null}else return null;if(n!==null&&o.child!==n.child)throw Error(s(153));if(o.child!==null){for(n=o.child,a=wn(n,n.pendingProps),o.child=a,a.return=o;n.sibling!==null;)n=n.sibling,a=a.sibling=wn(n,n.pendingProps),a.return=o;a.sibling=null}return o.child}function rc(n,o){return(n.lanes&o)!==0?!0:(n=n.dependencies,!!(n!==null&&Xa(n)))}function FE(n,o,a){switch(o.tag){case 3:Xe(o,o.stateNode.containerInfo),ni(o,nt,n.memoizedState.cache),Ii();break;case 27:case 5:$n(o);break;case 4:Xe(o,o.stateNode.containerInfo);break;case 10:ni(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Iu(o),null;break;case 13:var l=o.memoizedState;if(l!==null)return l.dehydrated!==null?(ai(o),o.flags|=128,null):(a&o.child.childLanes)!==0?gp(n,o,a):(ai(o),n=Vn(n,o,a),n!==null?n.sibling:null);ai(o);break;case 19:var p=(n.flags&128)!==0;if(l=(a&o.childLanes)!==0,l||(xo(n,o,a,!1),l=(a&o.childLanes)!==0),p){if(l)return vp(n,o,a);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ee(et,et.current),l)break;return null;case 22:return o.lanes=0,cp(n,o,a,o.pendingProps);case 24:ni(o,nt,n.memoizedState.cache)}return Vn(n,o,a)}function Tp(n,o,a){if(n!==null)if(n.memoizedProps!==o.pendingProps)ot=!0;else{if(!rc(n,a)&&(o.flags&128)===0)return ot=!1,FE(n,o,a);ot=(n.flags&131072)!==0}else ot=!1,Re&&(o.flags&1048576)!==0&&Zh(o,_s,o.index);switch(o.lanes=0,o.tag){case 16:e:{var l=o.pendingProps;if(n=Li(o.elementType),o.type=n,typeof n=="function")du(n)?(l=Hi(n,l),o.tag=1,o=mp(null,o,n,l,a)):(o.tag=0,o=ec(null,o,n,l,a));else{if(n!=null){var p=n.$$typeof;if(p===F){o.tag=11,o=rp(null,o,n,l,a);break e}else if(p===Q){o.tag=14,o=lp(null,o,n,l,a);break e}}throw o=Me(n)||n,Error(s(306,o,""))}}return o;case 0:return ec(n,o,o.type,o.pendingProps,a);case 1:return l=o.type,p=Hi(l,o.pendingProps),mp(n,o,l,p,a);case 3:e:{if(Xe(o,o.stateNode.containerInfo),n===null)throw Error(s(387));l=o.pendingProps;var v=o.memoizedState;p=v.element,Mu(n,o),ks(o,l,null,a);var x=o.memoizedState;if(l=x.cache,ni(o,nt,l),l!==v.cache&&xu(o,[nt],a,!0),Is(),l=x.element,v.isDehydrated)if(v={element:l,isDehydrated:!1,cache:x.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=pp(n,o,l,a);break e}else if(l!==p){p=$t(Error(s(424)),o),bs(p),o=pp(n,o,l,a);break e}else{switch(n=o.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Fe=tn(n.firstChild),mt=o,Re=!0,ei=null,jt=!0,a=cm(o,null,l,a),o.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ii(),l===p){o=Vn(n,o,a);break e}gt(n,o,l,a)}o=o.child}return o;case 26:return hr(n,o),n===null?(a=Rg(o.type,null,o.pendingProps,null))?o.memoizedState=a:Re||(a=o.type,n=o.pendingProps,l=Rr(Se.current).createElement(a),l[ht]=o,l[Dt]=n,yt(l,a,n),ct(l),o.stateNode=l):o.memoizedState=Rg(o.type,n.memoizedProps,o.pendingProps,n.memoizedState),null;case 27:return $n(o),n===null&&Re&&(l=o.stateNode=Mg(o.type,o.pendingProps,Se.current),mt=o,jt=!0,p=Fe,pi(o.type)?(Hc=p,Fe=tn(l.firstChild)):Fe=p),gt(n,o,o.pendingProps.children,a),hr(n,o),n===null&&(o.flags|=4194304),o.child;case 5:return n===null&&Re&&((p=l=Fe)&&(l=SC(l,o.type,o.pendingProps,jt),l!==null?(o.stateNode=l,mt=o,Fe=tn(l.firstChild),jt=!1,p=!0):p=!1),p||ti(o)),$n(o),p=o.type,v=o.pendingProps,x=n!==null?n.memoizedProps:null,l=v.children,Vc(p,v)?l=null:x!==null&&Vc(p,x)&&(o.flags|=32),o.memoizedState!==null&&(p=Uu(n,o,VE,null,null,a),js._currentValue=p),hr(n,o),gt(n,o,l,a),o.child;case 6:return n===null&&Re&&((n=a=Fe)&&(a=xC(a,o.pendingProps,jt),a!==null?(o.stateNode=a,mt=o,Fe=null,n=!0):n=!1),n||ti(o)),null;case 13:return gp(n,o,a);case 4:return Xe(o,o.stateNode.containerInfo),l=o.pendingProps,n===null?o.child=zi(o,null,l,a):gt(n,o,l,a),o.child;case 11:return rp(n,o,o.type,o.pendingProps,a);case 7:return gt(n,o,o.pendingProps,a),o.child;case 8:return gt(n,o,o.pendingProps.children,a),o.child;case 12:return gt(n,o,o.pendingProps.children,a),o.child;case 10:return l=o.pendingProps,ni(o,o.type,l.value),gt(n,o,l.children,a),o.child;case 9:return p=o.type._context,l=o.pendingProps.children,Ui(o),p=pt(p),l=l(p),o.flags|=1,gt(n,o,l,a),o.child;case 14:return lp(n,o,o.type,o.pendingProps,a);case 15:return up(n,o,o.type,o.pendingProps,a);case 19:return vp(n,o,a);case 31:return OE(n,o,a);case 22:return cp(n,o,a,o.pendingProps);case 24:return Ui(o),l=pt(nt),n===null?(p=Au(),p===null&&(p=Be,v=Eu(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=a),p=v),o.memoizedState={parent:l,cache:p},bu(o),ni(o,nt,p)):((n.lanes&a)!==0&&(Mu(n,o),ks(o,null,null,a),Is()),p=n.memoizedState,v=o.memoizedState,p.parent!==l?(p={parent:l,cache:l},o.memoizedState=p,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=p),ni(o,nt,l)):(l=v.cache,ni(o,nt,l),l!==p.cache&&xu(o,[nt],a,!0))),gt(n,o,o.pendingProps.children,a),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function Ln(n){n.flags|=4}function lc(n,o,a,l,p){if((o=(n.mode&32)!==0)&&(o=!1),o){if(n.flags|=16777216,(p&335544128)===p)if(n.stateNode.complete)n.flags|=8192;else if(Jp())n.flags|=8192;else throw Pi=Wa,_u}else n.flags&=-16777217}function Sp(n,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Vg(o))if(Jp())n.flags|=8192;else throw Pi=Wa,_u}function pr(n,o){o!==null&&(n.flags|=4),n.flags&16384&&(o=n.tag!==22?vn():536870912,n.lanes|=o,ko|=o)}function Gs(n,o){if(!Re)switch(n.tailMode){case"hidden":o=n.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Ye(n){var o=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(o)for(var p=n.child;p!==null;)a|=p.lanes|p.childLanes,l|=p.subtreeFlags&65011712,l|=p.flags&65011712,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)a|=p.lanes|p.childLanes,l|=p.subtreeFlags,l|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=l,n.childLanes=a,o}function YE(n,o,a){var l=o.pendingProps;switch(gu(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(o),null;case 1:return Ye(o),null;case 3:return a=o.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),In(nt),Oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(So(o)?Ln(o):n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,vu())),Ye(o),null;case 26:var p=o.type,v=o.memoizedState;return n===null?(Ln(o),v!==null?(Ye(o),Sp(o,v)):(Ye(o),lc(o,p,null,l,a))):v?v!==n.memoizedState?(Ln(o),Ye(o),Sp(o,v)):(Ye(o),o.flags&=-16777217):(n=n.memoizedProps,n!==l&&Ln(o),Ye(o),lc(o,p,n,l,a)),null;case 27:if(ji(o),a=Se.current,p=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==l&&Ln(o);else{if(!l){if(o.stateNode===null)throw Error(s(166));return Ye(o),null}n=ie.current,So(o)?jh(o):(n=Mg(p,l,a),o.stateNode=n,Ln(o))}return Ye(o),null;case 5:if(ji(o),p=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==l&&Ln(o);else{if(!l){if(o.stateNode===null)throw Error(s(166));return Ye(o),null}if(v=ie.current,So(o))jh(o);else{var x=Rr(Se.current);switch(v){case 1:v=x.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:v=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":v=x.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":v=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":v=x.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof l.is=="string"?x.createElement("select",{is:l.is}):x.createElement("select"),l.multiple?v.multiple=!0:l.size&&(v.size=l.size);break;default:v=typeof l.is=="string"?x.createElement(p,{is:l.is}):x.createElement(p)}}v[ht]=o,v[Dt]=l;e:for(x=o.child;x!==null;){if(x.tag===5||x.tag===6)v.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===o)break e;for(;x.sibling===null;){if(x.return===null||x.return===o)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}o.stateNode=v;e:switch(yt(v,p,l),p){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ln(o)}}return Ye(o),lc(o,o.type,n===null?null:n.memoizedProps,o.pendingProps,a),null;case 6:if(n&&o.stateNode!=null)n.memoizedProps!==l&&Ln(o);else{if(typeof l!="string"&&o.stateNode===null)throw Error(s(166));if(n=Se.current,So(o)){if(n=o.stateNode,a=o.memoizedProps,l=null,p=mt,p!==null)switch(p.tag){case 27:case 5:l=p.memoizedProps}n[ht]=o,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||gg(n.nodeValue,a)),n||ti(o,!0)}else n=Rr(n).createTextNode(l),n[ht]=o,o.stateNode=n}return Ye(o),null;case 31:if(a=o.memoizedState,n===null||n.memoizedState!==null){if(l=So(o),a!==null){if(n===null){if(!l)throw Error(s(318));if(n=o.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[ht]=o}else Ii(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ye(o),n=!1}else a=vu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return o.flags&256?(qt(o),o):(qt(o),null);if((o.flags&128)!==0)throw Error(s(558))}return Ye(o),null;case 13:if(l=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=So(o),l!==null&&l.dehydrated!==null){if(n===null){if(!p)throw Error(s(318));if(p=o.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[ht]=o}else Ii(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ye(o),p=!1}else p=vu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=p),p=!0;if(!p)return o.flags&256?(qt(o),o):(qt(o),null)}return qt(o),(o.flags&128)!==0?(o.lanes=a,o):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=o.child,p=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(p=l.alternate.memoizedState.cachePool.pool),v=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),v!==p&&(l.flags|=2048)),a!==n&&a&&(o.child.flags|=8192),pr(o,o.updateQueue),Ye(o),null);case 4:return Oe(),n===null&&Rc(o.stateNode.containerInfo),Ye(o),null;case 10:return In(o.type),Ye(o),null;case 19:if(J(et),l=o.memoizedState,l===null)return Ye(o),null;if(p=(o.flags&128)!==0,v=l.rendering,v===null)if(p)Gs(l,!1);else{if(Ze!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(v=nr(n),v!==null){for(o.flags|=128,Gs(l,!1),n=v.updateQueue,o.updateQueue=n,pr(o,n),o.subtreeFlags=0,n=a,a=o.child;a!==null;)Xh(a,n),a=a.sibling;return ee(et,et.current&1|2),Re&&Rn(o,l.treeForkCount),o.child}n=n.sibling}l.tail!==null&&Tt()>Sr&&(o.flags|=128,p=!0,Gs(l,!1),o.lanes=4194304)}else{if(!p)if(n=nr(v),n!==null){if(o.flags|=128,p=!0,n=n.updateQueue,o.updateQueue=n,pr(o,n),Gs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!v.alternate&&!Re)return Ye(o),null}else 2*Tt()-l.renderingStartTime>Sr&&a!==536870912&&(o.flags|=128,p=!0,Gs(l,!1),o.lanes=4194304);l.isBackwards?(v.sibling=o.child,o.child=v):(n=l.last,n!==null?n.sibling=v:o.child=v,l.last=v)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=Tt(),n.sibling=null,a=et.current,ee(et,p?a&1|2:a&1),Re&&Rn(o,l.treeForkCount),n):(Ye(o),null);case 22:case 23:return qt(o),Du(),l=o.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(o.flags|=8192):l&&(o.flags|=8192),l?(a&536870912)!==0&&(o.flags&128)===0&&(Ye(o),o.subtreeFlags&6&&(o.flags|=8192)):Ye(o),a=o.updateQueue,a!==null&&pr(o,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(l=o.memoizedState.cachePool.pool),l!==a&&(o.flags|=2048),n!==null&&J(Vi),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),o.memoizedState.cache!==a&&(o.flags|=2048),In(nt),Ye(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function JE(n,o){switch(gu(o),o.tag){case 1:return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return In(nt),Oe(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 26:case 27:case 5:return ji(o),null;case 31:if(o.memoizedState!==null){if(qt(o),o.alternate===null)throw Error(s(340));Ii()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 13:if(qt(o),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(s(340));Ii()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return J(et),null;case 4:return Oe(),null;case 10:return In(o.type),null;case 22:case 23:return qt(o),Du(),n!==null&&J(Vi),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 24:return In(nt),null;case 25:return null;default:return null}}function xp(n,o){switch(gu(o),o.tag){case 3:In(nt),Oe();break;case 26:case 27:case 5:ji(o);break;case 4:Oe();break;case 31:o.memoizedState!==null&&qt(o);break;case 13:qt(o);break;case 19:J(et);break;case 10:In(o.type);break;case 22:case 23:qt(o),Du(),n!==null&&J(Vi);break;case 24:In(nt)}}function Hs(n,o){try{var a=o.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var p=l.next;a=p;do{if((a.tag&n)===n){l=void 0;var v=a.create,x=a.inst;l=v(),x.destroy=l}a=a.next}while(a!==p)}}catch(A){Pe(o,o.return,A)}}function li(n,o,a){try{var l=o.updateQueue,p=l!==null?l.lastEffect:null;if(p!==null){var v=p.next;l=v;do{if((l.tag&n)===n){var x=l.inst,A=x.destroy;if(A!==void 0){x.destroy=void 0,p=o;var b=a,P=A;try{P()}catch(B){Pe(p,b,B)}}}l=l.next}while(l!==v)}}catch(B){Pe(o,o.return,B)}}function Ep(n){var o=n.updateQueue;if(o!==null){var a=n.stateNode;try{dm(o,a)}catch(l){Pe(n,n.return,l)}}}function Cp(n,o,a){a.props=Hi(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Pe(n,o,l)}}function Bs(n,o){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(p){Pe(n,o,p)}}function xn(n,o){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(p){Pe(n,o,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){Pe(n,o,p)}else a.current=null}function Ap(n){var o=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(p){Pe(n,n.return,p)}}function uc(n,o,a){try{var l=n.stateNode;mC(l,n.type,a,o),l[Dt]=o}catch(p){Pe(n,n.return,p)}}function _p(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&pi(n.type)||n.tag===4}function cc(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||_p(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&pi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function fc(n,o,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,o?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,o):(o=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,o.appendChild(n),a=a._reactRootContainer,a!=null||o.onclick!==null||(o.onclick=Mn));else if(l!==4&&(l===27&&pi(n.type)&&(a=n.stateNode,o=null),n=n.child,n!==null))for(fc(n,o,a),n=n.sibling;n!==null;)fc(n,o,a),n=n.sibling}function gr(n,o,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,o?a.insertBefore(n,o):a.appendChild(n);else if(l!==4&&(l===27&&pi(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(gr(n,o,a),n=n.sibling;n!==null;)gr(n,o,a),n=n.sibling}function bp(n){var o=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,p=o.attributes;p.length;)o.removeAttributeNode(p[0]);yt(o,l,a),o[ht]=n,o[Dt]=a}catch(v){Pe(n,n.return,v)}}var Pn=!1,st=!1,dc=!1,Mp=typeof WeakSet=="function"?WeakSet:Set,ft=null;function KE(n,o){if(n=n.containerInfo,kc=Pr,n=Gh(n),su(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var p=l.anchorOffset,v=l.focusNode;l=l.focusOffset;try{a.nodeType,v.nodeType}catch{a=null;break e}var x=0,A=-1,b=-1,P=0,B=0,X=n,z=null;t:for(;;){for(var H;X!==a||p!==0&&X.nodeType!==3||(A=x+p),X!==v||l!==0&&X.nodeType!==3||(b=x+l),X.nodeType===3&&(x+=X.nodeValue.length),(H=X.firstChild)!==null;)z=X,X=H;for(;;){if(X===n)break t;if(z===a&&++P===p&&(A=x),z===v&&++B===l&&(b=x),(H=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=H}a=A===-1||b===-1?null:{start:A,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Uc={focusedElem:n,selectionRange:a},Pr=!1,ft=o;ft!==null;)if(o=ft,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,ft=n;else for(;ft!==null;){switch(o=ft,v=o.alternate,n=o.flags,o.tag){case 0:if((n&4)!==0&&(n=o.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)p=n[a],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&v!==null){n=void 0,a=o,p=v.memoizedProps,v=v.memoizedState,l=a.stateNode;try{var oe=Hi(a.type,p);n=l.getSnapshotBeforeUpdate(oe,v),l.__reactInternalSnapshotBeforeUpdate=n}catch(he){Pe(a,a.return,he)}}break;case 3:if((n&1024)!==0){if(n=o.stateNode.containerInfo,a=n.nodeType,a===9)Pc(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Pc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=o.sibling,n!==null){n.return=o.return,ft=n;break}ft=o.return}}function Np(n,o,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Gn(n,a),l&4&&Hs(5,a);break;case 1:if(Gn(n,a),l&4)if(n=a.stateNode,o===null)try{n.componentDidMount()}catch(x){Pe(a,a.return,x)}else{var p=Hi(a.type,o.memoizedProps);o=o.memoizedState;try{n.componentDidUpdate(p,o,n.__reactInternalSnapshotBeforeUpdate)}catch(x){Pe(a,a.return,x)}}l&64&&Ep(a),l&512&&Bs(a,a.return);break;case 3:if(Gn(n,a),l&64&&(n=a.updateQueue,n!==null)){if(o=null,a.child!==null)switch(a.child.tag){case 27:case 5:o=a.child.stateNode;break;case 1:o=a.child.stateNode}try{dm(n,o)}catch(x){Pe(a,a.return,x)}}break;case 27:o===null&&l&4&&bp(a);case 26:case 5:Gn(n,a),o===null&&l&4&&Ap(a),l&512&&Bs(a,a.return);break;case 12:Gn(n,a);break;case 31:Gn(n,a),l&4&&Dp(n,a);break;case 13:Gn(n,a),l&4&&Ip(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=nC.bind(null,a),EC(n,a))));break;case 22:if(l=a.memoizedState!==null||Pn,!l){o=o!==null&&o.memoizedState!==null||st,p=Pn;var v=st;Pn=l,(st=o)&&!v?Hn(n,a,(a.subtreeFlags&8772)!==0):Gn(n,a),Pn=p,st=v}break;case 30:break;default:Gn(n,a)}}function wp(n){var o=n.alternate;o!==null&&(n.alternate=null,wp(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&ql(o)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ke=null,kt=!1;function zn(n,o,a){for(a=a.child;a!==null;)Rp(n,o,a),a=a.sibling}function Rp(n,o,a){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(_i,a)}catch{}switch(a.tag){case 26:st||xn(a,o),zn(n,o,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:st||xn(a,o);var l=Ke,p=kt;pi(a.type)&&(Ke=a.stateNode,kt=!1),zn(n,o,a),$s(a.stateNode),Ke=l,kt=p;break;case 5:st||xn(a,o);case 6:if(l=Ke,p=kt,Ke=null,zn(n,o,a),Ke=l,kt=p,Ke!==null)if(kt)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(a.stateNode)}catch(v){Pe(a,o,v)}else try{Ke.removeChild(a.stateNode)}catch(v){Pe(a,o,v)}break;case 18:Ke!==null&&(kt?(n=Ke,Eg(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Bo(n)):Eg(Ke,a.stateNode));break;case 4:l=Ke,p=kt,Ke=a.stateNode.containerInfo,kt=!0,zn(n,o,a),Ke=l,kt=p;break;case 0:case 11:case 14:case 15:li(2,a,o),st||li(4,a,o),zn(n,o,a);break;case 1:st||(xn(a,o),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Cp(a,o,l)),zn(n,o,a);break;case 21:zn(n,o,a);break;case 22:st=(l=st)||a.memoizedState!==null,zn(n,o,a),st=l;break;default:zn(n,o,a)}}function Dp(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Bo(n)}catch(a){Pe(o,o.return,a)}}}function Ip(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Bo(n)}catch(a){Pe(o,o.return,a)}}function XE(n){switch(n.tag){case 31:case 13:case 19:var o=n.stateNode;return o===null&&(o=n.stateNode=new Mp),o;case 22:return n=n.stateNode,o=n._retryCache,o===null&&(o=n._retryCache=new Mp),o;default:throw Error(s(435,n.tag))}}function yr(n,o){var a=XE(n);o.forEach(function(l){if(!a.has(l)){a.add(l);var p=iC.bind(null,n,l);l.then(p,p)}})}function Ut(n,o){var a=o.deletions;if(a!==null)for(var l=0;l<a.length;l++){var p=a[l],v=n,x=o,A=x;e:for(;A!==null;){switch(A.tag){case 27:if(pi(A.type)){Ke=A.stateNode,kt=!1;break e}break;case 5:Ke=A.stateNode,kt=!1;break e;case 3:case 4:Ke=A.stateNode.containerInfo,kt=!0;break e}A=A.return}if(Ke===null)throw Error(s(160));Rp(v,x,p),Ke=null,kt=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)kp(o,n),o=o.sibling}var fn=null;function kp(n,o){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Ut(o,n),Vt(n),l&4&&(li(3,n,n.return),Hs(3,n),li(5,n,n.return));break;case 1:Ut(o,n),Vt(n),l&512&&(st||a===null||xn(a,a.return)),l&64&&Pn&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var p=fn;if(Ut(o,n),Vt(n),l&512&&(st||a===null||xn(a,a.return)),l&4){var v=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,p=p.ownerDocument||p;t:switch(l){case"title":v=p.getElementsByTagName("title")[0],(!v||v[ms]||v[ht]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(l),p.head.insertBefore(v,p.querySelector("head > title"))),yt(v,l,a),v[ht]=n,ct(v),l=v;break e;case"link":var x=kg("link","href",p).get(l+(a.href||""));if(x){for(var A=0;A<x.length;A++)if(v=x[A],v.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&v.getAttribute("rel")===(a.rel==null?null:a.rel)&&v.getAttribute("title")===(a.title==null?null:a.title)&&v.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(A,1);break t}}v=p.createElement(l),yt(v,l,a),p.head.appendChild(v);break;case"meta":if(x=kg("meta","content",p).get(l+(a.content||""))){for(A=0;A<x.length;A++)if(v=x[A],v.getAttribute("content")===(a.content==null?null:""+a.content)&&v.getAttribute("name")===(a.name==null?null:a.name)&&v.getAttribute("property")===(a.property==null?null:a.property)&&v.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&v.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(A,1);break t}}v=p.createElement(l),yt(v,l,a),p.head.appendChild(v);break;default:throw Error(s(468,l))}v[ht]=n,ct(v),l=v}n.stateNode=l}else Ug(p,n.type,n.stateNode);else n.stateNode=Ig(p,l,n.memoizedProps);else v!==l?(v===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):v.count--,l===null?Ug(p,n.type,n.stateNode):Ig(p,l,n.memoizedProps)):l===null&&n.stateNode!==null&&uc(n,n.memoizedProps,a.memoizedProps)}break;case 27:Ut(o,n),Vt(n),l&512&&(st||a===null||xn(a,a.return)),a!==null&&l&4&&uc(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Ut(o,n),Vt(n),l&512&&(st||a===null||xn(a,a.return)),n.flags&32){p=n.stateNode;try{uo(p,"")}catch(oe){Pe(n,n.return,oe)}}l&4&&n.stateNode!=null&&(p=n.memoizedProps,uc(n,p,a!==null?a.memoizedProps:p)),l&1024&&(dc=!0);break;case 6:if(Ut(o,n),Vt(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(oe){Pe(n,n.return,oe)}}break;case 3:if(kr=null,p=fn,fn=Dr(o.containerInfo),Ut(o,n),fn=p,Vt(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Bo(o.containerInfo)}catch(oe){Pe(n,n.return,oe)}dc&&(dc=!1,Up(n));break;case 4:l=fn,fn=Dr(n.stateNode.containerInfo),Ut(o,n),Vt(n),fn=l;break;case 12:Ut(o,n),Vt(n);break;case 31:Ut(o,n),Vt(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,yr(n,l)));break;case 13:Ut(o,n),Vt(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tr=Tt()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,yr(n,l)));break;case 22:p=n.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,P=Pn,B=st;if(Pn=P||p,st=B||b,Ut(o,n),st=B,Pn=P,Vt(n),l&8192)e:for(o=n.stateNode,o._visibility=p?o._visibility&-2:o._visibility|1,p&&(a===null||b||Pn||st||Bi(n)),a=null,o=n;;){if(o.tag===5||o.tag===26){if(a===null){b=a=o;try{if(v=b.stateNode,p)x=v.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{A=b.stateNode;var X=b.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;A.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(oe){Pe(b,b.return,oe)}}}else if(o.tag===6){if(a===null){b=o;try{b.stateNode.nodeValue=p?"":b.memoizedProps}catch(oe){Pe(b,b.return,oe)}}}else if(o.tag===18){if(a===null){b=o;try{var H=b.stateNode;p?Cg(H,!0):Cg(b.stateNode,!1)}catch(oe){Pe(b,b.return,oe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===n)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break e;for(;o.sibling===null;){if(o.return===null||o.return===n)break e;a===o&&(a=null),o=o.return}a===o&&(a=null),o.sibling.return=o.return,o=o.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,yr(n,a))));break;case 19:Ut(o,n),Vt(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,yr(n,l)));break;case 30:break;case 21:break;default:Ut(o,n),Vt(n)}}function Vt(n){var o=n.flags;if(o&2){try{for(var a,l=n.return;l!==null;){if(_p(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var p=a.stateNode,v=cc(n);gr(n,v,p);break;case 5:var x=a.stateNode;a.flags&32&&(uo(x,""),a.flags&=-33);var A=cc(n);gr(n,A,x);break;case 3:case 4:var b=a.stateNode.containerInfo,P=cc(n);fc(n,P,b);break;default:throw Error(s(161))}}catch(B){Pe(n,n.return,B)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function Up(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var o=n;Up(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),n=n.sibling}}function Gn(n,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Np(n,o.alternate,o),o=o.sibling}function Bi(n){for(n=n.child;n!==null;){var o=n;switch(o.tag){case 0:case 11:case 14:case 15:li(4,o,o.return),Bi(o);break;case 1:xn(o,o.return);var a=o.stateNode;typeof a.componentWillUnmount=="function"&&Cp(o,o.return,a),Bi(o);break;case 27:$s(o.stateNode);case 26:case 5:xn(o,o.return),Bi(o);break;case 22:o.memoizedState===null&&Bi(o);break;case 30:Bi(o);break;default:Bi(o)}n=n.sibling}}function Hn(n,o,a){for(a=a&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var l=o.alternate,p=n,v=o,x=v.flags;switch(v.tag){case 0:case 11:case 15:Hn(p,v,a),Hs(4,v);break;case 1:if(Hn(p,v,a),l=v,p=l.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(P){Pe(l,l.return,P)}if(l=v,p=l.updateQueue,p!==null){var A=l.stateNode;try{var b=p.shared.hiddenCallbacks;if(b!==null)for(p.shared.hiddenCallbacks=null,p=0;p<b.length;p++)fm(b[p],A)}catch(P){Pe(l,l.return,P)}}a&&x&64&&Ep(v),Bs(v,v.return);break;case 27:bp(v);case 26:case 5:Hn(p,v,a),a&&l===null&&x&4&&Ap(v),Bs(v,v.return);break;case 12:Hn(p,v,a);break;case 31:Hn(p,v,a),a&&x&4&&Dp(p,v);break;case 13:Hn(p,v,a),a&&x&4&&Ip(p,v);break;case 22:v.memoizedState===null&&Hn(p,v,a),Bs(v,v.return);break;case 30:break;default:Hn(p,v,a)}o=o.sibling}}function hc(n,o){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(n=o.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Ms(a))}function mc(n,o){n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&Ms(n))}function dn(n,o,a,l){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Vp(n,o,a,l),o=o.sibling}function Vp(n,o,a,l){var p=o.flags;switch(o.tag){case 0:case 11:case 15:dn(n,o,a,l),p&2048&&Hs(9,o);break;case 1:dn(n,o,a,l);break;case 3:dn(n,o,a,l),p&2048&&(n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&Ms(n)));break;case 12:if(p&2048){dn(n,o,a,l),n=o.stateNode;try{var v=o.memoizedProps,x=v.id,A=v.onPostCommit;typeof A=="function"&&A(x,o.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(b){Pe(o,o.return,b)}}else dn(n,o,a,l);break;case 31:dn(n,o,a,l);break;case 13:dn(n,o,a,l);break;case 23:break;case 22:v=o.stateNode,x=o.alternate,o.memoizedState!==null?v._visibility&2?dn(n,o,a,l):qs(n,o):v._visibility&2?dn(n,o,a,l):(v._visibility|=2,Ro(n,o,a,l,(o.subtreeFlags&10256)!==0||!1)),p&2048&&hc(x,o);break;case 24:dn(n,o,a,l),p&2048&&mc(o.alternate,o);break;default:dn(n,o,a,l)}}function Ro(n,o,a,l,p){for(p=p&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var v=n,x=o,A=a,b=l,P=x.flags;switch(x.tag){case 0:case 11:case 15:Ro(v,x,A,b,p),Hs(8,x);break;case 23:break;case 22:var B=x.stateNode;x.memoizedState!==null?B._visibility&2?Ro(v,x,A,b,p):qs(v,x):(B._visibility|=2,Ro(v,x,A,b,p)),p&&P&2048&&hc(x.alternate,x);break;case 24:Ro(v,x,A,b,p),p&&P&2048&&mc(x.alternate,x);break;default:Ro(v,x,A,b,p)}o=o.sibling}}function qs(n,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var a=n,l=o,p=l.flags;switch(l.tag){case 22:qs(a,l),p&2048&&hc(l.alternate,l);break;case 24:qs(a,l),p&2048&&mc(l.alternate,l);break;default:qs(a,l)}o=o.sibling}}var Os=8192;function Do(n,o,a){if(n.subtreeFlags&Os)for(n=n.child;n!==null;)Lp(n,o,a),n=n.sibling}function Lp(n,o,a){switch(n.tag){case 26:Do(n,o,a),n.flags&Os&&n.memoizedState!==null&&UC(a,fn,n.memoizedState,n.memoizedProps);break;case 5:Do(n,o,a);break;case 3:case 4:var l=fn;fn=Dr(n.stateNode.containerInfo),Do(n,o,a),fn=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Os,Os=16777216,Do(n,o,a),Os=l):Do(n,o,a));break;default:Do(n,o,a)}}function Pp(n){var o=n.alternate;if(o!==null&&(n=o.child,n!==null)){o.child=null;do o=n.sibling,n.sibling=null,n=o;while(n!==null)}}function Fs(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var a=0;a<o.length;a++){var l=o[a];ft=l,Gp(l,n)}Pp(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zp(n),n=n.sibling}function zp(n){switch(n.tag){case 0:case 11:case 15:Fs(n),n.flags&2048&&li(9,n,n.return);break;case 3:Fs(n);break;case 12:Fs(n);break;case 22:var o=n.stateNode;n.memoizedState!==null&&o._visibility&2&&(n.return===null||n.return.tag!==13)?(o._visibility&=-3,vr(n)):Fs(n);break;default:Fs(n)}}function vr(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var a=0;a<o.length;a++){var l=o[a];ft=l,Gp(l,n)}Pp(n)}for(n=n.child;n!==null;){switch(o=n,o.tag){case 0:case 11:case 15:li(8,o,o.return),vr(o);break;case 22:a=o.stateNode,a._visibility&2&&(a._visibility&=-3,vr(o));break;default:vr(o)}n=n.sibling}}function Gp(n,o){for(;ft!==null;){var a=ft;switch(a.tag){case 0:case 11:case 15:li(8,a,o);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ms(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ft=l;else e:for(a=n;ft!==null;){l=ft;var p=l.sibling,v=l.return;if(wp(l),l===a){ft=null;break e}if(p!==null){p.return=v,ft=p;break e}ft=v}}}var QE={getCacheForType:function(n){var o=pt(nt),a=o.data.get(n);return a===void 0&&(a=n(),o.data.set(n,a)),a},cacheSignal:function(){return pt(nt).controller.signal}},$E=typeof WeakMap=="function"?WeakMap:Map,Ve=0,Be=null,_e=null,Ne=0,Le=0,Ot=null,ui=!1,Io=!1,pc=!1,Bn=0,Ze=0,ci=0,qi=0,gc=0,Ft=0,ko=0,Ys=null,Lt=null,yc=!1,Tr=0,Hp=0,Sr=1/0,xr=null,fi=null,rt=0,di=null,Uo=null,qn=0,vc=0,Tc=null,Bp=null,Js=0,Sc=null;function Yt(){return(Ve&2)!==0&&Ne!==0?Ne&-Ne:k.T!==null?bc():ih()}function qp(){if(Ft===0)if((Ne&536870912)===0||Re){var n=ce;ce<<=1,(ce&3932160)===0&&(ce=262144),Ft=n}else Ft=536870912;return n=Bt.current,n!==null&&(n.flags|=32),Ft}function Pt(n,o,a){(n===Be&&(Le===2||Le===9)||n.cancelPendingCommit!==null)&&(Vo(n,0),hi(n,Ne,Ft,!1)),Rt(n,a),((Ve&2)===0||n!==Be)&&(n===Be&&((Ve&2)===0&&(qi|=a),Ze===4&&hi(n,Ne,Ft,!1)),En(n))}function Op(n,o,a){if((Ve&6)!==0)throw Error(s(327));var l=!a&&(o&127)===0&&(o&n.expiredLanes)===0||je(n,o),p=l?jE(n,o):Ec(n,o,!0),v=l;do{if(p===0){Io&&!l&&hi(n,o,0,!1);break}else{if(a=n.current.alternate,v&&!ZE(a)){p=Ec(n,o,!1),v=!1;continue}if(p===2){if(v=o,n.errorRecoveryDisabledLanes&v)var x=0;else x=n.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){o=x;e:{var A=n;p=Ys;var b=A.current.memoizedState.isDehydrated;if(b&&(Vo(A,x).flags|=256),x=Ec(A,x,!1),x!==2){if(pc&&!b){A.errorRecoveryDisabledLanes|=v,qi|=v,p=4;break e}v=Lt,Lt=p,v!==null&&(Lt===null?Lt=v:Lt.push.apply(Lt,v))}p=x}if(v=!1,p!==2)continue}}if(p===1){Vo(n,0),hi(n,o,0,!0);break}e:{switch(l=n,v=p,v){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:hi(l,o,Ft,!ui);break e;case 2:Lt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(p=Tr+300-Tt(),10<p)){if(hi(l,o,Ft,!ui),Ee(l,0,!0)!==0)break e;qn=o,l.timeoutHandle=Sg(Fp.bind(null,l,a,Lt,xr,yc,o,Ft,qi,ko,ui,v,"Throttled",-0,0),p);break e}Fp(l,a,Lt,xr,yc,o,Ft,qi,ko,ui,v,null,-0,0)}}break}while(!0);En(n)}function Fp(n,o,a,l,p,v,x,A,b,P,B,X,z,H){if(n.timeoutHandle=-1,X=o.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mn},Lp(o,v,X);var oe=(v&62914560)===v?Tr-Tt():(v&4194048)===v?Hp-Tt():0;if(oe=VC(X,oe),oe!==null){qn=v,n.cancelPendingCommit=oe(Wp.bind(null,n,o,v,a,l,p,x,A,b,B,X,null,z,H)),hi(n,v,x,!P);return}}Wp(n,o,v,a,l,p,x,A,b)}function ZE(n){for(var o=n;;){var a=o.tag;if((a===0||a===11||a===15)&&o.flags&16384&&(a=o.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var p=a[l],v=p.getSnapshot;p=p.value;try{if(!Gt(v(),p))return!1}catch{return!1}}if(a=o.child,o.subtreeFlags&16384&&a!==null)a.return=o,o=a;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function hi(n,o,a,l){o&=~gc,o&=~qi,n.suspendedLanes|=o,n.pingedLanes&=~o,l&&(n.warmLanes|=o),l=n.expirationTimes;for(var p=o;0<p;){var v=31-_t(p),x=1<<v;l[v]=-1,p&=~x}a!==0&&eh(n,a,o)}function Er(){return(Ve&6)===0?(Ks(0),!1):!0}function xc(){if(_e!==null){if(Le===0)var n=_e.return;else n=_e,Dn=ki=null,Pu(n),_o=null,ws=0,n=_e;for(;n!==null;)xp(n.alternate,n),n=n.return;_e=null}}function Vo(n,o){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,yC(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),qn=0,xc(),Be=n,_e=a=wn(n.current,null),Ne=o,Le=0,Ot=null,ui=!1,Io=je(n,o),pc=!1,ko=Ft=gc=qi=ci=Ze=0,Lt=Ys=null,yc=!1,(o&8)!==0&&(o|=o&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=o;0<l;){var p=31-_t(l),v=1<<p;o|=n[p],l&=~v}return Bn=o,Oa(),a}function Yp(n,o){xe=null,k.H=Ps,o===Ao||o===Za?(o=rm(),Le=3):o===_u?(o=rm(),Le=4):Le=o===ju?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ot=o,_e===null&&(Ze=1,fr(n,$t(o,n.current)))}function Jp(){var n=Bt.current;return n===null?!0:(Ne&4194048)===Ne?en===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?n===en:!1}function Kp(){var n=k.H;return k.H=Ps,n===null?Ps:n}function Xp(){var n=k.A;return k.A=QE,n}function Cr(){Ze=4,ui||(Ne&4194048)!==Ne&&Bt.current!==null||(Io=!0),(ci&134217727)===0&&(qi&134217727)===0||Be===null||hi(Be,Ne,Ft,!1)}function Ec(n,o,a){var l=Ve;Ve|=2;var p=Kp(),v=Xp();(Be!==n||Ne!==o)&&(xr=null,Vo(n,o)),o=!1;var x=Ze;e:do try{if(Le!==0&&_e!==null){var A=_e,b=Ot;switch(Le){case 8:xc(),x=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(o=!0);var P=Le;if(Le=0,Ot=null,Lo(n,A,b,P),a&&Io){x=0;break e}break;default:P=Le,Le=0,Ot=null,Lo(n,A,b,P)}}WE(),x=Ze;break}catch(B){Yp(n,B)}while(!0);return o&&n.shellSuspendCounter++,Dn=ki=null,Ve=l,k.H=p,k.A=v,_e===null&&(Be=null,Ne=0,Oa()),x}function WE(){for(;_e!==null;)Qp(_e)}function jE(n,o){var a=Ve;Ve|=2;var l=Kp(),p=Xp();Be!==n||Ne!==o?(xr=null,Sr=Tt()+500,Vo(n,o)):Io=je(n,o);e:do try{if(Le!==0&&_e!==null){o=_e;var v=Ot;t:switch(Le){case 1:Le=0,Ot=null,Lo(n,o,v,1);break;case 2:case 9:if(sm(v)){Le=0,Ot=null,$p(o);break}o=function(){Le!==2&&Le!==9||Be!==n||(Le=7),En(n)},v.then(o,o);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:sm(v)?(Le=0,Ot=null,$p(o)):(Le=0,Ot=null,Lo(n,o,v,7));break;case 5:var x=null;switch(_e.tag){case 26:x=_e.memoizedState;case 5:case 27:var A=_e;if(x?Vg(x):A.stateNode.complete){Le=0,Ot=null;var b=A.sibling;if(b!==null)_e=b;else{var P=A.return;P!==null?(_e=P,Ar(P)):_e=null}break t}}Le=0,Ot=null,Lo(n,o,v,5);break;case 6:Le=0,Ot=null,Lo(n,o,v,6);break;case 8:xc(),Ze=6;break e;default:throw Error(s(462))}}eC();break}catch(B){Yp(n,B)}while(!0);return Dn=ki=null,k.H=l,k.A=p,Ve=a,_e!==null?0:(Be=null,Ne=0,Oa(),Ze)}function eC(){for(;_e!==null&&!Rl();)Qp(_e)}function Qp(n){var o=Tp(n.alternate,n,Bn);n.memoizedProps=n.pendingProps,o===null?Ar(n):_e=o}function $p(n){var o=n,a=o.alternate;switch(o.tag){case 15:case 0:o=hp(a,o,o.pendingProps,o.type,void 0,Ne);break;case 11:o=hp(a,o,o.pendingProps,o.type.render,o.ref,Ne);break;case 5:Pu(o);default:xp(a,o),o=_e=Xh(o,Bn),o=Tp(a,o,Bn)}n.memoizedProps=n.pendingProps,o===null?Ar(n):_e=o}function Lo(n,o,a,l){Dn=ki=null,Pu(o),_o=null,ws=0;var p=o.return;try{if(qE(n,p,o,a,Ne)){Ze=1,fr(n,$t(a,n.current)),_e=null;return}}catch(v){if(p!==null)throw _e=p,v;Ze=1,fr(n,$t(a,n.current)),_e=null;return}o.flags&32768?(Re||l===1?n=!0:Io||(Ne&536870912)!==0?n=!1:(ui=n=!0,(l===2||l===9||l===3||l===6)&&(l=Bt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Zp(o,n)):Ar(o)}function Ar(n){var o=n;do{if((o.flags&32768)!==0){Zp(o,ui);return}n=o.return;var a=YE(o.alternate,o,Bn);if(a!==null){_e=a;return}if(o=o.sibling,o!==null){_e=o;return}_e=o=n}while(o!==null);Ze===0&&(Ze=5)}function Zp(n,o){do{var a=JE(n.alternate,n);if(a!==null){a.flags&=32767,_e=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!o&&(n=n.sibling,n!==null)){_e=n;return}_e=n=a}while(n!==null);Ze=6,_e=null}function Wp(n,o,a,l,p,v,x,A,b){n.cancelPendingCommit=null;do _r();while(rt!==0);if((Ve&6)!==0)throw Error(s(327));if(o!==null){if(o===n.current)throw Error(s(177));if(v=o.lanes|o.childLanes,v|=cu,zl(n,a,v,x,A,b),n===Be&&(_e=Be=null,Ne=0),Uo=o,di=n,qn=a,vc=v,Tc=p,Bp=l,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,oC(no,function(){return ig(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||l){l=k.T,k.T=null,p=V.p,V.p=2,x=Ve,Ve|=4;try{KE(n,o,a)}finally{Ve=x,V.p=p,k.T=l}}rt=1,jp(),eg(),tg()}}function jp(){if(rt===1){rt=0;var n=di,o=Uo,a=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||a){a=k.T,k.T=null;var l=V.p;V.p=2;var p=Ve;Ve|=4;try{kp(o,n);var v=Uc,x=Gh(n.containerInfo),A=v.focusedElem,b=v.selectionRange;if(x!==A&&A&&A.ownerDocument&&zh(A.ownerDocument.documentElement,A)){if(b!==null&&su(A)){var P=b.start,B=b.end;if(B===void 0&&(B=P),"selectionStart"in A)A.selectionStart=P,A.selectionEnd=Math.min(B,A.value.length);else{var X=A.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var H=z.getSelection(),oe=A.textContent.length,he=Math.min(b.start,oe),He=b.end===void 0?he:Math.min(b.end,oe);!H.extend&&he>He&&(x=He,He=he,he=x);var U=Ph(A,he),D=Ph(A,He);if(U&&D&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var L=X.createRange();L.setStart(U.node,U.offset),H.removeAllRanges(),he>He?(H.addRange(L),H.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),H.addRange(L))}}}}for(X=[],H=A;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<X.length;A++){var K=X[A];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Pr=!!kc,Uc=kc=null}finally{Ve=p,V.p=l,k.T=a}}n.current=o,rt=2}}function eg(){if(rt===2){rt=0;var n=di,o=Uo,a=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||a){a=k.T,k.T=null;var l=V.p;V.p=2;var p=Ve;Ve|=4;try{Np(n,o.alternate,o)}finally{Ve=p,V.p=l,k.T=a}}rt=3}}function tg(){if(rt===4||rt===3){rt=0,Dl();var n=di,o=Uo,a=qn,l=Bp;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?rt=5:(rt=0,Uo=di=null,ng(n,n.pendingLanes));var p=n.pendingLanes;if(p===0&&(fi=null),Hl(a),o=o.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(_i,o,void 0,(o.current.flags&128)===128)}catch{}if(l!==null){o=k.T,p=V.p,V.p=2,k.T=null;try{for(var v=n.onRecoverableError,x=0;x<l.length;x++){var A=l[x];v(A.value,{componentStack:A.stack})}}finally{k.T=o,V.p=p}}(qn&3)!==0&&_r(),En(n),p=n.pendingLanes,(a&261930)!==0&&(p&42)!==0?n===Sc?Js++:(Js=0,Sc=n):Js=0,Ks(0)}}function ng(n,o){(n.pooledCacheLanes&=o)===0&&(o=n.pooledCache,o!=null&&(n.pooledCache=null,Ms(o)))}function _r(){return jp(),eg(),tg(),ig()}function ig(){if(rt!==5)return!1;var n=di,o=vc;vc=0;var a=Hl(qn),l=k.T,p=V.p;try{V.p=32>a?32:a,k.T=null,a=Tc,Tc=null;var v=di,x=qn;if(rt=0,Uo=di=null,qn=0,(Ve&6)!==0)throw Error(s(331));var A=Ve;if(Ve|=4,zp(v.current),Vp(v,v.current,x,a),Ve=A,Ks(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(_i,v)}catch{}return!0}finally{V.p=p,k.T=l,ng(n,o)}}function og(n,o,a){o=$t(a,o),o=Wu(n.stateNode,o,2),n=si(n,o,2),n!==null&&(Rt(n,2),En(n))}function Pe(n,o,a){if(n.tag===3)og(n,n,a);else for(;o!==null;){if(o.tag===3){og(o,n,a);break}else if(o.tag===1){var l=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fi===null||!fi.has(l))){n=$t(a,n),a=sp(2),l=si(o,a,2),l!==null&&(ap(a,l,o,n),Rt(l,2),En(l));break}}o=o.return}}function Cc(n,o,a){var l=n.pingCache;if(l===null){l=n.pingCache=new $E;var p=new Set;l.set(o,p)}else p=l.get(o),p===void 0&&(p=new Set,l.set(o,p));p.has(a)||(pc=!0,p.add(a),n=tC.bind(null,n,o,a),o.then(n,n))}function tC(n,o,a){var l=n.pingCache;l!==null&&l.delete(o),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Be===n&&(Ne&a)===a&&(Ze===4||Ze===3&&(Ne&62914560)===Ne&&300>Tt()-Tr?(Ve&2)===0&&Vo(n,0):gc|=a,ko===Ne&&(ko=0)),En(n)}function sg(n,o){o===0&&(o=vn()),n=Ri(n,o),n!==null&&(Rt(n,o),En(n))}function nC(n){var o=n.memoizedState,a=0;o!==null&&(a=o.retryLane),sg(n,a)}function iC(n,o){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,p=n.memoizedState;p!==null&&(a=p.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(o),sg(n,a)}function oC(n,o){return fs(n,o)}var br=null,Po=null,Ac=!1,Mr=!1,_c=!1,mi=0;function En(n){n!==Po&&n.next===null&&(Po===null?br=Po=n:Po=Po.next=n),Mr=!0,Ac||(Ac=!0,aC())}function Ks(n,o){if(!_c&&Mr){_c=!0;do for(var a=!1,l=br;l!==null;){if(n!==0){var p=l.pendingLanes;if(p===0)var v=0;else{var x=l.suspendedLanes,A=l.pingedLanes;v=(1<<31-_t(42|n)+1)-1,v&=p&~(x&~A),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(a=!0,ug(l,v))}else v=Ne,v=Ee(l,l===Be?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(v&3)===0||je(l,v)||(a=!0,ug(l,v));l=l.next}while(a);_c=!1}}function sC(){ag()}function ag(){Mr=Ac=!1;var n=0;mi!==0&&gC()&&(n=mi);for(var o=Tt(),a=null,l=br;l!==null;){var p=l.next,v=rg(l,o);v===0?(l.next=null,a===null?br=p:a.next=p,p===null&&(Po=a)):(a=l,(n!==0||(v&3)!==0)&&(Mr=!0)),l=p}rt!==0&&rt!==5||Ks(n),mi!==0&&(mi=0)}function rg(n,o){for(var a=n.suspendedLanes,l=n.pingedLanes,p=n.expirationTimes,v=n.pendingLanes&-62914561;0<v;){var x=31-_t(v),A=1<<x,b=p[x];b===-1?((A&a)===0||(A&l)!==0)&&(p[x]=ut(A,o)):b<=o&&(n.expiredLanes|=A),v&=~A}if(o=Be,a=Ne,a=Ee(n,n===o?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===o&&(Le===2||Le===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ds(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||je(n,a)){if(o=a&-a,o===n.callbackPriority)return o;switch(l!==null&&ds(l),Hl(a)){case 2:case 8:a=to;break;case 32:a=no;break;case 268435456:a=Da;break;default:a=no}return l=lg.bind(null,n),a=fs(a,l),n.callbackPriority=o,n.callbackNode=a,o}return l!==null&&l!==null&&ds(l),n.callbackPriority=2,n.callbackNode=null,2}function lg(n,o){if(rt!==0&&rt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(_r()&&n.callbackNode!==a)return null;var l=Ne;return l=Ee(n,n===Be?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Op(n,l,o),rg(n,Tt()),n.callbackNode!=null&&n.callbackNode===a?lg.bind(null,n):null)}function ug(n,o){if(_r())return null;Op(n,o,!0)}function aC(){vC(function(){(Ve&6)!==0?fs(Ra,sC):ag()})}function bc(){if(mi===0){var n=Eo;n===0&&(n=O,O<<=1,(O&261888)===0&&(O=256)),mi=n}return mi}function cg(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Va(""+n)}function fg(n,o){var a=o.ownerDocument.createElement("input");return a.name=o.name,a.value=o.value,n.id&&a.setAttribute("form",n.id),o.parentNode.insertBefore(a,o),n=new FormData(n),a.parentNode.removeChild(a),n}function rC(n,o,a,l,p){if(o==="submit"&&a&&a.stateNode===p){var v=cg((p[Dt]||null).action),x=l.submitter;x&&(o=(o=x[Dt]||null)?cg(o.formAction):x.getAttribute("formAction"),o!==null&&(v=o,x=null));var A=new Ga("action","action",null,l,p);n.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(mi!==0){var b=x?fg(p,x):new FormData(p);Ju(a,{pending:!0,data:b,method:p.method,action:v},null,b)}}else typeof v=="function"&&(A.preventDefault(),b=x?fg(p,x):new FormData(p),Ju(a,{pending:!0,data:b,method:p.method,action:v},v,b))},currentTarget:p}]})}}for(var Mc=0;Mc<uu.length;Mc++){var Nc=uu[Mc],lC=Nc.toLowerCase(),uC=Nc[0].toUpperCase()+Nc.slice(1);cn(lC,"on"+uC)}cn(qh,"onAnimationEnd"),cn(Oh,"onAnimationIteration"),cn(Fh,"onAnimationStart"),cn("dblclick","onDoubleClick"),cn("focusin","onFocus"),cn("focusout","onBlur"),cn(_E,"onTransitionRun"),cn(bE,"onTransitionStart"),cn(ME,"onTransitionCancel"),cn(Yh,"onTransitionEnd"),ro("onMouseEnter",["mouseout","mouseover"]),ro("onMouseLeave",["mouseout","mouseover"]),ro("onPointerEnter",["pointerout","pointerover"]),ro("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xs));function dg(n,o){o=(o&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],p=l.event;l=l.listeners;e:{var v=void 0;if(o)for(var x=l.length-1;0<=x;x--){var A=l[x],b=A.instance,P=A.currentTarget;if(A=A.listener,b!==v&&p.isPropagationStopped())break e;v=A,p.currentTarget=P;try{v(p)}catch(B){qa(B)}p.currentTarget=null,v=b}else for(x=0;x<l.length;x++){if(A=l[x],b=A.instance,P=A.currentTarget,A=A.listener,b!==v&&p.isPropagationStopped())break e;v=A,p.currentTarget=P;try{v(p)}catch(B){qa(B)}p.currentTarget=null,v=b}}}}function be(n,o){var a=o[Bl];a===void 0&&(a=o[Bl]=new Set);var l=n+"__bubble";a.has(l)||(hg(o,n,2,!1),a.add(l))}function wc(n,o,a){var l=0;o&&(l|=4),hg(a,n,l,o)}var Nr="_reactListening"+Math.random().toString(36).slice(2);function Rc(n){if(!n[Nr]){n[Nr]=!0,ah.forEach(function(a){a!=="selectionchange"&&(cC.has(a)||wc(a,!1,n),wc(a,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[Nr]||(o[Nr]=!0,wc("selectionchange",!1,o))}}function hg(n,o,a,l){switch(qg(o)){case 2:var p=zC;break;case 8:p=GC;break;default:p=Yc}a=p.bind(null,o,a,n),p=void 0,!$l||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),l?p!==void 0?n.addEventListener(o,a,{capture:!0,passive:p}):n.addEventListener(o,a,!0):p!==void 0?n.addEventListener(o,a,{passive:p}):n.addEventListener(o,a,!1)}function Dc(n,o,a,l,p){var v=l;if((o&1)===0&&(o&2)===0&&l!==null)e:for(;;){if(l===null)return;var x=l.tag;if(x===3||x===4){var A=l.stateNode.containerInfo;if(A===p)break;if(x===4)for(x=l.return;x!==null;){var b=x.tag;if((b===3||b===4)&&x.stateNode.containerInfo===p)return;x=x.return}for(;A!==null;){if(x=oo(A),x===null)return;if(b=x.tag,b===5||b===6||b===26||b===27){l=v=x;continue e}A=A.parentNode}}l=l.return}vh(function(){var P=v,B=Xl(a),X=[];e:{var z=Jh.get(n);if(z!==void 0){var H=Ga,oe=n;switch(n){case"keypress":if(Pa(a)===0)break e;case"keydown":case"keyup":H=iE;break;case"focusin":oe="focus",H=eu;break;case"focusout":oe="blur",H=eu;break;case"beforeblur":case"afterblur":H=eu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=xh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Yx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=aE;break;case qh:case Oh:case Fh:H=Xx;break;case Yh:H=lE;break;case"scroll":case"scrollend":H=Ox;break;case"wheel":H=cE;break;case"copy":case"cut":case"paste":H=$x;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ch;break;case"toggle":case"beforetoggle":H=dE}var he=(o&4)!==0,He=!he&&(n==="scroll"||n==="scrollend"),U=he?z!==null?z+"Capture":null:z;he=[];for(var D=P,L;D!==null;){var K=D;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||U===null||(K=gs(D,U),K!=null&&he.push(Qs(D,K,L))),He)break;D=D.return}0<he.length&&(z=new H(z,oe,null,a,B),X.push({event:z,listeners:he}))}}if((o&7)===0){e:{if(z=n==="mouseover"||n==="pointerover",H=n==="mouseout"||n==="pointerout",z&&a!==Kl&&(oe=a.relatedTarget||a.fromElement)&&(oo(oe)||oe[io]))break e;if((H||z)&&(z=B.window===B?B:(z=B.ownerDocument)?z.defaultView||z.parentWindow:window,H?(oe=a.relatedTarget||a.toElement,H=P,oe=oe?oo(oe):null,oe!==null&&(He=u(oe),he=oe.tag,oe!==He||he!==5&&he!==27&&he!==6)&&(oe=null)):(H=null,oe=P),H!==oe)){if(he=xh,K="onMouseLeave",U="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(he=Ch,K="onPointerLeave",U="onPointerEnter",D="pointer"),He=H==null?z:ps(H),L=oe==null?z:ps(oe),z=new he(K,D+"leave",H,a,B),z.target=He,z.relatedTarget=L,K=null,oo(B)===P&&(he=new he(U,D+"enter",oe,a,B),he.target=L,he.relatedTarget=He,K=he),He=K,H&&oe)t:{for(he=fC,U=H,D=oe,L=0,K=U;K;K=he(K))L++;K=0;for(var le=D;le;le=he(le))K++;for(;0<L-K;)U=he(U),L--;for(;0<K-L;)D=he(D),K--;for(;L--;){if(U===D||D!==null&&U===D.alternate){he=U;break t}U=he(U),D=he(D)}he=null}else he=null;H!==null&&mg(X,z,H,he,!1),oe!==null&&He!==null&&mg(X,He,oe,he,!0)}}e:{if(z=P?ps(P):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Ie=Dh;else if(wh(z))if(Ih)Ie=EE;else{Ie=SE;var se=TE}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&Jl(P.elementType)&&(Ie=Dh):Ie=xE;if(Ie&&(Ie=Ie(n,P))){Rh(X,Ie,a,B);break e}se&&se(n,z,P),n==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Yl(z,"number",z.value)}switch(se=P?ps(P):window,n){case"focusin":(wh(se)||se.contentEditable==="true")&&(mo=se,au=P,As=null);break;case"focusout":As=au=mo=null;break;case"mousedown":ru=!0;break;case"contextmenu":case"mouseup":case"dragend":ru=!1,Hh(X,a,B);break;case"selectionchange":if(AE)break;case"keydown":case"keyup":Hh(X,a,B)}var Ce;if(nu)e:{switch(n){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else ho?Mh(n,a)&&(we="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(Ah&&a.locale!=="ko"&&(ho||we!=="onCompositionStart"?we==="onCompositionEnd"&&ho&&(Ce=Th()):(Wn=B,Zl="value"in Wn?Wn.value:Wn.textContent,ho=!0)),se=wr(P,we),0<se.length&&(we=new Eh(we,n,null,a,B),X.push({event:we,listeners:se}),Ce?we.data=Ce:(Ce=Nh(a),Ce!==null&&(we.data=Ce)))),(Ce=mE?pE(n,a):gE(n,a))&&(we=wr(P,"onBeforeInput"),0<we.length&&(se=new Eh("onBeforeInput","beforeinput",null,a,B),X.push({event:se,listeners:we}),se.data=Ce)),rC(X,n,P,a,B)}dg(X,o)})}function Qs(n,o,a){return{instance:n,listener:o,currentTarget:a}}function wr(n,o){for(var a=o+"Capture",l=[];n!==null;){var p=n,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=gs(n,a),p!=null&&l.unshift(Qs(n,p,v)),p=gs(n,o),p!=null&&l.push(Qs(n,p,v))),n.tag===3)return l;n=n.return}return[]}function fC(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function mg(n,o,a,l,p){for(var v=o._reactName,x=[];a!==null&&a!==l;){var A=a,b=A.alternate,P=A.stateNode;if(A=A.tag,b!==null&&b===l)break;A!==5&&A!==26&&A!==27||P===null||(b=P,p?(P=gs(a,v),P!=null&&x.unshift(Qs(a,P,b))):p||(P=gs(a,v),P!=null&&x.push(Qs(a,P,b)))),a=a.return}x.length!==0&&n.push({event:o,listeners:x})}var dC=/\r\n?/g,hC=/\u0000|\uFFFD/g;function pg(n){return(typeof n=="string"?n:""+n).replace(dC,`
`).replace(hC,"")}function gg(n,o){return o=pg(o),pg(n)===o}function Ge(n,o,a,l,p,v){switch(a){case"children":typeof l=="string"?o==="body"||o==="textarea"&&l===""||uo(n,l):(typeof l=="number"||typeof l=="bigint")&&o!=="body"&&uo(n,""+l);break;case"className":ka(n,"class",l);break;case"tabIndex":ka(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ka(n,a,l);break;case"style":gh(n,l,v);break;case"data":if(o!=="object"){ka(n,"data",l);break}case"src":case"href":if(l===""&&(o!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Va(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(a==="formAction"?(o!=="input"&&Ge(n,o,"name",p.name,p,null),Ge(n,o,"formEncType",p.formEncType,p,null),Ge(n,o,"formMethod",p.formMethod,p,null),Ge(n,o,"formTarget",p.formTarget,p,null)):(Ge(n,o,"encType",p.encType,p,null),Ge(n,o,"method",p.method,p,null),Ge(n,o,"target",p.target,p,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Va(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Mn);break;case"onScroll":l!=null&&be("scroll",n);break;case"onScrollEnd":l!=null&&be("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(p.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Va(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":be("beforetoggle",n),be("toggle",n),Ia(n,"popover",l);break;case"xlinkActuate":bn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ia(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bx.get(a)||a,Ia(n,a,l))}}function Ic(n,o,a,l,p,v){switch(a){case"style":gh(n,l,v);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(p.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?uo(n,l):(typeof l=="number"||typeof l=="bigint")&&uo(n,""+l);break;case"onScroll":l!=null&&be("scroll",n);break;case"onScrollEnd":l!=null&&be("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rh.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),o=a.slice(2,p?a.length-7:void 0),v=n[Dt]||null,v=v!=null?v[a]:null,typeof v=="function"&&n.removeEventListener(o,v,p),typeof l=="function")){typeof v!="function"&&v!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(o,l,p);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ia(n,a,l)}}}function yt(n,o,a){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",n),be("load",n);var l=!1,p=!1,v;for(v in a)if(a.hasOwnProperty(v)){var x=a[v];if(x!=null)switch(v){case"src":l=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Ge(n,o,v,x,a,null)}}p&&Ge(n,o,"srcSet",a.srcSet,a,null),l&&Ge(n,o,"src",a.src,a,null);return;case"input":be("invalid",n);var A=v=x=p=null,b=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var B=a[l];if(B!=null)switch(l){case"name":p=B;break;case"type":x=B;break;case"checked":b=B;break;case"defaultChecked":P=B;break;case"value":v=B;break;case"defaultValue":A=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,o));break;default:Ge(n,o,l,B,a,null)}}dh(n,v,A,b,P,x,p,!1);return;case"select":be("invalid",n),l=x=v=null;for(p in a)if(a.hasOwnProperty(p)&&(A=a[p],A!=null))switch(p){case"value":v=A;break;case"defaultValue":x=A;break;case"multiple":l=A;default:Ge(n,o,p,A,a,null)}o=v,a=x,n.multiple=!!l,o!=null?lo(n,!!l,o,!1):a!=null&&lo(n,!!l,a,!0);return;case"textarea":be("invalid",n),v=p=l=null;for(x in a)if(a.hasOwnProperty(x)&&(A=a[x],A!=null))switch(x){case"value":l=A;break;case"defaultValue":p=A;break;case"children":v=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Ge(n,o,x,A,a,null)}mh(n,l,p,v);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ge(n,o,b,l,a,null)}return;case"dialog":be("beforetoggle",n),be("toggle",n),be("cancel",n),be("close",n);break;case"iframe":case"object":be("load",n);break;case"video":case"audio":for(l=0;l<Xs.length;l++)be(Xs[l],n);break;case"image":be("error",n),be("load",n);break;case"details":be("toggle",n);break;case"embed":case"source":case"link":be("error",n),be("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Ge(n,o,P,l,a,null)}return;default:if(Jl(o)){for(B in a)a.hasOwnProperty(B)&&(l=a[B],l!==void 0&&Ic(n,o,B,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Ge(n,o,A,l,a,null))}function mC(n,o,a,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,x=null,A=null,b=null,P=null,B=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":b=X;default:l.hasOwnProperty(H)||Ge(n,o,H,null,l,X)}}for(var z in l){var H=l[z];if(X=a[z],l.hasOwnProperty(z)&&(H!=null||X!=null))switch(z){case"type":v=H;break;case"name":p=H;break;case"checked":P=H;break;case"defaultChecked":B=H;break;case"value":x=H;break;case"defaultValue":A=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,o));break;default:H!==X&&Ge(n,o,z,H,l,X)}}Fl(n,x,A,b,P,B,v,p);return;case"select":H=x=A=z=null;for(v in a)if(b=a[v],a.hasOwnProperty(v)&&b!=null)switch(v){case"value":break;case"multiple":H=b;default:l.hasOwnProperty(v)||Ge(n,o,v,null,l,b)}for(p in l)if(v=l[p],b=a[p],l.hasOwnProperty(p)&&(v!=null||b!=null))switch(p){case"value":z=v;break;case"defaultValue":A=v;break;case"multiple":x=v;default:v!==b&&Ge(n,o,p,v,l,b)}o=A,a=x,l=H,z!=null?lo(n,!!a,z,!1):!!l!=!!a&&(o!=null?lo(n,!!a,o,!0):lo(n,!!a,a?[]:"",!1));return;case"textarea":H=z=null;for(A in a)if(p=a[A],a.hasOwnProperty(A)&&p!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Ge(n,o,A,null,l,p)}for(x in l)if(p=l[x],v=a[x],l.hasOwnProperty(x)&&(p!=null||v!=null))switch(x){case"value":z=p;break;case"defaultValue":H=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==v&&Ge(n,o,x,p,l,v)}hh(n,z,H);return;case"option":for(var oe in a)if(z=a[oe],a.hasOwnProperty(oe)&&z!=null&&!l.hasOwnProperty(oe))switch(oe){case"selected":n.selected=!1;break;default:Ge(n,o,oe,null,l,z)}for(b in l)if(z=l[b],H=a[b],l.hasOwnProperty(b)&&z!==H&&(z!=null||H!=null))switch(b){case"selected":n.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Ge(n,o,b,z,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in a)z=a[he],a.hasOwnProperty(he)&&z!=null&&!l.hasOwnProperty(he)&&Ge(n,o,he,null,l,z);for(P in l)if(z=l[P],H=a[P],l.hasOwnProperty(P)&&z!==H&&(z!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,o));break;default:Ge(n,o,P,z,l,H)}return;default:if(Jl(o)){for(var He in a)z=a[He],a.hasOwnProperty(He)&&z!==void 0&&!l.hasOwnProperty(He)&&Ic(n,o,He,void 0,l,z);for(B in l)z=l[B],H=a[B],!l.hasOwnProperty(B)||z===H||z===void 0&&H===void 0||Ic(n,o,B,z,l,H);return}}for(var U in a)z=a[U],a.hasOwnProperty(U)&&z!=null&&!l.hasOwnProperty(U)&&Ge(n,o,U,null,l,z);for(X in l)z=l[X],H=a[X],!l.hasOwnProperty(X)||z===H||z==null&&H==null||Ge(n,o,X,z,l,H)}function yg(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pC(){if(typeof performance.getEntriesByType=="function"){for(var n=0,o=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var p=a[l],v=p.transferSize,x=p.initiatorType,A=p.duration;if(v&&A&&yg(x)){for(x=0,A=p.responseEnd,l+=1;l<a.length;l++){var b=a[l],P=b.startTime;if(P>A)break;var B=b.transferSize,X=b.initiatorType;B&&yg(X)&&(b=b.responseEnd,x+=B*(b<A?1:(A-P)/(b-P)))}if(--l,o+=8*(v+x)/(p.duration/1e3),n++,10<n)break}}if(0<n)return o/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var kc=null,Uc=null;function Rr(n){return n.nodeType===9?n:n.ownerDocument}function vg(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tg(n,o){if(n===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&o==="foreignObject"?0:n}function Vc(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Lc=null;function gC(){var n=window.event;return n&&n.type==="popstate"?n===Lc?!1:(Lc=n,!0):(Lc=null,!1)}var Sg=typeof setTimeout=="function"?setTimeout:void 0,yC=typeof clearTimeout=="function"?clearTimeout:void 0,xg=typeof Promise=="function"?Promise:void 0,vC=typeof queueMicrotask=="function"?queueMicrotask:typeof xg<"u"?function(n){return xg.resolve(null).then(n).catch(TC)}:Sg;function TC(n){setTimeout(function(){throw n})}function pi(n){return n==="head"}function Eg(n,o){var a=o,l=0;do{var p=a.nextSibling;if(n.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(p),Bo(o);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")$s(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,$s(a);for(var v=a.firstChild;v;){var x=v.nextSibling,A=v.nodeName;v[ms]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=x}}else a==="body"&&$s(n.ownerDocument.body);a=p}while(a);Bo(o)}function Cg(n,o){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?o?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(o?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function Pc(n){var o=n.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var a=o;switch(o=o.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pc(a),ql(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function SC(n,o,a,l){for(;n.nodeType===1;){var p=a;if(n.nodeName.toLowerCase()!==o.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[ms])switch(o){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(v=n.getAttribute("rel"),v==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(v!==p.rel||n.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||n.getAttribute("title")!==(p.title==null?null:p.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(v=n.getAttribute("src"),(v!==(p.src==null?null:p.src)||n.getAttribute("type")!==(p.type==null?null:p.type)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(o==="input"&&n.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&n.getAttribute("name")===v)return n}else return n;if(n=tn(n.nextSibling),n===null)break}return null}function xC(n,o,a){if(o==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=tn(n.nextSibling),n===null))return null;return n}function Ag(n,o){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=tn(n.nextSibling),n===null))return null;return n}function zc(n){return n.data==="$?"||n.data==="$~"}function Gc(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function EC(n,o){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=o;else if(n.data!=="$?"||a.readyState!=="loading")o();else{var l=function(){o(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function tn(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return n}var Hc=null;function _g(n){n=n.nextSibling;for(var o=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(o===0)return tn(n.nextSibling);o--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||o++}n=n.nextSibling}return null}function bg(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(o===0)return n;o--}else a!=="/$"&&a!=="/&"||o++}n=n.previousSibling}return null}function Mg(n,o,a){switch(o=Rr(a),n){case"html":if(n=o.documentElement,!n)throw Error(s(452));return n;case"head":if(n=o.head,!n)throw Error(s(453));return n;case"body":if(n=o.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function $s(n){for(var o=n.attributes;o.length;)n.removeAttributeNode(o[0]);ql(n)}var nn=new Map,Ng=new Set;function Dr(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var On=V.d;V.d={f:CC,r:AC,D:_C,C:bC,L:MC,m:NC,X:RC,S:wC,M:DC};function CC(){var n=On.f(),o=Er();return n||o}function AC(n){var o=so(n);o!==null&&o.tag===5&&o.type==="form"?Ym(o):On.r(n)}var zo=typeof document>"u"?null:document;function wg(n,o,a){var l=zo;if(l&&typeof o=="string"&&o){var p=Xt(o);p='link[rel="'+n+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),Ng.has(p)||(Ng.add(p),n={rel:n,crossOrigin:a,href:o},l.querySelector(p)===null&&(o=l.createElement("link"),yt(o,"link",n),ct(o),l.head.appendChild(o)))}}function _C(n){On.D(n),wg("dns-prefetch",n,null)}function bC(n,o){On.C(n,o),wg("preconnect",n,o)}function MC(n,o,a){On.L(n,o,a);var l=zo;if(l&&n&&o){var p='link[rel="preload"][as="'+Xt(o)+'"]';o==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+Xt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+Xt(a.imageSizes)+'"]')):p+='[href="'+Xt(n)+'"]';var v=p;switch(o){case"style":v=Go(n);break;case"script":v=Ho(n)}nn.has(v)||(n=T({rel:"preload",href:o==="image"&&a&&a.imageSrcSet?void 0:n,as:o},a),nn.set(v,n),l.querySelector(p)!==null||o==="style"&&l.querySelector(Zs(v))||o==="script"&&l.querySelector(Ws(v))||(o=l.createElement("link"),yt(o,"link",n),ct(o),l.head.appendChild(o)))}}function NC(n,o){On.m(n,o);var a=zo;if(a&&n){var l=o&&typeof o.as=="string"?o.as:"script",p='link[rel="modulepreload"][as="'+Xt(l)+'"][href="'+Xt(n)+'"]',v=p;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Ho(n)}if(!nn.has(v)&&(n=T({rel:"modulepreload",href:n},o),nn.set(v,n),a.querySelector(p)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ws(v)))return}l=a.createElement("link"),yt(l,"link",n),ct(l),a.head.appendChild(l)}}}function wC(n,o,a){On.S(n,o,a);var l=zo;if(l&&n){var p=ao(l).hoistableStyles,v=Go(n);o=o||"default";var x=p.get(v);if(!x){var A={loading:0,preload:null};if(x=l.querySelector(Zs(v)))A.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":o},a),(a=nn.get(v))&&Bc(n,a);var b=x=l.createElement("link");ct(b),yt(b,"link",n),b._p=new Promise(function(P,B){b.onload=P,b.onerror=B}),b.addEventListener("load",function(){A.loading|=1}),b.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Ir(x,o,l)}x={type:"stylesheet",instance:x,count:1,state:A},p.set(v,x)}}}function RC(n,o){On.X(n,o);var a=zo;if(a&&n){var l=ao(a).hoistableScripts,p=Ho(n),v=l.get(p);v||(v=a.querySelector(Ws(p)),v||(n=T({src:n,async:!0},o),(o=nn.get(p))&&qc(n,o),v=a.createElement("script"),ct(v),yt(v,"link",n),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},l.set(p,v))}}function DC(n,o){On.M(n,o);var a=zo;if(a&&n){var l=ao(a).hoistableScripts,p=Ho(n),v=l.get(p);v||(v=a.querySelector(Ws(p)),v||(n=T({src:n,async:!0,type:"module"},o),(o=nn.get(p))&&qc(n,o),v=a.createElement("script"),ct(v),yt(v,"link",n),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},l.set(p,v))}}function Rg(n,o,a,l){var p=(p=Se.current)?Dr(p):null;if(!p)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(o=Go(a.href),a=ao(p).hoistableStyles,l=a.get(o),l||(l={type:"style",instance:null,count:0,state:null},a.set(o,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Go(a.href);var v=ao(p).hoistableStyles,x=v.get(n);if(x||(p=p.ownerDocument||p,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(n,x),(v=p.querySelector(Zs(n)))&&!v._p&&(x.instance=v,x.state.loading=5),nn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},nn.set(n,a),v||IC(p,n,a,x.state))),o&&l===null)throw Error(s(528,""));return x}if(o&&l!==null)throw Error(s(529,""));return null;case"script":return o=a.async,a=a.src,typeof a=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ho(a),a=ao(p).hoistableScripts,l=a.get(o),l||(l={type:"script",instance:null,count:0,state:null},a.set(o,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Go(n){return'href="'+Xt(n)+'"'}function Zs(n){return'link[rel="stylesheet"]['+n+"]"}function Dg(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function IC(n,o,a,l){n.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=n.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),yt(o,"link",a),ct(o),n.head.appendChild(o))}function Ho(n){return'[src="'+Xt(n)+'"]'}function Ws(n){return"script[async]"+n}function Ig(n,o,a){if(o.count++,o.instance===null)switch(o.type){case"style":var l=n.querySelector('style[data-href~="'+Xt(a.href)+'"]');if(l)return o.instance=l,ct(l),l;var p=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),ct(l),yt(l,"style",p),Ir(l,a.precedence,n),o.instance=l;case"stylesheet":p=Go(a.href);var v=n.querySelector(Zs(p));if(v)return o.state.loading|=4,o.instance=v,ct(v),v;l=Dg(a),(p=nn.get(p))&&Bc(l,p),v=(n.ownerDocument||n).createElement("link"),ct(v);var x=v;return x._p=new Promise(function(A,b){x.onload=A,x.onerror=b}),yt(v,"link",l),o.state.loading|=4,Ir(v,a.precedence,n),o.instance=v;case"script":return v=Ho(a.src),(p=n.querySelector(Ws(v)))?(o.instance=p,ct(p),p):(l=a,(p=nn.get(v))&&(l=T({},a),qc(l,p)),n=n.ownerDocument||n,p=n.createElement("script"),ct(p),yt(p,"link",l),n.head.appendChild(p),o.instance=p);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(l=o.instance,o.state.loading|=4,Ir(l,a.precedence,n));return o.instance}function Ir(n,o,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=l.length?l[l.length-1]:null,v=p,x=0;x<l.length;x++){var A=l[x];if(A.dataset.precedence===o)v=A;else if(v!==p)break}v?v.parentNode.insertBefore(n,v.nextSibling):(o=a.nodeType===9?a.head:a,o.insertBefore(n,o.firstChild))}function Bc(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.title==null&&(n.title=o.title)}function qc(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.integrity==null&&(n.integrity=o.integrity)}var kr=null;function kg(n,o,a){if(kr===null){var l=new Map,p=kr=new Map;p.set(a,l)}else p=kr,l=p.get(a),l||(l=new Map,p.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),p=0;p<a.length;p++){var v=a[p];if(!(v[ms]||v[ht]||n==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var x=v.getAttribute(o)||"";x=n+x;var A=l.get(x);A?A.push(v):l.set(x,[v])}}return l}function Ug(n,o,a){n=n.ownerDocument||n,n.head.insertBefore(a,o==="title"?n.querySelector("head > title"):null)}function kC(n,o,a){if(a===1||o.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return n=o.disabled,typeof o.precedence=="string"&&n==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Vg(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function UC(n,o,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=Go(l.href),v=o.querySelector(Zs(p));if(v){o=v._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(n.count++,n=Ur.bind(n),o.then(n,n)),a.state.loading|=4,a.instance=v,ct(v);return}v=o.ownerDocument||o,l=Dg(l),(p=nn.get(p))&&Bc(l,p),v=v.createElement("link"),ct(v);var x=v;x._p=new Promise(function(A,b){x.onload=A,x.onerror=b}),yt(v,"link",l),a.instance=v}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,o),(o=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=Ur.bind(n),o.addEventListener("load",a),o.addEventListener("error",a))}}var Oc=0;function VC(n,o){return n.stylesheets&&n.count===0&&Lr(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&Lr(n,n.stylesheets),n.unsuspend){var v=n.unsuspend;n.unsuspend=null,v()}},6e4+o);0<n.imgBytes&&Oc===0&&(Oc=62500*pC());var p=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Lr(n,n.stylesheets),n.unsuspend)){var v=n.unsuspend;n.unsuspend=null,v()}},(n.imgBytes>Oc?50:800)+o);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(p)}}:null}function Ur(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lr(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Vr=null;function Lr(n,o){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Vr=new Map,o.forEach(LC,n),Vr=null,Ur.call(n))}function LC(n,o){if(!(o.state.loading&4)){var a=Vr.get(n);if(a)var l=a.get(null);else{a=new Map,Vr.set(n,a);for(var p=n.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var x=p[v];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),l=x)}l&&a.set(null,l)}p=o.instance,x=p.getAttribute("data-precedence"),v=a.get(x)||l,v===l&&a.set(null,p),a.set(x,p),this.count++,l=Ur.bind(this),p.addEventListener("load",l),p.addEventListener("error",l),v?v.parentNode.insertBefore(p,v.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(p,n.firstChild)),o.state.loading|=4}}var js={$$typeof:I,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function PC(n,o,a,l,p,v,x,A,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.hiddenUpdates=xt(null),this.identifierPrefix=l,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Lg(n,o,a,l,p,v,x,A,b,P,B,X){return n=new PC(n,o,a,x,b,P,B,X,A),o=1,v===!0&&(o|=24),v=Ht(3,null,null,o),n.current=v,v.stateNode=n,o=Eu(),o.refCount++,n.pooledCache=o,o.refCount++,v.memoizedState={element:l,isDehydrated:a,cache:o},bu(v),n}function Pg(n){return n?(n=yo,n):yo}function zg(n,o,a,l,p,v){p=Pg(p),l.context===null?l.context=p:l.pendingContext=p,l=oi(o),l.payload={element:a},v=v===void 0?null:v,v!==null&&(l.callback=v),a=si(n,l,o),a!==null&&(Pt(a,n,o),Ds(a,n,o))}function Gg(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<o?a:o}}function Fc(n,o){Gg(n,o),(n=n.alternate)&&Gg(n,o)}function Hg(n){if(n.tag===13||n.tag===31){var o=Ri(n,67108864);o!==null&&Pt(o,n,67108864),Fc(n,67108864)}}function Bg(n){if(n.tag===13||n.tag===31){var o=Yt();o=Gl(o);var a=Ri(n,o);a!==null&&Pt(a,n,o),Fc(n,o)}}var Pr=!0;function zC(n,o,a,l){var p=k.T;k.T=null;var v=V.p;try{V.p=2,Yc(n,o,a,l)}finally{V.p=v,k.T=p}}function GC(n,o,a,l){var p=k.T;k.T=null;var v=V.p;try{V.p=8,Yc(n,o,a,l)}finally{V.p=v,k.T=p}}function Yc(n,o,a,l){if(Pr){var p=Jc(l);if(p===null)Dc(n,o,l,zr,a),Og(n,l);else if(BC(p,n,o,a,l))l.stopPropagation();else if(Og(n,l),o&4&&-1<HC.indexOf(n)){for(;p!==null;){var v=so(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var x=re(v.pendingLanes);if(x!==0){var A=v;for(A.pendingLanes|=2,A.entangledLanes|=2;x;){var b=1<<31-_t(x);A.entanglements[1]|=b,x&=~b}En(v),(Ve&6)===0&&(Sr=Tt()+500,Ks(0))}}break;case 31:case 13:A=Ri(v,2),A!==null&&Pt(A,v,2),Er(),Fc(v,2)}if(v=Jc(l),v===null&&Dc(n,o,l,zr,a),v===p)break;p=v}p!==null&&l.stopPropagation()}else Dc(n,o,l,null,a)}}function Jc(n){return n=Xl(n),Kc(n)}var zr=null;function Kc(n){if(zr=null,n=oo(n),n!==null){var o=u(n);if(o===null)n=null;else{var a=o.tag;if(a===13){if(n=c(o),n!==null)return n;n=null}else if(a===31){if(n=h(o),n!==null)return n;n=null}else if(a===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}return zr=n,null}function qg(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Il()){case Ra:return 2;case to:return 8;case no:case kl:return 32;case Da:return 268435456;default:return 32}default:return 32}}var Xc=!1,gi=null,yi=null,vi=null,ea=new Map,ta=new Map,Ti=[],HC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Og(n,o){switch(n){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":ea.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ta.delete(o.pointerId)}}function na(n,o,a,l,p,v){return n===null||n.nativeEvent!==v?(n={blockedOn:o,domEventName:a,eventSystemFlags:l,nativeEvent:v,targetContainers:[p]},o!==null&&(o=so(o),o!==null&&Hg(o)),n):(n.eventSystemFlags|=l,o=n.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),n)}function BC(n,o,a,l,p){switch(o){case"focusin":return gi=na(gi,n,o,a,l,p),!0;case"dragenter":return yi=na(yi,n,o,a,l,p),!0;case"mouseover":return vi=na(vi,n,o,a,l,p),!0;case"pointerover":var v=p.pointerId;return ea.set(v,na(ea.get(v)||null,n,o,a,l,p)),!0;case"gotpointercapture":return v=p.pointerId,ta.set(v,na(ta.get(v)||null,n,o,a,l,p)),!0}return!1}function Fg(n){var o=oo(n.target);if(o!==null){var a=u(o);if(a!==null){if(o=a.tag,o===13){if(o=c(a),o!==null){n.blockedOn=o,oh(n.priority,function(){Bg(a)});return}}else if(o===31){if(o=h(a),o!==null){n.blockedOn=o,oh(n.priority,function(){Bg(a)});return}}else if(o===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Gr(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var a=Jc(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Kl=l,a.target.dispatchEvent(l),Kl=null}else return o=so(a),o!==null&&Hg(o),n.blockedOn=a,!1;o.shift()}return!0}function Yg(n,o,a){Gr(n)&&a.delete(o)}function qC(){Xc=!1,gi!==null&&Gr(gi)&&(gi=null),yi!==null&&Gr(yi)&&(yi=null),vi!==null&&Gr(vi)&&(vi=null),ea.forEach(Yg),ta.forEach(Yg)}function Hr(n,o){n.blockedOn===o&&(n.blockedOn=null,Xc||(Xc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,qC)))}var Br=null;function Jg(n){Br!==n&&(Br=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Br===n&&(Br=null);for(var o=0;o<n.length;o+=3){var a=n[o],l=n[o+1],p=n[o+2];if(typeof l!="function"){if(Kc(l||a)===null)continue;break}var v=so(a);v!==null&&(n.splice(o,3),o-=3,Ju(v,{pending:!0,data:p,method:a.method,action:l},l,p))}}))}function Bo(n){function o(b){return Hr(b,n)}gi!==null&&Hr(gi,n),yi!==null&&Hr(yi,n),vi!==null&&Hr(vi,n),ea.forEach(o),ta.forEach(o);for(var a=0;a<Ti.length;a++){var l=Ti[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Ti.length&&(a=Ti[0],a.blockedOn===null);)Fg(a),a.blockedOn===null&&Ti.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var p=a[l],v=a[l+1],x=p[Dt]||null;if(typeof v=="function")x||Jg(a);else if(x){var A=null;if(v&&v.hasAttribute("formAction")){if(p=v,x=v[Dt]||null)A=x.formAction;else if(Kc(p)!==null)continue}else A=x.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),Jg(a)}}}function Kg(){function n(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(x){return p=x})},focusReset:"manual",scroll:"manual"})}function o(){p!==null&&(p(),p=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,p=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),p!==null&&(p(),p=null)}}}function Qc(n){this._internalRoot=n}qr.prototype.render=Qc.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(s(409));var a=o.current,l=Yt();zg(a,l,n,o,null,null)},qr.prototype.unmount=Qc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;zg(n.current,2,null,n,null,null),Er(),o[io]=null}};function qr(n){this._internalRoot=n}qr.prototype.unstable_scheduleHydration=function(n){if(n){var o=ih();n={blockedOn:null,target:n,priority:o};for(var a=0;a<Ti.length&&o!==0&&o<Ti[a].priority;a++);Ti.splice(a,0,n),a===0&&Fg(n)}};var Xg=e.version;if(Xg!=="19.2.3")throw Error(s(527,Xg,"19.2.3"));V.findDOMNode=function(n){var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=m(o),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var OC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Or=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Or.isDisabled&&Or.supportsFiber)try{_i=Or.inject(OC),St=Or}catch{}}return oa.createRoot=function(n,o){if(!r(n))throw Error(s(299));var a=!1,l="",p=tp,v=np,x=ip;return o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(l=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError)),o=Lg(n,1,!1,null,null,a,l,null,p,v,x,Kg),n[io]=o.current,Rc(n),new Qc(o)},oa.hydrateRoot=function(n,o,a){if(!r(n))throw Error(s(299));var l=!1,p="",v=tp,x=np,A=ip,b=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(b=a.formState)),o=Lg(n,1,!0,o,a??null,l,p,b,v,x,A,Kg),o.context=Pg(null),a=o.current,l=Yt(),l=Gl(l),p=oi(l),p.callback=null,si(a,p,l),a=l,o.current.lanes=a,Rt(o,a),En(o),n[io]=o.current,Rc(n),new qr(o)},oa.version="19.2.3",oa}var o0;function eA(){if(o0)return Wc.exports;o0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Wc.exports=jC(),Wc.exports}var tA=eA();const nA=tT(tA);var Xi=(t=>(t.LEFT="LEFT",t.RIGHT="RIGHT",t.UP="UP",t))(Xi||{}),iA={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let oA,sA;function aA(){return{geminiUrl:oA,vertexUrl:sA}}function rA(t,e,i,s){var r,u;if(!(t!=null&&t.baseUrl)){const c=aA();return e?(r=c.vertexUrl)!==null&&r!==void 0?r:i:(u=c.geminiUrl)!==null&&u!==void 0?u:s}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xn{}function te(t,e){const i=/\{([^}]+)\}/g;return t.replace(i,(s,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const u=e[r];return u!=null?String(u):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function d(t,e,i){for(let u=0;u<e.length-1;u++){const c=e[u];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in t))if(Array.isArray(i))t[h]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[h])){const g=t[h];if(Array.isArray(i))for(let m=0;m<g.length;m++){const y=g[m];d(y,e.slice(u+1),i[m])}else for(const m of g)d(m,e.slice(u+1),i)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in t||(t[h]=[{}]);const g=t[h];d(g[0],e.slice(u+1),i);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const s=e[e.length-1],r=t[s];if(r!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===r)return;if(typeof r=="object"&&typeof i=="object"&&r!==null&&i!==null)Object.assign(r,i);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(t,i):t[s]=i}function f(t,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let s=0;s<e.length;s++){if(typeof t!="object"||t===null)return i;const r=e[s];if(r.endsWith("[]")){const u=r.slice(0,-2);if(u in t){const c=t[u];return Array.isArray(c)?c.map(h=>f(h,e.slice(s+1),i)):i}else return i}else t=t[r]}return t}catch(s){if(s instanceof TypeError)return i;throw s}}function lA(t,e){for(const[i,s]of Object.entries(e)){const r=i.split("."),u=s.split("."),c=new Set;let h=-1;for(let g=0;g<r.length;g++)if(r[g]==="*"){h=g;break}if(h!==-1&&u.length>h)for(let g=h;g<u.length;g++){const m=u[g];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&c.add(m)}xf(t,r,u,0,c)}}function xf(t,e,i,s,r){if(s>=e.length||typeof t!="object"||t===null)return;const u=e[s];if(u.endsWith("[]")){const c=u.slice(0,-2),h=t;if(c in h&&Array.isArray(h[c]))for(const g of h[c])xf(g,e,i,s+1,r)}else if(u==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,h=Object.keys(c).filter(m=>!m.startsWith("_")&&!r.has(m)),g={};for(const m of h)g[m]=c[m];for(const[m,y]of Object.entries(g)){const T=[];for(const S of i.slice(s))S==="*"?T.push(m):T.push(S);d(c,T,y)}for(const m of h)delete c[m]}}else{const c=t;u in c&&xf(c[u],e,i,s+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cd(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uA(t){const e={},i=f(t,["operationName"]);i!=null&&d(e,["operationName"],i);const s=f(t,["resourceName"]);return s!=null&&d(e,["_url","resourceName"],s),e}function cA(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["metadata"]);s!=null&&d(e,["metadata"],s);const r=f(t,["done"]);r!=null&&d(e,["done"],r);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response","generateVideoResponse"]);return c!=null&&d(e,["response"],dA(c)),e}function fA(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["metadata"]);s!=null&&d(e,["metadata"],s);const r=f(t,["done"]);r!=null&&d(e,["done"],r);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response"]);return c!=null&&d(e,["response"],hA(c)),e}function dA(t){const e={},i=f(t,["generatedSamples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>mA(c))),d(e,["generatedVideos"],u)}const s=f(t,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const r=f(t,["raiMediaFilteredReasons"]);return r!=null&&d(e,["raiMediaFilteredReasons"],r),e}function hA(t){const e={},i=f(t,["videos"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>pA(c))),d(e,["generatedVideos"],u)}const s=f(t,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const r=f(t,["raiMediaFilteredReasons"]);return r!=null&&d(e,["raiMediaFilteredReasons"],r),e}function mA(t){const e={},i=f(t,["video"]);return i!=null&&d(e,["video"],xA(i)),e}function pA(t){const e={},i=f(t,["_self"]);return i!=null&&d(e,["video"],EA(i)),e}function gA(t){const e={},i=f(t,["operationName"]);return i!=null&&d(e,["_url","operationName"],i),e}function yA(t){const e={},i=f(t,["operationName"]);return i!=null&&d(e,["_url","operationName"],i),e}function vA(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["metadata"]);s!=null&&d(e,["metadata"],s);const r=f(t,["done"]);r!=null&&d(e,["done"],r);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response"]);return c!=null&&d(e,["response"],TA(c)),e}function TA(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["parent"]);s!=null&&d(e,["parent"],s);const r=f(t,["documentName"]);return r!=null&&d(e,["documentName"],r),e}function nT(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["metadata"]);s!=null&&d(e,["metadata"],s);const r=f(t,["done"]);r!=null&&d(e,["done"],r);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response"]);return c!=null&&d(e,["response"],SA(c)),e}function SA(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["parent"]);s!=null&&d(e,["parent"],s);const r=f(t,["documentName"]);return r!=null&&d(e,["documentName"],r),e}function xA(t){const e={},i=f(t,["uri"]);i!=null&&d(e,["uri"],i);const s=f(t,["encodedVideo"]);s!=null&&d(e,["videoBytes"],cd(s));const r=f(t,["encoding"]);return r!=null&&d(e,["mimeType"],r),e}function EA(t){const e={},i=f(t,["gcsUri"]);i!=null&&d(e,["uri"],i);const s=f(t,["bytesBase64Encoded"]);s!=null&&d(e,["videoBytes"],cd(s));const r=f(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var s0;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(s0||(s0={}));var a0;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(a0||(a0={}));var r0;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(r0||(r0={}));var Jt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Jt||(Jt={}));var l0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(l0||(l0={}));var u0;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(u0||(u0={}));var c0;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(c0||(c0={}));var f0;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(f0||(f0={}));var d0;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(d0||(d0={}));var h0;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(h0||(h0={}));var m0;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(m0||(m0={}));var p0;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(p0||(p0={}));var g0;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(g0||(g0={}));var y0;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(y0||(y0={}));var v0;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(v0||(v0={}));var T0;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(T0||(T0={}));var S0;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(S0||(S0={}));var x0;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(x0||(x0={}));var E0;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(E0||(E0={}));var va;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(va||(va={}));var C0;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(C0||(C0={}));var A0;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(A0||(A0={}));var _0;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(_0||(_0={}));var Ef;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ef||(Ef={}));var b0;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(b0||(b0={}));var M0;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(M0||(M0={}));var N0;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(N0||(N0={}));var w0;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(w0||(w0={}));var R0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(R0||(R0={}));var D0;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(D0||(D0={}));var I0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(I0||(I0={}));var k0;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(k0||(k0={}));var U0;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(U0||(U0={}));var V0;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(V0||(V0={}));var L0;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(L0||(L0={}));var P0;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(P0||(P0={}));var z0;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(z0||(z0={}));var G0;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(G0||(G0={}));var H0;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(H0||(H0={}));var B0;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(B0||(B0={}));var q0;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(q0||(q0={}));var O0;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(O0||(O0={}));var F0;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(F0||(F0={}));var Y0;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Y0||(Y0={}));var J0;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(J0||(J0={}));var K0;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(K0||(K0={}));var X0;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(X0||(X0={}));var Q0;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Q0||(Q0={}));var $0;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})($0||($0={}));var Z0;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Z0||(Z0={}));var W0;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(W0||(W0={}));var j0;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(j0||(j0={}));var ey;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ey||(ey={}));var ty;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ty||(ty={}));var ny;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(ny||(ny={}));var Oo;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Oo||(Oo={}));class Cf{constructor(e){const i={};for(const s of e.headers.entries())i[s[0]]=s[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class sa{get text(){var e,i,s,r,u,c,h,g;if(((r=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",y=!1;const T=[];for(const S of(g=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[C,_]of Object.entries(S))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(_!==null||_!==void 0)&&T.push(C);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;y=!0,m+=S.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?m:void 0}get data(){var e,i,s,r,u,c,h,g;if(((r=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const y=[];for(const T of(g=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[S,C]of Object.entries(T))S!=="inlineData"&&(C!==null||C!==void 0)&&y.push(S);T.inlineData&&typeof T.inlineData.data=="string"&&(m+=atob(T.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,i,s,r,u,c,h,g;if(((r=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(g=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,i,s,r,u,c,h,g,m;if(((r=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(g=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,i,s,r,u,c,h,g,m;if(((r=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(g=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.output}}class iy{}class oy{}class CA{}class AA{}class _A{}class bA{}class sy{}class ay{}class ry{}class MA{}class al{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new al;let r;const u=e;return i?r=fA(u):r=cA(u),Object.assign(s,r),s}}class ly{}class uy{}class cy{}class fy{}class NA{}class wA{}class RA{}class fd{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new fd,u=vA(e);return Object.assign(s,u),s}}class DA{}class IA{}class kA{}class dy{}class UA{get text(){var e,i,s;let r="",u=!1;const c=[];for(const h of(s=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&s!==void 0?s:[]){for(const[g,m]of Object.entries(h))g!=="text"&&g!=="thought"&&m!==null&&c.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,r+=h.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?r:void 0}get data(){var e,i,s;let r="";const u=[];for(const c of(s=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&s!==void 0?s:[]){for(const[h,g]of Object.entries(c))h!=="inlineData"&&g!==null&&u.push(h);c.inlineData&&typeof c.inlineData.data=="string"&&(r+=atob(c.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class VA{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class dd{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new dd,u=nT(e);return Object.assign(s,u),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ue(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function iT(t,e){const i=Ue(t,e);return i?i.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}`:i.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${i}`:i:""}function oT(t){return Array.isArray(t)?t.map(e=>rl(e)):[rl(t)]}function rl(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function sT(t){const e=rl(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function aT(t){const e=rl(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function hy(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function rT(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>hy(e)):[hy(t)]}function Af(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function my(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function py(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ct(t){if(t==null)throw new Error("ContentUnion is required");return Af(t)?t:{role:"user",parts:rT(t)}}function hd(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const s=Ct(i);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(t.isVertexAI()){const i=Ct(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>Ct(i)):[Ct(e)]}function an(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(my(t)||py(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ct(t)]}const e=[],i=[],s=Af(t[0]);for(const r of t){const u=Af(r);if(u!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(r);else{if(my(r)||py(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(r)}}return s||e.push({role:"user",parts:rT(i)}),e}function LA(t,e){t.includes("null")&&(e.nullable=!0);const i=t.filter(s=>s!=="null");if(i.length===1)e.type=Object.values(Jt).includes(i[0].toUpperCase())?i[0].toUpperCase():Jt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of i)e.anyOf.push({type:Object.values(Jt).includes(s.toUpperCase())?s.toUpperCase():Jt.TYPE_UNSPECIFIED})}}function $o(t){const e={},i=["items"],s=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=t.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,t=u[1]):u[1].type==="null"&&(e.nullable=!0,t=u[0])),t.type instanceof Array&&LA(t.type,e);for(const[c,h]of Object.entries(t))if(h!=null)if(c=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(Jt).includes(h.toUpperCase())?h.toUpperCase():Jt.TYPE_UNSPECIFIED}else if(i.includes(c))e[c]=$o(h);else if(s.includes(c)){const g=[];for(const m of h){if(m.type=="null"){e.nullable=!0;continue}g.push($o(m))}e[c]=g}else if(r.includes(c)){const g={};for(const[m,y]of Object.entries(h))g[m]=$o(y);e[c]=g}else{if(c==="additionalProperties")continue;e[c]=h}return e}function md(t){return $o(t)}function pd(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function gd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ns(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=$o(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=$o(e.response));return t}function is(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of t)e.push(i);return e}function PA(t,e,i,s=1){const r=!e.startsWith(`${i}/`)&&e.split("/").length===s;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}/${e}`:e:r?`${i}/${e}`:e}function Qn(t,e){if(typeof e!="string")throw new Error("name must be a string");return PA(t,e,"cachedContents")}function lT(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ci(t){return cd(t)}function zA(t){return t!=null&&typeof t=="object"&&"name"in t}function GA(t){return t!=null&&typeof t=="object"&&"video"in t}function HA(t){return t!=null&&typeof t=="object"&&"uri"in t}function uT(t){var e;let i;if(zA(t)&&(i=t.name),!(HA(t)&&(i=t.uri,i===void 0))&&!(GA(t)&&(i=(e=t.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const r=i.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${i}`);i=r[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function cT(t,e){let i;return t.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function fT(t){for(const e of["models","tunedModels","publisherModels"])if(BA(t,e))return t[e];return[]}function BA(t,e){return t!==null&&typeof t=="object"&&e in t}function qA(t,e={}){const i=t,s={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(s.responseJsonSchema=i.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function OA(t,e={}){const i=[],s=new Set;for(const r of t){const u=r.name;if(s.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);s.add(u);const c=qA(r,e);c.functionDeclarations&&i.push(...c.functionDeclarations)}return{functionDeclarations:i}}function dT(t,e){let i;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const s=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,r=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function FA(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function hT(t){if(typeof t!="object"||t===null)return{};const e=t,i=e.inlinedResponses;if(typeof i!="object"||i===null)return t;const r=i.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let u=!1;for(const c of r){if(typeof c!="object"||c===null)continue;const g=c.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function os(t,e){const i=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function mT(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YA(t){const e={},i=f(t,["responsesFile"]);i!=null&&d(e,["fileName"],i);const s=f(t,["inlinedResponses","inlinedResponses"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>__(c))),d(e,["inlinedResponses"],u)}const r=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["inlinedEmbedContentResponses"],u)}return e}function JA(t){const e={},i=f(t,["predictionsFormat"]);i!=null&&d(e,["format"],i);const s=f(t,["gcsDestination","outputUriPrefix"]);s!=null&&d(e,["gcsUri"],s);const r=f(t,["bigqueryDestination","outputUri"]);return r!=null&&d(e,["bigqueryUri"],r),e}function KA(t){const e={},i=f(t,["format"]);i!=null&&d(e,["predictionsFormat"],i);const s=f(t,["gcsUri"]);s!=null&&d(e,["gcsDestination","outputUriPrefix"],s);const r=f(t,["bigqueryUri"]);if(r!=null&&d(e,["bigqueryDestination","outputUri"],r),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function jr(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["metadata","displayName"]);s!=null&&d(e,["displayName"],s);const r=f(t,["metadata","state"]);r!=null&&d(e,["state"],mT(r));const u=f(t,["metadata","createTime"]);u!=null&&d(e,["createTime"],u);const c=f(t,["metadata","endTime"]);c!=null&&d(e,["endTime"],c);const h=f(t,["metadata","updateTime"]);h!=null&&d(e,["updateTime"],h);const g=f(t,["metadata","model"]);g!=null&&d(e,["model"],g);const m=f(t,["metadata","output"]);return m!=null&&d(e,["dest"],YA(hT(m))),e}function _f(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["displayName"]);s!=null&&d(e,["displayName"],s);const r=f(t,["state"]);r!=null&&d(e,["state"],mT(r));const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["createTime"]);c!=null&&d(e,["createTime"],c);const h=f(t,["startTime"]);h!=null&&d(e,["startTime"],h);const g=f(t,["endTime"]);g!=null&&d(e,["endTime"],g);const m=f(t,["updateTime"]);m!=null&&d(e,["updateTime"],m);const y=f(t,["model"]);y!=null&&d(e,["model"],y);const T=f(t,["inputConfig"]);T!=null&&d(e,["src"],XA(T));const S=f(t,["outputConfig"]);S!=null&&d(e,["dest"],JA(hT(S)));const C=f(t,["completionStats"]);return C!=null&&d(e,["completionStats"],C),e}function XA(t){const e={},i=f(t,["instancesFormat"]);i!=null&&d(e,["format"],i);const s=f(t,["gcsSource","uris"]);s!=null&&d(e,["gcsUri"],s);const r=f(t,["bigquerySource","inputUri"]);return r!=null&&d(e,["bigqueryUri"],r),e}function QA(t,e){const i={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=f(e,["fileName"]);s!=null&&d(i,["fileName"],s);const r=f(e,["inlinedRequests"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>A_(t,c))),d(i,["requests","requests"],u)}return i}function $A(t){const e={},i=f(t,["format"]);i!=null&&d(e,["instancesFormat"],i);const s=f(t,["gcsUri"]);s!=null&&d(e,["gcsSource","uris"],s);const r=f(t,["bigqueryUri"]);if(r!=null&&d(e,["bigquerySource","inputUri"],r),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function ZA(t){const e={},i=f(t,["data"]);if(i!=null&&d(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function WA(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],os(t,s)),i}function jA(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],os(t,s)),i}function e_(t){const e={},i=f(t,["content"]);i!=null&&d(e,["content"],i);const s=f(t,["citationMetadata"]);s!=null&&d(e,["citationMetadata"],t_(s));const r=f(t,["tokenCount"]);r!=null&&d(e,["tokenCount"],r);const u=f(t,["finishReason"]);u!=null&&d(e,["finishReason"],u);const c=f(t,["avgLogprobs"]);c!=null&&d(e,["avgLogprobs"],c);const h=f(t,["groundingMetadata"]);h!=null&&d(e,["groundingMetadata"],h);const g=f(t,["index"]);g!=null&&d(e,["index"],g);const m=f(t,["logprobsResult"]);m!=null&&d(e,["logprobsResult"],m);const y=f(t,["safetyRatings"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(C=>C)),d(e,["safetyRatings"],S)}const T=f(t,["urlContextMetadata"]);return T!=null&&d(e,["urlContextMetadata"],T),e}function t_(t){const e={},i=f(t,["citationSources"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>r)),d(e,["citations"],s)}return e}function pT(t){const e={},i=f(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(u=>I_(u))),d(e,["parts"],r)}const s=f(t,["role"]);return s!=null&&d(e,["role"],s),e}function n_(t,e){const i={},s=f(t,["displayName"]);if(e!==void 0&&s!=null&&d(e,["batch","displayName"],s),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function i_(t,e){const i={},s=f(t,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const r=f(t,["dest"]);return e!==void 0&&r!=null&&d(e,["outputConfig"],KA(FA(r))),i}function gy(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ue(t,s));const r=f(e,["src"]);r!=null&&d(i,["batch","inputConfig"],QA(t,dT(t,r)));const u=f(e,["config"]);return u!=null&&n_(u,i),i}function o_(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["model"],Ue(t,s));const r=f(e,["src"]);r!=null&&d(i,["inputConfig"],$A(dT(t,r)));const u=f(e,["config"]);return u!=null&&i_(u,i),i}function s_(t,e){const i={},s=f(t,["displayName"]);return e!==void 0&&s!=null&&d(e,["batch","displayName"],s),i}function a_(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ue(t,s));const r=f(e,["src"]);r!=null&&d(i,["batch","inputConfig"],h_(t,r));const u=f(e,["config"]);return u!=null&&s_(u,i),i}function r_(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],os(t,s)),i}function l_(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],os(t,s)),i}function u_(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["name"]);s!=null&&d(e,["name"],s);const r=f(t,["done"]);r!=null&&d(e,["done"],r);const u=f(t,["error"]);return u!=null&&d(e,["error"],u),e}function c_(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["name"]);s!=null&&d(e,["name"],s);const r=f(t,["done"]);r!=null&&d(e,["done"],r);const u=f(t,["error"]);return u!=null&&d(e,["error"],u),e}function f_(t,e){const i={},s=f(e,["contents"]);if(s!=null){let u=hd(t,s);Array.isArray(u)&&(u=u.map(c=>c)),d(i,["requests[]","request","content"],u)}const r=f(e,["config"]);return r!=null&&(d(i,["_self"],d_(r,i)),lA(i,{"requests[].*":"requests[].request.*"})),i}function d_(t,e){const i={},s=f(t,["taskType"]);e!==void 0&&s!=null&&d(e,["requests[]","taskType"],s);const r=f(t,["title"]);e!==void 0&&r!=null&&d(e,["requests[]","title"],r);const u=f(t,["outputDimensionality"]);if(e!==void 0&&u!=null&&d(e,["requests[]","outputDimensionality"],u),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function h_(t,e){const i={},s=f(e,["fileName"]);s!=null&&d(i,["file_name"],s);const r=f(e,["inlinedRequests"]);return r!=null&&d(i,["requests"],f_(t,r)),i}function m_(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function p_(t){const e={},i=f(t,["id"]);i!=null&&d(e,["id"],i);const s=f(t,["args"]);s!=null&&d(e,["args"],s);const r=f(t,["name"]);if(r!=null&&d(e,["name"],r),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function g_(t){const e={},i=f(t,["mode"]);i!=null&&d(e,["mode"],i);const s=f(t,["allowedFunctionNames"]);if(s!=null&&d(e,["allowedFunctionNames"],s),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function y_(t,e,i){const s={},r=f(e,["systemInstruction"]);i!==void 0&&r!=null&&d(i,["systemInstruction"],pT(Ct(r)));const u=f(e,["temperature"]);u!=null&&d(s,["temperature"],u);const c=f(e,["topP"]);c!=null&&d(s,["topP"],c);const h=f(e,["topK"]);h!=null&&d(s,["topK"],h);const g=f(e,["candidateCount"]);g!=null&&d(s,["candidateCount"],g);const m=f(e,["maxOutputTokens"]);m!=null&&d(s,["maxOutputTokens"],m);const y=f(e,["stopSequences"]);y!=null&&d(s,["stopSequences"],y);const T=f(e,["responseLogprobs"]);T!=null&&d(s,["responseLogprobs"],T);const S=f(e,["logprobs"]);S!=null&&d(s,["logprobs"],S);const C=f(e,["presencePenalty"]);C!=null&&d(s,["presencePenalty"],C);const _=f(e,["frequencyPenalty"]);_!=null&&d(s,["frequencyPenalty"],_);const w=f(e,["seed"]);w!=null&&d(s,["seed"],w);const M=f(e,["responseMimeType"]);M!=null&&d(s,["responseMimeType"],M);const N=f(e,["responseSchema"]);N!=null&&d(s,["responseSchema"],md(N));const G=f(e,["responseJsonSchema"]);if(G!=null&&d(s,["responseJsonSchema"],G),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=f(e,["safetySettings"]);if(i!==void 0&&I!=null){let ge=I;Array.isArray(ge)&&(ge=ge.map(Me=>k_(Me))),d(i,["safetySettings"],ge)}const F=f(e,["tools"]);if(i!==void 0&&F!=null){let ge=is(F);Array.isArray(ge)&&(ge=ge.map(Me=>V_(ns(Me)))),d(i,["tools"],ge)}const Y=f(e,["toolConfig"]);if(i!==void 0&&Y!=null&&d(i,["toolConfig"],U_(Y)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=f(e,["cachedContent"]);i!==void 0&&j!=null&&d(i,["cachedContent"],Qn(t,j));const Q=f(e,["responseModalities"]);Q!=null&&d(s,["responseModalities"],Q);const $=f(e,["mediaResolution"]);$!=null&&d(s,["mediaResolution"],$);const Z=f(e,["speechConfig"]);if(Z!=null&&d(s,["speechConfig"],pd(Z)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ne=f(e,["thinkingConfig"]);ne!=null&&d(s,["thinkingConfig"],ne);const ue=f(e,["imageConfig"]);ue!=null&&d(s,["imageConfig"],C_(ue));const Ae=f(e,["enableEnhancedCivicAnswers"]);return Ae!=null&&d(s,["enableEnhancedCivicAnswers"],Ae),s}function v_(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["candidates"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(m=>e_(m))),d(e,["candidates"],g)}const r=f(t,["modelVersion"]);r!=null&&d(e,["modelVersion"],r);const u=f(t,["promptFeedback"]);u!=null&&d(e,["promptFeedback"],u);const c=f(t,["responseId"]);c!=null&&d(e,["responseId"],c);const h=f(t,["usageMetadata"]);return h!=null&&d(e,["usageMetadata"],h),e}function T_(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],os(t,s)),i}function S_(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],os(t,s)),i}function x_(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function E_(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function C_(t){const e={},i=f(t,["aspectRatio"]);i!=null&&d(e,["aspectRatio"],i);const s=f(t,["imageSize"]);if(s!=null&&d(e,["imageSize"],s),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function A_(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["request","model"],Ue(t,s));const r=f(e,["contents"]);if(r!=null){let h=an(r);Array.isArray(h)&&(h=h.map(g=>pT(g))),d(i,["request","contents"],h)}const u=f(e,["metadata"]);u!=null&&d(i,["metadata"],u);const c=f(e,["config"]);return c!=null&&d(i,["request","generationConfig"],y_(t,c,f(i,["request"],{}))),i}function __(t){const e={},i=f(t,["response"]);i!=null&&d(e,["response"],v_(i));const s=f(t,["error"]);return s!=null&&d(e,["error"],s),e}function b_(t,e){const i={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const r=f(t,["pageToken"]);if(e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function M_(t,e){const i={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const r=f(t,["pageToken"]);e!==void 0&&r!=null&&d(e,["_query","pageToken"],r);const u=f(t,["filter"]);return e!==void 0&&u!=null&&d(e,["_query","filter"],u),i}function N_(t){const e={},i=f(t,["config"]);return i!=null&&b_(i,e),e}function w_(t){const e={},i=f(t,["config"]);return i!=null&&M_(i,e),e}function R_(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const r=f(t,["operations"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>jr(c))),d(e,["batchJobs"],u)}return e}function D_(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const r=f(t,["batchPredictionJobs"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>_f(c))),d(e,["batchJobs"],u)}return e}function I_(t){const e={},i=f(t,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const s=f(t,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const r=f(t,["executableCode"]);r!=null&&d(e,["executableCode"],r);const u=f(t,["fileData"]);u!=null&&d(e,["fileData"],m_(u));const c=f(t,["functionCall"]);c!=null&&d(e,["functionCall"],p_(c));const h=f(t,["functionResponse"]);h!=null&&d(e,["functionResponse"],h);const g=f(t,["inlineData"]);g!=null&&d(e,["inlineData"],ZA(g));const m=f(t,["text"]);m!=null&&d(e,["text"],m);const y=f(t,["thought"]);y!=null&&d(e,["thought"],y);const T=f(t,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const S=f(t,["videoMetadata"]);return S!=null&&d(e,["videoMetadata"],S),e}function k_(t){const e={},i=f(t,["category"]);if(i!=null&&d(e,["category"],i),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=f(t,["threshold"]);return s!=null&&d(e,["threshold"],s),e}function U_(t){const e={},i=f(t,["functionCallingConfig"]);i!=null&&d(e,["functionCallingConfig"],g_(i));const s=f(t,["retrievalConfig"]);return s!=null&&d(e,["retrievalConfig"],s),e}function V_(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(T=>T)),d(e,["functionDeclarations"],y)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const r=f(t,["computerUse"]);r!=null&&d(e,["computerUse"],r);const u=f(t,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=f(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],x_(h));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],E_(g));const m=f(t,["urlContext"]);return m!=null&&d(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Fn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Fn||(Fn={}));class Wi{constructor(e,i,s,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,s,r)}init(e,i,s){var r,u;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!s||Object.keys(s).length===0?c={config:{}}:typeof s=="object"?c=Object.assign({},s):c=s,c.config&&(c.config.pageToken=i.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(u=(r=c.config)===null||r===void 0?void 0:r.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L_ extends Xn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Wi(Fn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=gy(this.apiClient,e),s=i._url,r=te("{model}:batchGenerateContent",s),h=i.batch.inputConfig.requests,g=h.requests,m=[];for(const y of g){const T=Object.assign({},y);if(T.systemInstruction){const S=T.systemInstruction;delete T.systemInstruction;const C=T.request;C.systemInstruction=S,T.request=C}m.push(T)}return h.requests=m,delete i.config,delete i._url,delete i._query,{path:r,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const s=i?Object.assign({},i):{},r=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${r}`),s.dest===void 0){const u=this.getGcsUri(e),c=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?s.dest=`${u.slice(0,-6)}/dest`:s.dest=`${u}_dest_${r}`;else if(c)s.dest=`${c}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var i,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=o_(this.apiClient,e);return h=te("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>_f(y))}else{const m=gy(this.apiClient,e);return h=te("{model}:batchGenerateContent",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),c.then(y=>jr(y))}}async createEmbeddingsInternal(e){var i,s;let r,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=a_(this.apiClient,e);return u=te("{model}:asyncBatchEmbedContent",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>jr(g))}}async get(e){var i,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=S_(this.apiClient,e);return h=te("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>_f(y))}else{const m=T_(this.apiClient,e);return h=te("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),c.then(y=>jr(y))}}async cancel(e){var i,s,r,u;let c="",h={};if(this.apiClient.isVertexAI()){const g=jA(this.apiClient,e);c=te("batchPredictionJobs/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const g=WA(this.apiClient,e);c=te("batches/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var i,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=w_(e);return h=te("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=D_(y),S=new dy;return Object.assign(S,T),S})}else{const m=N_(e);return h=te("batches",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=R_(y),S=new dy;return Object.assign(S,T),S})}}async delete(e){var i,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=l_(this.apiClient,e);return h=te("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>c_(y))}else{const m=r_(this.apiClient,e);return h=te("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>u_(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function P_(t){const e={},i=f(t,["data"]);if(i!=null&&d(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function yy(t){const e={},i=f(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(u=>ab(u))),d(e,["parts"],r)}const s=f(t,["role"]);return s!=null&&d(e,["role"],s),e}function z_(t,e){const i={},s=f(t,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const r=f(t,["expireTime"]);e!==void 0&&r!=null&&d(e,["expireTime"],r);const u=f(t,["displayName"]);e!==void 0&&u!=null&&d(e,["displayName"],u);const c=f(t,["contents"]);if(e!==void 0&&c!=null){let y=an(c);Array.isArray(y)&&(y=y.map(T=>yy(T))),d(e,["contents"],y)}const h=f(t,["systemInstruction"]);e!==void 0&&h!=null&&d(e,["systemInstruction"],yy(Ct(h)));const g=f(t,["tools"]);if(e!==void 0&&g!=null){let y=g;Array.isArray(y)&&(y=y.map(T=>lb(T))),d(e,["tools"],y)}const m=f(t,["toolConfig"]);if(e!==void 0&&m!=null&&d(e,["toolConfig"],rb(m)),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function G_(t,e){const i={},s=f(t,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const r=f(t,["expireTime"]);e!==void 0&&r!=null&&d(e,["expireTime"],r);const u=f(t,["displayName"]);e!==void 0&&u!=null&&d(e,["displayName"],u);const c=f(t,["contents"]);if(e!==void 0&&c!=null){let T=an(c);Array.isArray(T)&&(T=T.map(S=>S)),d(e,["contents"],T)}const h=f(t,["systemInstruction"]);e!==void 0&&h!=null&&d(e,["systemInstruction"],Ct(h));const g=f(t,["tools"]);if(e!==void 0&&g!=null){let T=g;Array.isArray(T)&&(T=T.map(S=>ub(S))),d(e,["tools"],T)}const m=f(t,["toolConfig"]);e!==void 0&&m!=null&&d(e,["toolConfig"],m);const y=f(t,["kmsKeyName"]);return e!==void 0&&y!=null&&d(e,["encryption_spec","kmsKeyName"],y),i}function H_(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["model"],iT(t,s));const r=f(e,["config"]);return r!=null&&z_(r,i),i}function B_(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["model"],iT(t,s));const r=f(e,["config"]);return r!=null&&G_(r,i),i}function q_(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],Qn(t,s)),i}function O_(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],Qn(t,s)),i}function F_(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function Y_(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function J_(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function K_(t){const e={},i=f(t,["id"]);i!=null&&d(e,["id"],i);const s=f(t,["args"]);s!=null&&d(e,["args"],s);const r=f(t,["name"]);if(r!=null&&d(e,["name"],r),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function X_(t){const e={},i=f(t,["mode"]);i!=null&&d(e,["mode"],i);const s=f(t,["allowedFunctionNames"]);if(s!=null&&d(e,["allowedFunctionNames"],s),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Q_(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=f(t,["description"]);i!=null&&d(e,["description"],i);const s=f(t,["name"]);s!=null&&d(e,["name"],s);const r=f(t,["parameters"]);r!=null&&d(e,["parameters"],r);const u=f(t,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const c=f(t,["response"]);c!=null&&d(e,["response"],c);const h=f(t,["responseJsonSchema"]);return h!=null&&d(e,["responseJsonSchema"],h),e}function $_(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],Qn(t,s)),i}function Z_(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],Qn(t,s)),i}function W_(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function j_(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function eb(t,e){const i={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const r=f(t,["pageToken"]);return e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),i}function tb(t,e){const i={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const r=f(t,["pageToken"]);return e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),i}function nb(t){const e={},i=f(t,["config"]);return i!=null&&eb(i,e),e}function ib(t){const e={},i=f(t,["config"]);return i!=null&&tb(i,e),e}function ob(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const r=f(t,["cachedContents"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["cachedContents"],u)}return e}function sb(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const r=f(t,["cachedContents"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["cachedContents"],u)}return e}function ab(t){const e={},i=f(t,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const s=f(t,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const r=f(t,["executableCode"]);r!=null&&d(e,["executableCode"],r);const u=f(t,["fileData"]);u!=null&&d(e,["fileData"],J_(u));const c=f(t,["functionCall"]);c!=null&&d(e,["functionCall"],K_(c));const h=f(t,["functionResponse"]);h!=null&&d(e,["functionResponse"],h);const g=f(t,["inlineData"]);g!=null&&d(e,["inlineData"],P_(g));const m=f(t,["text"]);m!=null&&d(e,["text"],m);const y=f(t,["thought"]);y!=null&&d(e,["thought"],y);const T=f(t,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const S=f(t,["videoMetadata"]);return S!=null&&d(e,["videoMetadata"],S),e}function rb(t){const e={},i=f(t,["functionCallingConfig"]);i!=null&&d(e,["functionCallingConfig"],X_(i));const s=f(t,["retrievalConfig"]);return s!=null&&d(e,["retrievalConfig"],s),e}function lb(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(T=>T)),d(e,["functionDeclarations"],y)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const r=f(t,["computerUse"]);r!=null&&d(e,["computerUse"],r);const u=f(t,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=f(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],W_(h));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],j_(g));const m=f(t,["urlContext"]);return m!=null&&d(e,["urlContext"],m),e}function ub(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let T=i;Array.isArray(T)&&(T=T.map(S=>Q_(S))),d(e,["functionDeclarations"],T)}const s=f(t,["retrieval"]);s!=null&&d(e,["retrieval"],s);const r=f(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const u=f(t,["computerUse"]);if(u!=null&&d(e,["computerUse"],u),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(t,["codeExecution"]);c!=null&&d(e,["codeExecution"],c);const h=f(t,["enterpriseWebSearch"]);h!=null&&d(e,["enterpriseWebSearch"],h);const g=f(t,["googleMaps"]);g!=null&&d(e,["googleMaps"],g);const m=f(t,["googleSearch"]);m!=null&&d(e,["googleSearch"],m);const y=f(t,["urlContext"]);return y!=null&&d(e,["urlContext"],y),e}function cb(t,e){const i={},s=f(t,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const r=f(t,["expireTime"]);return e!==void 0&&r!=null&&d(e,["expireTime"],r),i}function fb(t,e){const i={},s=f(t,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const r=f(t,["expireTime"]);return e!==void 0&&r!=null&&d(e,["expireTime"],r),i}function db(t,e){const i={},s=f(e,["name"]);s!=null&&d(i,["_url","name"],Qn(t,s));const r=f(e,["config"]);return r!=null&&cb(r,i),i}function hb(t,e){const i={},s=f(e,["name"]);s!=null&&d(i,["_url","name"],Qn(t,s));const r=f(e,["config"]);return r!=null&&fb(r,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mb extends Xn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Wi(Fn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(i),i)}async create(e){var i,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=B_(this.apiClient,e);return h=te("cachedContents",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>y)}else{const m=H_(this.apiClient,e);return h=te("cachedContents",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),c.then(y=>y)}}async get(e){var i,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=Z_(this.apiClient,e);return h=te("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>y)}else{const m=$_(this.apiClient,e);return h=te("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),c.then(y=>y)}}async delete(e){var i,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=O_(this.apiClient,e);return h=te("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=Y_(y),S=new cy;return Object.assign(S,T),S})}else{const m=q_(this.apiClient,e);return h=te("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=F_(y),S=new cy;return Object.assign(S,T),S})}}async update(e){var i,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=hb(this.apiClient,e);return h=te("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>y)}else{const m=db(this.apiClient,e);return h=te("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),c.then(y=>y)}}async listInternal(e){var i,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=ib(e);return h=te("cachedContents",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=sb(y),S=new fy;return Object.assign(S,T),S})}else{const m=nb(e);return h=te("cachedContents",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=ob(y),S=new fy;return Object.assign(S,T),S})}}}function ll(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(i[s[r]]=t[s[r]]);return i}function vy(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],s=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ye(t){return this instanceof ye?(this.v=t,this):new ye(t)}function pn(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(t,e||[]),r,u=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),r[Symbol.asyncIterator]=function(){return this},r;function c(C){return function(_){return Promise.resolve(_).then(C,T)}}function h(C,_){s[C]&&(r[C]=function(w){return new Promise(function(M,N){u.push([C,w,M,N])>1||g(C,w)})},_&&(r[C]=_(r[C])))}function g(C,_){try{m(s[C](_))}catch(w){S(u[0][3],w)}}function m(C){C.value instanceof ye?Promise.resolve(C.value.v).then(y,T):S(u[0][2],C)}function y(C){g("next",C)}function T(C){g("throw",C)}function S(C,_){C(_),u.shift(),u.length&&g(u[0][0],u[0][1])}}function gn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof vy=="function"?vy(t):t[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(u){i[u]=t[u]&&function(c){return new Promise(function(h,g){c=t[u](c),r(h,g,c.done,c.value)})}}function r(u,c,h,g){Promise.resolve(g).then(function(m){u({value:m,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pb(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const i=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:gT(i)}function gT(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function gb(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Ty(t){if(t===void 0||t.length===0)return[];const e=[],i=t.length;let s=0;for(;s<i;)if(t[s].role==="user")e.push(t[s]),s++;else{const r=[];let u=!0;for(;s<i&&t[s].role==="model";)r.push(t[s]),u&&!gT(t[s])&&(u=!1),s++;u?e.push(...r):e.pop()}return e}class yb{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new vb(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class vb{constructor(e,i,s,r={},u=[]){this.apiClient=e,this.modelsModule=i,this.model=s,this.config=r,this.history=u,this.sendPromise=Promise.resolve(),gb(u)}async sendMessage(e){var i;await this.sendPromise;const s=Ct(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var u,c,h;const g=await r,m=(c=(u=g.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content,y=g.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let S=[];y!=null&&(S=(h=y.slice(T))!==null&&h!==void 0?h:[]);const C=m?[m]:[];this.recordHistory(s,C,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var i;await this.sendPromise;const s=Ct(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const u=await r;return this.processStreamResponse(u,s)}getHistory(e=!1){const i=e?Ty(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){return pn(this,arguments,function*(){var r,u,c,h,g,m;const y=[];try{for(var T=!0,S=gn(e),C;C=yield ye(S.next()),r=C.done,!r;T=!0){h=C.value,T=!1;const _=h;if(pb(_)){const w=(m=(g=_.candidates)===null||g===void 0?void 0:g[0])===null||m===void 0?void 0:m.content;w!==void 0&&y.push(w)}yield yield ye(_)}}catch(_){u={error:_}}finally{try{!T&&!r&&(c=S.return)&&(yield ye(c.call(S)))}finally{if(u)throw u.error}}this.recordHistory(i,y)})}recordHistory(e,i,s){let r=[];i.length>0&&i.every(u=>u.role!==void 0)?r=i:r.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Ty(s)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vl extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,vl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tb(t){const e={},i=f(t,["file"]);return i!=null&&d(e,["file"],i),e}function Sb(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function xb(t){const e={},i=f(t,["name"]);return i!=null&&d(e,["_url","file"],uT(i)),e}function Eb(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function Cb(t){const e={},i=f(t,["name"]);return i!=null&&d(e,["_url","file"],uT(i)),e}function Ab(t,e){const i={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const r=f(t,["pageToken"]);return e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),i}function _b(t){const e={},i=f(t,["config"]);return i!=null&&Ab(i,e),e}function bb(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const r=f(t,["files"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["files"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mb extends Xn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Wi(Fn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,s;let r,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=_b(e);return u=te("files",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),r.then(g=>{const m=bb(g),y=new DA;return Object.assign(y,m),y})}}async createInternal(e){var i,s;let r,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Tb(e);return u=te("upload/v1beta/files",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>{const m=Sb(g),y=new IA;return Object.assign(y,m),y})}}async get(e){var i,s;let r,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Cb(e);return u=te("files/{file}",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async delete(e){var i,s;let r,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=xb(e);return u=te("files/{file}",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),r.then(g=>{const m=Eb(g),y=new kA;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function el(t){const e={},i=f(t,["data"]);if(i!=null&&d(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function Nb(t){const e={},i=f(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(u=>Fb(u))),d(e,["parts"],r)}const s=f(t,["role"]);return s!=null&&d(e,["role"],s),e}function wb(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function Rb(t){const e={},i=f(t,["id"]);i!=null&&d(e,["id"],i);const s=f(t,["args"]);s!=null&&d(e,["args"],s);const r=f(t,["name"]);if(r!=null&&d(e,["name"],r),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Db(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=f(t,["description"]);i!=null&&d(e,["description"],i);const s=f(t,["name"]);s!=null&&d(e,["name"],s);const r=f(t,["parameters"]);r!=null&&d(e,["parameters"],r);const u=f(t,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const c=f(t,["response"]);c!=null&&d(e,["response"],c);const h=f(t,["responseJsonSchema"]);return h!=null&&d(e,["responseJsonSchema"],h),e}function Ib(t){const e={},i=f(t,["modelSelectionConfig"]);i!=null&&d(e,["modelConfig"],i);const s=f(t,["responseJsonSchema"]);s!=null&&d(e,["responseJsonSchema"],s);const r=f(t,["audioTimestamp"]);r!=null&&d(e,["audioTimestamp"],r);const u=f(t,["candidateCount"]);u!=null&&d(e,["candidateCount"],u);const c=f(t,["enableAffectiveDialog"]);c!=null&&d(e,["enableAffectiveDialog"],c);const h=f(t,["frequencyPenalty"]);h!=null&&d(e,["frequencyPenalty"],h);const g=f(t,["logprobs"]);g!=null&&d(e,["logprobs"],g);const m=f(t,["maxOutputTokens"]);m!=null&&d(e,["maxOutputTokens"],m);const y=f(t,["mediaResolution"]);y!=null&&d(e,["mediaResolution"],y);const T=f(t,["presencePenalty"]);T!=null&&d(e,["presencePenalty"],T);const S=f(t,["responseLogprobs"]);S!=null&&d(e,["responseLogprobs"],S);const C=f(t,["responseMimeType"]);C!=null&&d(e,["responseMimeType"],C);const _=f(t,["responseModalities"]);_!=null&&d(e,["responseModalities"],_);const w=f(t,["responseSchema"]);w!=null&&d(e,["responseSchema"],w);const M=f(t,["routingConfig"]);M!=null&&d(e,["routingConfig"],M);const N=f(t,["seed"]);N!=null&&d(e,["seed"],N);const G=f(t,["speechConfig"]);G!=null&&d(e,["speechConfig"],G);const I=f(t,["stopSequences"]);I!=null&&d(e,["stopSequences"],I);const F=f(t,["temperature"]);F!=null&&d(e,["temperature"],F);const Y=f(t,["thinkingConfig"]);Y!=null&&d(e,["thinkingConfig"],Y);const j=f(t,["topK"]);j!=null&&d(e,["topK"],j);const Q=f(t,["topP"]);if(Q!=null&&d(e,["topP"],Q),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function kb(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function Ub(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function Vb(t,e){const i={},s=f(t,["generationConfig"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig"],s);const r=f(t,["responseModalities"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig","responseModalities"],r);const u=f(t,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const c=f(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const h=f(t,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const g=f(t,["maxOutputTokens"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","maxOutputTokens"],g);const m=f(t,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const y=f(t,["seed"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","seed"],y);const T=f(t,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],gd(T));const S=f(t,["thinkingConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","thinkingConfig"],S);const C=f(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],C);const _=f(t,["systemInstruction"]);e!==void 0&&_!=null&&d(e,["setup","systemInstruction"],Nb(Ct(_)));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let j=is(w);Array.isArray(j)&&(j=j.map(Q=>Jb(ns(Q)))),d(e,["setup","tools"],j)}const M=f(t,["sessionResumption"]);e!==void 0&&M!=null&&d(e,["setup","sessionResumption"],Yb(M));const N=f(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&d(e,["setup","inputAudioTranscription"],N);const G=f(t,["outputAudioTranscription"]);e!==void 0&&G!=null&&d(e,["setup","outputAudioTranscription"],G);const I=f(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&d(e,["setup","realtimeInputConfig"],I);const F=f(t,["contextWindowCompression"]);e!==void 0&&F!=null&&d(e,["setup","contextWindowCompression"],F);const Y=f(t,["proactivity"]);if(e!==void 0&&Y!=null&&d(e,["setup","proactivity"],Y),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function Lb(t,e){const i={},s=f(t,["generationConfig"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig"],Ib(s));const r=f(t,["responseModalities"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig","responseModalities"],r);const u=f(t,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const c=f(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const h=f(t,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const g=f(t,["maxOutputTokens"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","maxOutputTokens"],g);const m=f(t,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const y=f(t,["seed"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","seed"],y);const T=f(t,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],gd(T));const S=f(t,["thinkingConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","thinkingConfig"],S);const C=f(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],C);const _=f(t,["systemInstruction"]);e!==void 0&&_!=null&&d(e,["setup","systemInstruction"],Ct(_));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let Q=is(w);Array.isArray(Q)&&(Q=Q.map($=>Kb(ns($)))),d(e,["setup","tools"],Q)}const M=f(t,["sessionResumption"]);e!==void 0&&M!=null&&d(e,["setup","sessionResumption"],M);const N=f(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&d(e,["setup","inputAudioTranscription"],N);const G=f(t,["outputAudioTranscription"]);e!==void 0&&G!=null&&d(e,["setup","outputAudioTranscription"],G);const I=f(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&d(e,["setup","realtimeInputConfig"],I);const F=f(t,["contextWindowCompression"]);e!==void 0&&F!=null&&d(e,["setup","contextWindowCompression"],F);const Y=f(t,["proactivity"]);e!==void 0&&Y!=null&&d(e,["setup","proactivity"],Y);const j=f(t,["explicitVadSignal"]);return e!==void 0&&j!=null&&d(e,["setup","explicitVadSignal"],j),i}function Pb(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["setup","model"],Ue(t,s));const r=f(e,["config"]);return r!=null&&d(i,["config"],Vb(r,i)),i}function zb(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["setup","model"],Ue(t,s));const r=f(e,["config"]);return r!=null&&d(i,["config"],Lb(r,i)),i}function Gb(t){const e={},i=f(t,["musicGenerationConfig"]);return i!=null&&d(e,["musicGenerationConfig"],i),e}function Hb(t){const e={},i=f(t,["weightedPrompts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>r)),d(e,["weightedPrompts"],s)}return e}function Bb(t){const e={},i=f(t,["media"]);if(i!=null){let m=oT(i);Array.isArray(m)&&(m=m.map(y=>el(y))),d(e,["mediaChunks"],m)}const s=f(t,["audio"]);s!=null&&d(e,["audio"],el(aT(s)));const r=f(t,["audioStreamEnd"]);r!=null&&d(e,["audioStreamEnd"],r);const u=f(t,["video"]);u!=null&&d(e,["video"],el(sT(u)));const c=f(t,["text"]);c!=null&&d(e,["text"],c);const h=f(t,["activityStart"]);h!=null&&d(e,["activityStart"],h);const g=f(t,["activityEnd"]);return g!=null&&d(e,["activityEnd"],g),e}function qb(t){const e={},i=f(t,["media"]);if(i!=null){let m=oT(i);Array.isArray(m)&&(m=m.map(y=>y)),d(e,["mediaChunks"],m)}const s=f(t,["audio"]);s!=null&&d(e,["audio"],aT(s));const r=f(t,["audioStreamEnd"]);r!=null&&d(e,["audioStreamEnd"],r);const u=f(t,["video"]);u!=null&&d(e,["video"],sT(u));const c=f(t,["text"]);c!=null&&d(e,["text"],c);const h=f(t,["activityStart"]);h!=null&&d(e,["activityStart"],h);const g=f(t,["activityEnd"]);return g!=null&&d(e,["activityEnd"],g),e}function Ob(t){const e={},i=f(t,["setupComplete"]);i!=null&&d(e,["setupComplete"],i);const s=f(t,["serverContent"]);s!=null&&d(e,["serverContent"],s);const r=f(t,["toolCall"]);r!=null&&d(e,["toolCall"],r);const u=f(t,["toolCallCancellation"]);u!=null&&d(e,["toolCallCancellation"],u);const c=f(t,["usageMetadata"]);c!=null&&d(e,["usageMetadata"],Xb(c));const h=f(t,["goAway"]);h!=null&&d(e,["goAway"],h);const g=f(t,["sessionResumptionUpdate"]);g!=null&&d(e,["sessionResumptionUpdate"],g);const m=f(t,["voiceActivityDetectionSignal"]);return m!=null&&d(e,["voiceActivityDetectionSignal"],m),e}function Fb(t){const e={},i=f(t,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const s=f(t,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const r=f(t,["executableCode"]);r!=null&&d(e,["executableCode"],r);const u=f(t,["fileData"]);u!=null&&d(e,["fileData"],wb(u));const c=f(t,["functionCall"]);c!=null&&d(e,["functionCall"],Rb(c));const h=f(t,["functionResponse"]);h!=null&&d(e,["functionResponse"],h);const g=f(t,["inlineData"]);g!=null&&d(e,["inlineData"],el(g));const m=f(t,["text"]);m!=null&&d(e,["text"],m);const y=f(t,["thought"]);y!=null&&d(e,["thought"],y);const T=f(t,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const S=f(t,["videoMetadata"]);return S!=null&&d(e,["videoMetadata"],S),e}function Yb(t){const e={},i=f(t,["handle"]);if(i!=null&&d(e,["handle"],i),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Jb(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(T=>T)),d(e,["functionDeclarations"],y)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const r=f(t,["computerUse"]);r!=null&&d(e,["computerUse"],r);const u=f(t,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=f(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],kb(h));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],Ub(g));const m=f(t,["urlContext"]);return m!=null&&d(e,["urlContext"],m),e}function Kb(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let T=i;Array.isArray(T)&&(T=T.map(S=>Db(S))),d(e,["functionDeclarations"],T)}const s=f(t,["retrieval"]);s!=null&&d(e,["retrieval"],s);const r=f(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const u=f(t,["computerUse"]);if(u!=null&&d(e,["computerUse"],u),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(t,["codeExecution"]);c!=null&&d(e,["codeExecution"],c);const h=f(t,["enterpriseWebSearch"]);h!=null&&d(e,["enterpriseWebSearch"],h);const g=f(t,["googleMaps"]);g!=null&&d(e,["googleMaps"],g);const m=f(t,["googleSearch"]);m!=null&&d(e,["googleSearch"],m);const y=f(t,["urlContext"]);return y!=null&&d(e,["urlContext"],y),e}function Xb(t){const e={},i=f(t,["promptTokenCount"]);i!=null&&d(e,["promptTokenCount"],i);const s=f(t,["cachedContentTokenCount"]);s!=null&&d(e,["cachedContentTokenCount"],s);const r=f(t,["candidatesTokenCount"]);r!=null&&d(e,["responseTokenCount"],r);const u=f(t,["toolUsePromptTokenCount"]);u!=null&&d(e,["toolUsePromptTokenCount"],u);const c=f(t,["thoughtsTokenCount"]);c!=null&&d(e,["thoughtsTokenCount"],c);const h=f(t,["totalTokenCount"]);h!=null&&d(e,["totalTokenCount"],h);const g=f(t,["promptTokensDetails"]);if(g!=null){let C=g;Array.isArray(C)&&(C=C.map(_=>_)),d(e,["promptTokensDetails"],C)}const m=f(t,["cacheTokensDetails"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(_=>_)),d(e,["cacheTokensDetails"],C)}const y=f(t,["candidatesTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(_=>_)),d(e,["responseTokensDetails"],C)}const T=f(t,["toolUsePromptTokensDetails"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(_=>_)),d(e,["toolUsePromptTokensDetails"],C)}const S=f(t,["trafficType"]);return S!=null&&d(e,["trafficType"],S),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qb(t){const e={},i=f(t,["data"]);if(i!=null&&d(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function $b(t){const e={},i=f(t,["content"]);i!=null&&d(e,["content"],i);const s=f(t,["citationMetadata"]);s!=null&&d(e,["citationMetadata"],Zb(s));const r=f(t,["tokenCount"]);r!=null&&d(e,["tokenCount"],r);const u=f(t,["finishReason"]);u!=null&&d(e,["finishReason"],u);const c=f(t,["avgLogprobs"]);c!=null&&d(e,["avgLogprobs"],c);const h=f(t,["groundingMetadata"]);h!=null&&d(e,["groundingMetadata"],h);const g=f(t,["index"]);g!=null&&d(e,["index"],g);const m=f(t,["logprobsResult"]);m!=null&&d(e,["logprobsResult"],m);const y=f(t,["safetyRatings"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(C=>C)),d(e,["safetyRatings"],S)}const T=f(t,["urlContextMetadata"]);return T!=null&&d(e,["urlContextMetadata"],T),e}function Zb(t){const e={},i=f(t,["citationSources"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>r)),d(e,["citations"],s)}return e}function Wb(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ue(t,s));const r=f(e,["contents"]);if(r!=null){let u=an(r);Array.isArray(u)&&(u=u.map(c=>c)),d(i,["contents"],u)}return i}function jb(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["tokensInfo"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(u=>u)),d(e,["tokensInfo"],r)}return e}function e1(t){const e={},i=f(t,["values"]);i!=null&&d(e,["values"],i);const s=f(t,["statistics"]);return s!=null&&d(e,["statistics"],t1(s)),e}function t1(t){const e={},i=f(t,["truncated"]);i!=null&&d(e,["truncated"],i);const s=f(t,["token_count"]);return s!=null&&d(e,["tokenCount"],s),e}function Tl(t){const e={},i=f(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(u=>cM(u))),d(e,["parts"],r)}const s=f(t,["role"]);return s!=null&&d(e,["role"],s),e}function n1(t){const e={},i=f(t,["controlType"]);i!=null&&d(e,["controlType"],i);const s=f(t,["enableControlImageComputation"]);return s!=null&&d(e,["computeControl"],s),e}function i1(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function o1(t,e){const i={},s=f(t,["systemInstruction"]);e!==void 0&&s!=null&&d(e,["systemInstruction"],Ct(s));const r=f(t,["tools"]);if(e!==void 0&&r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>ST(h))),d(e,["tools"],c)}const u=f(t,["generationConfig"]);return e!==void 0&&u!=null&&d(e,["generationConfig"],Q1(u)),i}function s1(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ue(t,s));const r=f(e,["contents"]);if(r!=null){let c=an(r);Array.isArray(c)&&(c=c.map(h=>Tl(h))),d(i,["contents"],c)}const u=f(e,["config"]);return u!=null&&i1(u),i}function a1(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ue(t,s));const r=f(e,["contents"]);if(r!=null){let c=an(r);Array.isArray(c)&&(c=c.map(h=>h)),d(i,["contents"],c)}const u=f(e,["config"]);return u!=null&&o1(u,i),i}function r1(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["totalTokens"]);s!=null&&d(e,["totalTokens"],s);const r=f(t,["cachedContentTokenCount"]);return r!=null&&d(e,["cachedContentTokenCount"],r),e}function l1(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["totalTokens"]);return s!=null&&d(e,["totalTokens"],s),e}function u1(t,e){const i={},s=f(e,["model"]);return s!=null&&d(i,["_url","name"],Ue(t,s)),i}function c1(t,e){const i={},s=f(e,["model"]);return s!=null&&d(i,["_url","name"],Ue(t,s)),i}function f1(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function d1(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function h1(t,e){const i={},s=f(t,["outputGcsUri"]);e!==void 0&&s!=null&&d(e,["parameters","storageUri"],s);const r=f(t,["negativePrompt"]);e!==void 0&&r!=null&&d(e,["parameters","negativePrompt"],r);const u=f(t,["numberOfImages"]);e!==void 0&&u!=null&&d(e,["parameters","sampleCount"],u);const c=f(t,["aspectRatio"]);e!==void 0&&c!=null&&d(e,["parameters","aspectRatio"],c);const h=f(t,["guidanceScale"]);e!==void 0&&h!=null&&d(e,["parameters","guidanceScale"],h);const g=f(t,["seed"]);e!==void 0&&g!=null&&d(e,["parameters","seed"],g);const m=f(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&d(e,["parameters","safetySetting"],m);const y=f(t,["personGeneration"]);e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y);const T=f(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&d(e,["parameters","includeSafetyAttributes"],T);const S=f(t,["includeRaiReason"]);e!==void 0&&S!=null&&d(e,["parameters","includeRaiReason"],S);const C=f(t,["language"]);e!==void 0&&C!=null&&d(e,["parameters","language"],C);const _=f(t,["outputMimeType"]);e!==void 0&&_!=null&&d(e,["parameters","outputOptions","mimeType"],_);const w=f(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&d(e,["parameters","outputOptions","compressionQuality"],w);const M=f(t,["addWatermark"]);e!==void 0&&M!=null&&d(e,["parameters","addWatermark"],M);const N=f(t,["labels"]);e!==void 0&&N!=null&&d(e,["labels"],N);const G=f(t,["editMode"]);e!==void 0&&G!=null&&d(e,["parameters","editMode"],G);const I=f(t,["baseSteps"]);return e!==void 0&&I!=null&&d(e,["parameters","editConfig","baseSteps"],I),i}function m1(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ue(t,s));const r=f(e,["prompt"]);r!=null&&d(i,["instances[0]","prompt"],r);const u=f(e,["referenceImages"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(g=>gM(g))),d(i,["instances[0]","referenceImages"],h)}const c=f(e,["config"]);return c!=null&&h1(c,i),i}function p1(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(u=>Sl(u))),d(e,["generatedImages"],r)}return e}function g1(t,e){const i={},s=f(t,["taskType"]);e!==void 0&&s!=null&&d(e,["requests[]","taskType"],s);const r=f(t,["title"]);e!==void 0&&r!=null&&d(e,["requests[]","title"],r);const u=f(t,["outputDimensionality"]);if(e!==void 0&&u!=null&&d(e,["requests[]","outputDimensionality"],u),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function y1(t,e){const i={},s=f(t,["taskType"]);e!==void 0&&s!=null&&d(e,["instances[]","task_type"],s);const r=f(t,["title"]);e!==void 0&&r!=null&&d(e,["instances[]","title"],r);const u=f(t,["outputDimensionality"]);e!==void 0&&u!=null&&d(e,["parameters","outputDimensionality"],u);const c=f(t,["mimeType"]);e!==void 0&&c!=null&&d(e,["instances[]","mimeType"],c);const h=f(t,["autoTruncate"]);return e!==void 0&&h!=null&&d(e,["parameters","autoTruncate"],h),i}function v1(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ue(t,s));const r=f(e,["contents"]);if(r!=null){let h=hd(t,r);Array.isArray(h)&&(h=h.map(g=>g)),d(i,["requests[]","content"],h)}const u=f(e,["config"]);u!=null&&g1(u,i);const c=f(e,["model"]);return c!==void 0&&d(i,["requests[]","model"],Ue(t,c)),i}function T1(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ue(t,s));const r=f(e,["contents"]);if(r!=null){let c=hd(t,r);Array.isArray(c)&&(c=c.map(h=>h)),d(i,["instances[]","content"],c)}const u=f(e,["config"]);return u!=null&&y1(u,i),i}function S1(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["embeddings"],u)}const r=f(t,["metadata"]);return r!=null&&d(e,["metadata"],r),e}function x1(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["predictions[]","embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>e1(c))),d(e,["embeddings"],u)}const r=f(t,["metadata"]);return r!=null&&d(e,["metadata"],r),e}function E1(t){const e={},i=f(t,["endpoint"]);i!=null&&d(e,["name"],i);const s=f(t,["deployedModelId"]);return s!=null&&d(e,["deployedModelId"],s),e}function C1(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function A1(t){const e={},i=f(t,["id"]);i!=null&&d(e,["id"],i);const s=f(t,["args"]);s!=null&&d(e,["args"],s);const r=f(t,["name"]);if(r!=null&&d(e,["name"],r),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _1(t){const e={},i=f(t,["mode"]);i!=null&&d(e,["mode"],i);const s=f(t,["allowedFunctionNames"]);if(s!=null&&d(e,["allowedFunctionNames"],s),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function b1(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=f(t,["description"]);i!=null&&d(e,["description"],i);const s=f(t,["name"]);s!=null&&d(e,["name"],s);const r=f(t,["parameters"]);r!=null&&d(e,["parameters"],r);const u=f(t,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const c=f(t,["response"]);c!=null&&d(e,["response"],c);const h=f(t,["responseJsonSchema"]);return h!=null&&d(e,["responseJsonSchema"],h),e}function M1(t,e,i){const s={},r=f(e,["systemInstruction"]);i!==void 0&&r!=null&&d(i,["systemInstruction"],Tl(Ct(r)));const u=f(e,["temperature"]);u!=null&&d(s,["temperature"],u);const c=f(e,["topP"]);c!=null&&d(s,["topP"],c);const h=f(e,["topK"]);h!=null&&d(s,["topK"],h);const g=f(e,["candidateCount"]);g!=null&&d(s,["candidateCount"],g);const m=f(e,["maxOutputTokens"]);m!=null&&d(s,["maxOutputTokens"],m);const y=f(e,["stopSequences"]);y!=null&&d(s,["stopSequences"],y);const T=f(e,["responseLogprobs"]);T!=null&&d(s,["responseLogprobs"],T);const S=f(e,["logprobs"]);S!=null&&d(s,["logprobs"],S);const C=f(e,["presencePenalty"]);C!=null&&d(s,["presencePenalty"],C);const _=f(e,["frequencyPenalty"]);_!=null&&d(s,["frequencyPenalty"],_);const w=f(e,["seed"]);w!=null&&d(s,["seed"],w);const M=f(e,["responseMimeType"]);M!=null&&d(s,["responseMimeType"],M);const N=f(e,["responseSchema"]);N!=null&&d(s,["responseSchema"],md(N));const G=f(e,["responseJsonSchema"]);if(G!=null&&d(s,["responseJsonSchema"],G),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=f(e,["safetySettings"]);if(i!==void 0&&I!=null){let ge=I;Array.isArray(ge)&&(ge=ge.map(Me=>yM(Me))),d(i,["safetySettings"],ge)}const F=f(e,["tools"]);if(i!==void 0&&F!=null){let ge=is(F);Array.isArray(ge)&&(ge=ge.map(Me=>AM(ns(Me)))),d(i,["tools"],ge)}const Y=f(e,["toolConfig"]);if(i!==void 0&&Y!=null&&d(i,["toolConfig"],CM(Y)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=f(e,["cachedContent"]);i!==void 0&&j!=null&&d(i,["cachedContent"],Qn(t,j));const Q=f(e,["responseModalities"]);Q!=null&&d(s,["responseModalities"],Q);const $=f(e,["mediaResolution"]);$!=null&&d(s,["mediaResolution"],$);const Z=f(e,["speechConfig"]);if(Z!=null&&d(s,["speechConfig"],pd(Z)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ne=f(e,["thinkingConfig"]);ne!=null&&d(s,["thinkingConfig"],ne);const ue=f(e,["imageConfig"]);ue!=null&&d(s,["imageConfig"],eM(ue));const Ae=f(e,["enableEnhancedCivicAnswers"]);return Ae!=null&&d(s,["enableEnhancedCivicAnswers"],Ae),s}function N1(t,e,i){const s={},r=f(e,["systemInstruction"]);i!==void 0&&r!=null&&d(i,["systemInstruction"],Ct(r));const u=f(e,["temperature"]);u!=null&&d(s,["temperature"],u);const c=f(e,["topP"]);c!=null&&d(s,["topP"],c);const h=f(e,["topK"]);h!=null&&d(s,["topK"],h);const g=f(e,["candidateCount"]);g!=null&&d(s,["candidateCount"],g);const m=f(e,["maxOutputTokens"]);m!=null&&d(s,["maxOutputTokens"],m);const y=f(e,["stopSequences"]);y!=null&&d(s,["stopSequences"],y);const T=f(e,["responseLogprobs"]);T!=null&&d(s,["responseLogprobs"],T);const S=f(e,["logprobs"]);S!=null&&d(s,["logprobs"],S);const C=f(e,["presencePenalty"]);C!=null&&d(s,["presencePenalty"],C);const _=f(e,["frequencyPenalty"]);_!=null&&d(s,["frequencyPenalty"],_);const w=f(e,["seed"]);w!=null&&d(s,["seed"],w);const M=f(e,["responseMimeType"]);M!=null&&d(s,["responseMimeType"],M);const N=f(e,["responseSchema"]);N!=null&&d(s,["responseSchema"],md(N));const G=f(e,["responseJsonSchema"]);G!=null&&d(s,["responseJsonSchema"],G);const I=f(e,["routingConfig"]);I!=null&&d(s,["routingConfig"],I);const F=f(e,["modelSelectionConfig"]);F!=null&&d(s,["modelConfig"],F);const Y=f(e,["safetySettings"]);if(i!==void 0&&Y!=null){let k=Y;Array.isArray(k)&&(k=k.map(V=>V)),d(i,["safetySettings"],k)}const j=f(e,["tools"]);if(i!==void 0&&j!=null){let k=is(j);Array.isArray(k)&&(k=k.map(V=>ST(ns(V)))),d(i,["tools"],k)}const Q=f(e,["toolConfig"]);i!==void 0&&Q!=null&&d(i,["toolConfig"],Q);const $=f(e,["labels"]);i!==void 0&&$!=null&&d(i,["labels"],$);const Z=f(e,["cachedContent"]);i!==void 0&&Z!=null&&d(i,["cachedContent"],Qn(t,Z));const ne=f(e,["responseModalities"]);ne!=null&&d(s,["responseModalities"],ne);const ue=f(e,["mediaResolution"]);ue!=null&&d(s,["mediaResolution"],ue);const Ae=f(e,["speechConfig"]);Ae!=null&&d(s,["speechConfig"],pd(Ae));const ge=f(e,["audioTimestamp"]);ge!=null&&d(s,["audioTimestamp"],ge);const Me=f(e,["thinkingConfig"]);Me!=null&&d(s,["thinkingConfig"],Me);const qe=f(e,["imageConfig"]);if(qe!=null&&d(s,["imageConfig"],tM(qe)),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return s}function Sy(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ue(t,s));const r=f(e,["contents"]);if(r!=null){let c=an(r);Array.isArray(c)&&(c=c.map(h=>Tl(h))),d(i,["contents"],c)}const u=f(e,["config"]);return u!=null&&d(i,["generationConfig"],M1(t,u,i)),i}function xy(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ue(t,s));const r=f(e,["contents"]);if(r!=null){let c=an(r);Array.isArray(c)&&(c=c.map(h=>h)),d(i,["contents"],c)}const u=f(e,["config"]);return u!=null&&d(i,["generationConfig"],N1(t,u,i)),i}function Ey(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["candidates"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(m=>$b(m))),d(e,["candidates"],g)}const r=f(t,["modelVersion"]);r!=null&&d(e,["modelVersion"],r);const u=f(t,["promptFeedback"]);u!=null&&d(e,["promptFeedback"],u);const c=f(t,["responseId"]);c!=null&&d(e,["responseId"],c);const h=f(t,["usageMetadata"]);return h!=null&&d(e,["usageMetadata"],h),e}function Cy(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["candidates"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(y=>y)),d(e,["candidates"],m)}const r=f(t,["createTime"]);r!=null&&d(e,["createTime"],r);const u=f(t,["modelVersion"]);u!=null&&d(e,["modelVersion"],u);const c=f(t,["promptFeedback"]);c!=null&&d(e,["promptFeedback"],c);const h=f(t,["responseId"]);h!=null&&d(e,["responseId"],h);const g=f(t,["usageMetadata"]);return g!=null&&d(e,["usageMetadata"],g),e}function w1(t,e){const i={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=f(t,["numberOfImages"]);e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s);const r=f(t,["aspectRatio"]);e!==void 0&&r!=null&&d(e,["parameters","aspectRatio"],r);const u=f(t,["guidanceScale"]);if(e!==void 0&&u!=null&&d(e,["parameters","guidanceScale"],u),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=f(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&d(e,["parameters","safetySetting"],c);const h=f(t,["personGeneration"]);e!==void 0&&h!=null&&d(e,["parameters","personGeneration"],h);const g=f(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&d(e,["parameters","includeSafetyAttributes"],g);const m=f(t,["includeRaiReason"]);e!==void 0&&m!=null&&d(e,["parameters","includeRaiReason"],m);const y=f(t,["language"]);e!==void 0&&y!=null&&d(e,["parameters","language"],y);const T=f(t,["outputMimeType"]);e!==void 0&&T!=null&&d(e,["parameters","outputOptions","mimeType"],T);const S=f(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&d(e,["parameters","outputOptions","compressionQuality"],S),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=f(t,["imageSize"]);if(e!==void 0&&C!=null&&d(e,["parameters","sampleImageSize"],C),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function R1(t,e){const i={},s=f(t,["outputGcsUri"]);e!==void 0&&s!=null&&d(e,["parameters","storageUri"],s);const r=f(t,["negativePrompt"]);e!==void 0&&r!=null&&d(e,["parameters","negativePrompt"],r);const u=f(t,["numberOfImages"]);e!==void 0&&u!=null&&d(e,["parameters","sampleCount"],u);const c=f(t,["aspectRatio"]);e!==void 0&&c!=null&&d(e,["parameters","aspectRatio"],c);const h=f(t,["guidanceScale"]);e!==void 0&&h!=null&&d(e,["parameters","guidanceScale"],h);const g=f(t,["seed"]);e!==void 0&&g!=null&&d(e,["parameters","seed"],g);const m=f(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&d(e,["parameters","safetySetting"],m);const y=f(t,["personGeneration"]);e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y);const T=f(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&d(e,["parameters","includeSafetyAttributes"],T);const S=f(t,["includeRaiReason"]);e!==void 0&&S!=null&&d(e,["parameters","includeRaiReason"],S);const C=f(t,["language"]);e!==void 0&&C!=null&&d(e,["parameters","language"],C);const _=f(t,["outputMimeType"]);e!==void 0&&_!=null&&d(e,["parameters","outputOptions","mimeType"],_);const w=f(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&d(e,["parameters","outputOptions","compressionQuality"],w);const M=f(t,["addWatermark"]);e!==void 0&&M!=null&&d(e,["parameters","addWatermark"],M);const N=f(t,["labels"]);e!==void 0&&N!=null&&d(e,["labels"],N);const G=f(t,["imageSize"]);e!==void 0&&G!=null&&d(e,["parameters","sampleImageSize"],G);const I=f(t,["enhancePrompt"]);return e!==void 0&&I!=null&&d(e,["parameters","enhancePrompt"],I),i}function D1(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ue(t,s));const r=f(e,["prompt"]);r!=null&&d(i,["instances[0]","prompt"],r);const u=f(e,["config"]);return u!=null&&w1(u,i),i}function I1(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ue(t,s));const r=f(e,["prompt"]);r!=null&&d(i,["instances[0]","prompt"],r);const u=f(e,["config"]);return u!=null&&R1(u,i),i}function k1(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>Y1(c))),d(e,["generatedImages"],u)}const r=f(t,["positivePromptSafetyAttributes"]);return r!=null&&d(e,["positivePromptSafetyAttributes"],vT(r)),e}function U1(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>Sl(c))),d(e,["generatedImages"],u)}const r=f(t,["positivePromptSafetyAttributes"]);return r!=null&&d(e,["positivePromptSafetyAttributes"],TT(r)),e}function V1(t,e){const i={},s=f(t,["numberOfVideos"]);if(e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=f(t,["durationSeconds"]);if(e!==void 0&&r!=null&&d(e,["parameters","durationSeconds"],r),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=f(t,["aspectRatio"]);e!==void 0&&u!=null&&d(e,["parameters","aspectRatio"],u);const c=f(t,["resolution"]);e!==void 0&&c!=null&&d(e,["parameters","resolution"],c);const h=f(t,["personGeneration"]);if(e!==void 0&&h!=null&&d(e,["parameters","personGeneration"],h),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=f(t,["negativePrompt"]);e!==void 0&&g!=null&&d(e,["parameters","negativePrompt"],g);const m=f(t,["enhancePrompt"]);if(e!==void 0&&m!=null&&d(e,["parameters","enhancePrompt"],m),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const y=f(t,["lastFrame"]);e!==void 0&&y!=null&&d(e,["instances[0]","lastFrame"],xl(y));const T=f(t,["referenceImages"]);if(e!==void 0&&T!=null){let S=T;Array.isArray(S)&&(S=S.map(C=>PM(C))),d(e,["instances[0]","referenceImages"],S)}if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function L1(t,e){const i={},s=f(t,["numberOfVideos"]);e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s);const r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const u=f(t,["fps"]);e!==void 0&&u!=null&&d(e,["parameters","fps"],u);const c=f(t,["durationSeconds"]);e!==void 0&&c!=null&&d(e,["parameters","durationSeconds"],c);const h=f(t,["seed"]);e!==void 0&&h!=null&&d(e,["parameters","seed"],h);const g=f(t,["aspectRatio"]);e!==void 0&&g!=null&&d(e,["parameters","aspectRatio"],g);const m=f(t,["resolution"]);e!==void 0&&m!=null&&d(e,["parameters","resolution"],m);const y=f(t,["personGeneration"]);e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y);const T=f(t,["pubsubTopic"]);e!==void 0&&T!=null&&d(e,["parameters","pubsubTopic"],T);const S=f(t,["negativePrompt"]);e!==void 0&&S!=null&&d(e,["parameters","negativePrompt"],S);const C=f(t,["enhancePrompt"]);e!==void 0&&C!=null&&d(e,["parameters","enhancePrompt"],C);const _=f(t,["generateAudio"]);e!==void 0&&_!=null&&d(e,["parameters","generateAudio"],_);const w=f(t,["lastFrame"]);e!==void 0&&w!=null&&d(e,["instances[0]","lastFrame"],yn(w));const M=f(t,["referenceImages"]);if(e!==void 0&&M!=null){let I=M;Array.isArray(I)&&(I=I.map(F=>zM(F))),d(e,["instances[0]","referenceImages"],I)}const N=f(t,["mask"]);e!==void 0&&N!=null&&d(e,["instances[0]","mask"],LM(N));const G=f(t,["compressionQuality"]);return e!==void 0&&G!=null&&d(e,["parameters","compressionQuality"],G),i}function P1(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["metadata"]);s!=null&&d(e,["metadata"],s);const r=f(t,["done"]);r!=null&&d(e,["done"],r);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response","generateVideoResponse"]);return c!=null&&d(e,["response"],B1(c)),e}function z1(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["metadata"]);s!=null&&d(e,["metadata"],s);const r=f(t,["done"]);r!=null&&d(e,["done"],r);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response"]);return c!=null&&d(e,["response"],q1(c)),e}function G1(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ue(t,s));const r=f(e,["prompt"]);r!=null&&d(i,["instances[0]","prompt"],r);const u=f(e,["image"]);u!=null&&d(i,["instances[0]","image"],xl(u));const c=f(e,["video"]);c!=null&&d(i,["instances[0]","video"],xT(c));const h=f(e,["source"]);h!=null&&O1(h,i);const g=f(e,["config"]);return g!=null&&V1(g,i),i}function H1(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ue(t,s));const r=f(e,["prompt"]);r!=null&&d(i,["instances[0]","prompt"],r);const u=f(e,["image"]);u!=null&&d(i,["instances[0]","image"],yn(u));const c=f(e,["video"]);c!=null&&d(i,["instances[0]","video"],ET(c));const h=f(e,["source"]);h!=null&&F1(h,i);const g=f(e,["config"]);return g!=null&&L1(g,i),i}function B1(t){const e={},i=f(t,["generatedSamples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>K1(c))),d(e,["generatedVideos"],u)}const s=f(t,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const r=f(t,["raiMediaFilteredReasons"]);return r!=null&&d(e,["raiMediaFilteredReasons"],r),e}function q1(t){const e={},i=f(t,["videos"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>X1(c))),d(e,["generatedVideos"],u)}const s=f(t,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const r=f(t,["raiMediaFilteredReasons"]);return r!=null&&d(e,["raiMediaFilteredReasons"],r),e}function O1(t,e){const i={},s=f(t,["prompt"]);e!==void 0&&s!=null&&d(e,["instances[0]","prompt"],s);const r=f(t,["image"]);e!==void 0&&r!=null&&d(e,["instances[0]","image"],xl(r));const u=f(t,["video"]);return e!==void 0&&u!=null&&d(e,["instances[0]","video"],xT(u)),i}function F1(t,e){const i={},s=f(t,["prompt"]);e!==void 0&&s!=null&&d(e,["instances[0]","prompt"],s);const r=f(t,["image"]);e!==void 0&&r!=null&&d(e,["instances[0]","image"],yn(r));const u=f(t,["video"]);return e!==void 0&&u!=null&&d(e,["instances[0]","video"],ET(u)),i}function Y1(t){const e={},i=f(t,["_self"]);i!=null&&d(e,["image"],nM(i));const s=f(t,["raiFilteredReason"]);s!=null&&d(e,["raiFilteredReason"],s);const r=f(t,["_self"]);return r!=null&&d(e,["safetyAttributes"],vT(r)),e}function Sl(t){const e={},i=f(t,["_self"]);i!=null&&d(e,["image"],yT(i));const s=f(t,["raiFilteredReason"]);s!=null&&d(e,["raiFilteredReason"],s);const r=f(t,["_self"]);r!=null&&d(e,["safetyAttributes"],TT(r));const u=f(t,["prompt"]);return u!=null&&d(e,["enhancedPrompt"],u),e}function J1(t){const e={},i=f(t,["_self"]);i!=null&&d(e,["mask"],yT(i));const s=f(t,["labels"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(u=>u)),d(e,["labels"],r)}return e}function K1(t){const e={},i=f(t,["video"]);return i!=null&&d(e,["video"],UM(i)),e}function X1(t){const e={},i=f(t,["_self"]);return i!=null&&d(e,["video"],VM(i)),e}function Q1(t){const e={},i=f(t,["modelSelectionConfig"]);i!=null&&d(e,["modelConfig"],i);const s=f(t,["responseJsonSchema"]);s!=null&&d(e,["responseJsonSchema"],s);const r=f(t,["audioTimestamp"]);r!=null&&d(e,["audioTimestamp"],r);const u=f(t,["candidateCount"]);u!=null&&d(e,["candidateCount"],u);const c=f(t,["enableAffectiveDialog"]);c!=null&&d(e,["enableAffectiveDialog"],c);const h=f(t,["frequencyPenalty"]);h!=null&&d(e,["frequencyPenalty"],h);const g=f(t,["logprobs"]);g!=null&&d(e,["logprobs"],g);const m=f(t,["maxOutputTokens"]);m!=null&&d(e,["maxOutputTokens"],m);const y=f(t,["mediaResolution"]);y!=null&&d(e,["mediaResolution"],y);const T=f(t,["presencePenalty"]);T!=null&&d(e,["presencePenalty"],T);const S=f(t,["responseLogprobs"]);S!=null&&d(e,["responseLogprobs"],S);const C=f(t,["responseMimeType"]);C!=null&&d(e,["responseMimeType"],C);const _=f(t,["responseModalities"]);_!=null&&d(e,["responseModalities"],_);const w=f(t,["responseSchema"]);w!=null&&d(e,["responseSchema"],w);const M=f(t,["routingConfig"]);M!=null&&d(e,["routingConfig"],M);const N=f(t,["seed"]);N!=null&&d(e,["seed"],N);const G=f(t,["speechConfig"]);G!=null&&d(e,["speechConfig"],G);const I=f(t,["stopSequences"]);I!=null&&d(e,["stopSequences"],I);const F=f(t,["temperature"]);F!=null&&d(e,["temperature"],F);const Y=f(t,["thinkingConfig"]);Y!=null&&d(e,["thinkingConfig"],Y);const j=f(t,["topK"]);j!=null&&d(e,["topK"],j);const Q=f(t,["topP"]);if(Q!=null&&d(e,["topP"],Q),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function $1(t,e){const i={},s=f(e,["model"]);return s!=null&&d(i,["_url","name"],Ue(t,s)),i}function Z1(t,e){const i={},s=f(e,["model"]);return s!=null&&d(i,["_url","name"],Ue(t,s)),i}function W1(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function j1(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function eM(t){const e={},i=f(t,["aspectRatio"]);i!=null&&d(e,["aspectRatio"],i);const s=f(t,["imageSize"]);if(s!=null&&d(e,["imageSize"],s),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function tM(t){const e={},i=f(t,["aspectRatio"]);i!=null&&d(e,["aspectRatio"],i);const s=f(t,["imageSize"]);s!=null&&d(e,["imageSize"],s);const r=f(t,["outputMimeType"]);r!=null&&d(e,["imageOutputOptions","mimeType"],r);const u=f(t,["outputCompressionQuality"]);return u!=null&&d(e,["imageOutputOptions","compressionQuality"],u),e}function nM(t){const e={},i=f(t,["bytesBase64Encoded"]);i!=null&&d(e,["imageBytes"],Ci(i));const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function yT(t){const e={},i=f(t,["gcsUri"]);i!=null&&d(e,["gcsUri"],i);const s=f(t,["bytesBase64Encoded"]);s!=null&&d(e,["imageBytes"],Ci(s));const r=f(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function xl(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=f(t,["imageBytes"]);i!=null&&d(e,["bytesBase64Encoded"],Ci(i));const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function yn(t){const e={},i=f(t,["gcsUri"]);i!=null&&d(e,["gcsUri"],i);const s=f(t,["imageBytes"]);s!=null&&d(e,["bytesBase64Encoded"],Ci(s));const r=f(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function iM(t,e,i){const s={},r=f(e,["pageSize"]);i!==void 0&&r!=null&&d(i,["_query","pageSize"],r);const u=f(e,["pageToken"]);i!==void 0&&u!=null&&d(i,["_query","pageToken"],u);const c=f(e,["filter"]);i!==void 0&&c!=null&&d(i,["_query","filter"],c);const h=f(e,["queryBase"]);return i!==void 0&&h!=null&&d(i,["_url","models_url"],cT(t,h)),s}function oM(t,e,i){const s={},r=f(e,["pageSize"]);i!==void 0&&r!=null&&d(i,["_query","pageSize"],r);const u=f(e,["pageToken"]);i!==void 0&&u!=null&&d(i,["_query","pageToken"],u);const c=f(e,["filter"]);i!==void 0&&c!=null&&d(i,["_query","filter"],c);const h=f(e,["queryBase"]);return i!==void 0&&h!=null&&d(i,["_url","models_url"],cT(t,h)),s}function sM(t,e){const i={},s=f(e,["config"]);return s!=null&&iM(t,s,i),i}function aM(t,e){const i={},s=f(e,["config"]);return s!=null&&oM(t,s,i),i}function rM(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const r=f(t,["_self"]);if(r!=null){let u=fT(r);Array.isArray(u)&&(u=u.map(c=>bf(c))),d(e,["models"],u)}return e}function lM(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const r=f(t,["_self"]);if(r!=null){let u=fT(r);Array.isArray(u)&&(u=u.map(c=>Mf(c))),d(e,["models"],u)}return e}function uM(t){const e={},i=f(t,["maskMode"]);i!=null&&d(e,["maskMode"],i);const s=f(t,["segmentationClasses"]);s!=null&&d(e,["maskClasses"],s);const r=f(t,["maskDilation"]);return r!=null&&d(e,["dilation"],r),e}function bf(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["displayName"]);s!=null&&d(e,["displayName"],s);const r=f(t,["description"]);r!=null&&d(e,["description"],r);const u=f(t,["version"]);u!=null&&d(e,["version"],u);const c=f(t,["_self"]);c!=null&&d(e,["tunedModelInfo"],_M(c));const h=f(t,["inputTokenLimit"]);h!=null&&d(e,["inputTokenLimit"],h);const g=f(t,["outputTokenLimit"]);g!=null&&d(e,["outputTokenLimit"],g);const m=f(t,["supportedGenerationMethods"]);m!=null&&d(e,["supportedActions"],m);const y=f(t,["temperature"]);y!=null&&d(e,["temperature"],y);const T=f(t,["maxTemperature"]);T!=null&&d(e,["maxTemperature"],T);const S=f(t,["topP"]);S!=null&&d(e,["topP"],S);const C=f(t,["topK"]);C!=null&&d(e,["topK"],C);const _=f(t,["thinking"]);return _!=null&&d(e,["thinking"],_),e}function Mf(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["displayName"]);s!=null&&d(e,["displayName"],s);const r=f(t,["description"]);r!=null&&d(e,["description"],r);const u=f(t,["versionId"]);u!=null&&d(e,["version"],u);const c=f(t,["deployedModels"]);if(c!=null){let T=c;Array.isArray(T)&&(T=T.map(S=>E1(S))),d(e,["endpoints"],T)}const h=f(t,["labels"]);h!=null&&d(e,["labels"],h);const g=f(t,["_self"]);g!=null&&d(e,["tunedModelInfo"],bM(g));const m=f(t,["defaultCheckpointId"]);m!=null&&d(e,["defaultCheckpointId"],m);const y=f(t,["checkpoints"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(S=>S)),d(e,["checkpoints"],T)}return e}function cM(t){const e={},i=f(t,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const s=f(t,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const r=f(t,["executableCode"]);r!=null&&d(e,["executableCode"],r);const u=f(t,["fileData"]);u!=null&&d(e,["fileData"],C1(u));const c=f(t,["functionCall"]);c!=null&&d(e,["functionCall"],A1(c));const h=f(t,["functionResponse"]);h!=null&&d(e,["functionResponse"],h);const g=f(t,["inlineData"]);g!=null&&d(e,["inlineData"],Qb(g));const m=f(t,["text"]);m!=null&&d(e,["text"],m);const y=f(t,["thought"]);y!=null&&d(e,["thought"],y);const T=f(t,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const S=f(t,["videoMetadata"]);return S!=null&&d(e,["videoMetadata"],S),e}function fM(t){const e={},i=f(t,["productImage"]);return i!=null&&d(e,["image"],yn(i)),e}function dM(t,e){const i={},s=f(t,["numberOfImages"]);e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s);const r=f(t,["baseSteps"]);e!==void 0&&r!=null&&d(e,["parameters","baseSteps"],r);const u=f(t,["outputGcsUri"]);e!==void 0&&u!=null&&d(e,["parameters","storageUri"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&d(e,["parameters","seed"],c);const h=f(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&d(e,["parameters","safetySetting"],h);const g=f(t,["personGeneration"]);e!==void 0&&g!=null&&d(e,["parameters","personGeneration"],g);const m=f(t,["addWatermark"]);e!==void 0&&m!=null&&d(e,["parameters","addWatermark"],m);const y=f(t,["outputMimeType"]);e!==void 0&&y!=null&&d(e,["parameters","outputOptions","mimeType"],y);const T=f(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&d(e,["parameters","outputOptions","compressionQuality"],T);const S=f(t,["enhancePrompt"]);e!==void 0&&S!=null&&d(e,["parameters","enhancePrompt"],S);const C=f(t,["labels"]);return e!==void 0&&C!=null&&d(e,["labels"],C),i}function hM(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ue(t,s));const r=f(e,["source"]);r!=null&&pM(r,i);const u=f(e,["config"]);return u!=null&&dM(u,i),i}function mM(t){const e={},i=f(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>Sl(r))),d(e,["generatedImages"],s)}return e}function pM(t,e){const i={},s=f(t,["prompt"]);e!==void 0&&s!=null&&d(e,["instances[0]","prompt"],s);const r=f(t,["personImage"]);e!==void 0&&r!=null&&d(e,["instances[0]","personImage","image"],yn(r));const u=f(t,["productImages"]);if(e!==void 0&&u!=null){let c=u;Array.isArray(c)&&(c=c.map(h=>fM(h))),d(e,["instances[0]","productImages"],c)}return i}function gM(t){const e={},i=f(t,["referenceImage"]);i!=null&&d(e,["referenceImage"],yn(i));const s=f(t,["referenceId"]);s!=null&&d(e,["referenceId"],s);const r=f(t,["referenceType"]);r!=null&&d(e,["referenceType"],r);const u=f(t,["maskImageConfig"]);u!=null&&d(e,["maskImageConfig"],uM(u));const c=f(t,["controlImageConfig"]);c!=null&&d(e,["controlImageConfig"],n1(c));const h=f(t,["styleImageConfig"]);h!=null&&d(e,["styleImageConfig"],h);const g=f(t,["subjectImageConfig"]);return g!=null&&d(e,["subjectImageConfig"],g),e}function vT(t){const e={},i=f(t,["safetyAttributes","categories"]);i!=null&&d(e,["categories"],i);const s=f(t,["safetyAttributes","scores"]);s!=null&&d(e,["scores"],s);const r=f(t,["contentType"]);return r!=null&&d(e,["contentType"],r),e}function TT(t){const e={},i=f(t,["safetyAttributes","categories"]);i!=null&&d(e,["categories"],i);const s=f(t,["safetyAttributes","scores"]);s!=null&&d(e,["scores"],s);const r=f(t,["contentType"]);return r!=null&&d(e,["contentType"],r),e}function yM(t){const e={},i=f(t,["category"]);if(i!=null&&d(e,["category"],i),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=f(t,["threshold"]);return s!=null&&d(e,["threshold"],s),e}function vM(t){const e={},i=f(t,["image"]);return i!=null&&d(e,["image"],yn(i)),e}function TM(t,e){const i={},s=f(t,["mode"]);e!==void 0&&s!=null&&d(e,["parameters","mode"],s);const r=f(t,["maxPredictions"]);e!==void 0&&r!=null&&d(e,["parameters","maxPredictions"],r);const u=f(t,["confidenceThreshold"]);e!==void 0&&u!=null&&d(e,["parameters","confidenceThreshold"],u);const c=f(t,["maskDilation"]);e!==void 0&&c!=null&&d(e,["parameters","maskDilation"],c);const h=f(t,["binaryColorThreshold"]);e!==void 0&&h!=null&&d(e,["parameters","binaryColorThreshold"],h);const g=f(t,["labels"]);return e!==void 0&&g!=null&&d(e,["labels"],g),i}function SM(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ue(t,s));const r=f(e,["source"]);r!=null&&EM(r,i);const u=f(e,["config"]);return u!=null&&TM(u,i),i}function xM(t){const e={},i=f(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>J1(r))),d(e,["generatedMasks"],s)}return e}function EM(t,e){const i={},s=f(t,["prompt"]);e!==void 0&&s!=null&&d(e,["instances[0]","prompt"],s);const r=f(t,["image"]);e!==void 0&&r!=null&&d(e,["instances[0]","image"],yn(r));const u=f(t,["scribbleImage"]);return e!==void 0&&u!=null&&d(e,["instances[0]","scribble"],vM(u)),i}function CM(t){const e={},i=f(t,["functionCallingConfig"]);i!=null&&d(e,["functionCallingConfig"],_1(i));const s=f(t,["retrievalConfig"]);return s!=null&&d(e,["retrievalConfig"],s),e}function AM(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(T=>T)),d(e,["functionDeclarations"],y)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const r=f(t,["computerUse"]);r!=null&&d(e,["computerUse"],r);const u=f(t,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=f(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],W1(h));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],j1(g));const m=f(t,["urlContext"]);return m!=null&&d(e,["urlContext"],m),e}function ST(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let T=i;Array.isArray(T)&&(T=T.map(S=>b1(S))),d(e,["functionDeclarations"],T)}const s=f(t,["retrieval"]);s!=null&&d(e,["retrieval"],s);const r=f(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const u=f(t,["computerUse"]);if(u!=null&&d(e,["computerUse"],u),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(t,["codeExecution"]);c!=null&&d(e,["codeExecution"],c);const h=f(t,["enterpriseWebSearch"]);h!=null&&d(e,["enterpriseWebSearch"],h);const g=f(t,["googleMaps"]);g!=null&&d(e,["googleMaps"],g);const m=f(t,["googleSearch"]);m!=null&&d(e,["googleSearch"],m);const y=f(t,["urlContext"]);return y!=null&&d(e,["urlContext"],y),e}function _M(t){const e={},i=f(t,["baseModel"]);i!=null&&d(e,["baseModel"],i);const s=f(t,["createTime"]);s!=null&&d(e,["createTime"],s);const r=f(t,["updateTime"]);return r!=null&&d(e,["updateTime"],r),e}function bM(t){const e={},i=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&d(e,["baseModel"],i);const s=f(t,["createTime"]);s!=null&&d(e,["createTime"],s);const r=f(t,["updateTime"]);return r!=null&&d(e,["updateTime"],r),e}function MM(t,e){const i={},s=f(t,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const r=f(t,["description"]);e!==void 0&&r!=null&&d(e,["description"],r);const u=f(t,["defaultCheckpointId"]);return e!==void 0&&u!=null&&d(e,["defaultCheckpointId"],u),i}function NM(t,e){const i={},s=f(t,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const r=f(t,["description"]);e!==void 0&&r!=null&&d(e,["description"],r);const u=f(t,["defaultCheckpointId"]);return e!==void 0&&u!=null&&d(e,["defaultCheckpointId"],u),i}function wM(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","name"],Ue(t,s));const r=f(e,["config"]);return r!=null&&MM(r,i),i}function RM(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ue(t,s));const r=f(e,["config"]);return r!=null&&NM(r,i),i}function DM(t,e){const i={},s=f(t,["outputGcsUri"]);e!==void 0&&s!=null&&d(e,["parameters","storageUri"],s);const r=f(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&d(e,["parameters","safetySetting"],r);const u=f(t,["personGeneration"]);e!==void 0&&u!=null&&d(e,["parameters","personGeneration"],u);const c=f(t,["includeRaiReason"]);e!==void 0&&c!=null&&d(e,["parameters","includeRaiReason"],c);const h=f(t,["outputMimeType"]);e!==void 0&&h!=null&&d(e,["parameters","outputOptions","mimeType"],h);const g=f(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&d(e,["parameters","outputOptions","compressionQuality"],g);const m=f(t,["enhanceInputImage"]);e!==void 0&&m!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],m);const y=f(t,["imagePreservationFactor"]);e!==void 0&&y!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],y);const T=f(t,["labels"]);e!==void 0&&T!=null&&d(e,["labels"],T);const S=f(t,["numberOfImages"]);e!==void 0&&S!=null&&d(e,["parameters","sampleCount"],S);const C=f(t,["mode"]);return e!==void 0&&C!=null&&d(e,["parameters","mode"],C),i}function IM(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ue(t,s));const r=f(e,["image"]);r!=null&&d(i,["instances[0]","image"],yn(r));const u=f(e,["upscaleFactor"]);u!=null&&d(i,["parameters","upscaleConfig","upscaleFactor"],u);const c=f(e,["config"]);return c!=null&&DM(c,i),i}function kM(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(u=>Sl(u))),d(e,["generatedImages"],r)}return e}function UM(t){const e={},i=f(t,["uri"]);i!=null&&d(e,["uri"],i);const s=f(t,["encodedVideo"]);s!=null&&d(e,["videoBytes"],Ci(s));const r=f(t,["encoding"]);return r!=null&&d(e,["mimeType"],r),e}function VM(t){const e={},i=f(t,["gcsUri"]);i!=null&&d(e,["uri"],i);const s=f(t,["bytesBase64Encoded"]);s!=null&&d(e,["videoBytes"],Ci(s));const r=f(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function LM(t){const e={},i=f(t,["image"]);i!=null&&d(e,["_self"],yn(i));const s=f(t,["maskMode"]);return s!=null&&d(e,["maskMode"],s),e}function PM(t){const e={},i=f(t,["image"]);i!=null&&d(e,["image"],xl(i));const s=f(t,["referenceType"]);return s!=null&&d(e,["referenceType"],s),e}function zM(t){const e={},i=f(t,["image"]);i!=null&&d(e,["image"],yn(i));const s=f(t,["referenceType"]);return s!=null&&d(e,["referenceType"],s),e}function xT(t){const e={},i=f(t,["uri"]);i!=null&&d(e,["uri"],i);const s=f(t,["videoBytes"]);s!=null&&d(e,["encodedVideo"],Ci(s));const r=f(t,["mimeType"]);return r!=null&&d(e,["encoding"],r),e}function ET(t){const e={},i=f(t,["uri"]);i!=null&&d(e,["gcsUri"],i);const s=f(t,["videoBytes"]);s!=null&&d(e,["bytesBase64Encoded"],Ci(s));const r=f(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GM(t,e){const i={},s=f(t,["displayName"]);return e!==void 0&&s!=null&&d(e,["displayName"],s),i}function HM(t){const e={},i=f(t,["config"]);return i!=null&&GM(i,e),e}function BM(t,e){const i={},s=f(t,["force"]);return e!==void 0&&s!=null&&d(e,["_query","force"],s),i}function qM(t){const e={},i=f(t,["name"]);i!=null&&d(e,["_url","name"],i);const s=f(t,["config"]);return s!=null&&BM(s,e),e}function OM(t){const e={},i=f(t,["name"]);return i!=null&&d(e,["_url","name"],i),e}function FM(t,e){const i={},s=f(t,["customMetadata"]);if(e!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["customMetadata"],u)}const r=f(t,["chunkingConfig"]);return e!==void 0&&r!=null&&d(e,["chunkingConfig"],r),i}function YM(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["metadata"]);s!=null&&d(e,["metadata"],s);const r=f(t,["done"]);r!=null&&d(e,["done"],r);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response"]);return c!=null&&d(e,["response"],KM(c)),e}function JM(t){const e={},i=f(t,["fileSearchStoreName"]);i!=null&&d(e,["_url","file_search_store_name"],i);const s=f(t,["fileName"]);s!=null&&d(e,["fileName"],s);const r=f(t,["config"]);return r!=null&&FM(r,e),e}function KM(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["parent"]);s!=null&&d(e,["parent"],s);const r=f(t,["documentName"]);return r!=null&&d(e,["documentName"],r),e}function XM(t,e){const i={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const r=f(t,["pageToken"]);return e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),i}function QM(t){const e={},i=f(t,["config"]);return i!=null&&XM(i,e),e}function $M(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const r=f(t,["fileSearchStores"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["fileSearchStores"],u)}return e}function CT(t,e){const i={},s=f(t,["mimeType"]);e!==void 0&&s!=null&&d(e,["mimeType"],s);const r=f(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const u=f(t,["customMetadata"]);if(e!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(g=>g)),d(e,["customMetadata"],h)}const c=f(t,["chunkingConfig"]);return e!==void 0&&c!=null&&d(e,["chunkingConfig"],c),i}function ZM(t){const e={},i=f(t,["fileSearchStoreName"]);i!=null&&d(e,["_url","file_search_store_name"],i);const s=f(t,["config"]);return s!=null&&CT(s,e),e}function WM(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jM="Content-Type",eN="X-Server-Timeout",tN="User-Agent",Nf="x-goog-api-client",nN="1.34.0",iN=`google-genai-sdk/${nN}`,oN="v1beta1",sN="v1beta";class aN{constructor(e){var i,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:oN,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:sN,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,s){const r=[this.getRequestUrlInternal(i)];return s&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,i,s);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))r.searchParams.append(c,String(h));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,i,r.toString(),e.abortSignal),this.unaryApiCall(r,u,e.httpMethod)}patchHttpOptions(e,i){const s=JSON.parse(JSON.stringify(e));for(const[r,u]of Object.entries(i))typeof u=="object"?s[r]=Object.assign(Object.assign({},s[r]),u):u!==void 0&&(s[r]=u);return s}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,i,s);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,i,r.toString(),e.abortSignal),this.streamApiCall(r,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,s,r){if(i&&i.timeout||r){const u=new AbortController,c=u.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const h=setTimeout(()=>u.abort(),i.timeout);h&&typeof h.unref=="function"&&h.unref()}r&&r.addEventListener("abort",()=>{u.abort()}),e.signal=c}return i&&i.extraBody!==null&&rN(e,i.extraBody),e.headers=await this.getHeadersInternal(i,s),e}async unaryApiCall(e,i,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:s})).then(async r=>(await Ay(r),new Cf(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,i,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:s})).then(async r=>(await Ay(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return pn(this,arguments,function*(){var s;const r=(s=e==null?void 0:e.body)===null||s===void 0?void 0:s.getReader(),u=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let c="";const h="data:",g=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:y}=yield ye(r.read());if(m){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=u.decode(y,{stream:!0});try{const _=JSON.parse(T);if("error"in _){const w=JSON.parse(JSON.stringify(_.error)),M=w.status,N=w.code,G=`got status: ${M}. ${JSON.stringify(_)}`;if(N>=400&&N<600)throw new vl({message:G,status:N})}}catch(_){if(_.name==="ApiError")throw _}c+=T;let S=-1,C=0;for(;;){S=-1,C=0;for(const M of g){const N=c.indexOf(M);N!==-1&&(S===-1||N<S)&&(S=N,C=M.length)}if(S===-1)break;const _=c.substring(0,S);c=c.substring(S+C);const w=_.trim();if(w.startsWith(h)){const M=w.substring(h.length).trim();try{const N=new Response(M,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ye(new Cf(N))}catch(N){throw new Error(`exception parsing stream chunk ${M}. ${N}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},i=iN+" "+this.clientOptions.userAgentExtra;return e[tN]=i,e[Nf]=i,e[jM]="application/json",e}async getHeadersInternal(e,i){const s=new Headers;if(e&&e.headers){for(const[r,u]of Object.entries(e.headers))s.append(r,u);e.timeout&&e.timeout>0&&s.append(eN,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,i),s}getFileName(e){var i;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(i=s.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),s}async uploadFile(e,i){var s;const r={};i!=null&&(r.mimeType=i.mimeType,r.name=i.name,r.displayName=i.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const u=this.clientOptions.uploader,c=await u.stat(e);r.sizeBytes=String(c.size);const h=(s=i==null?void 0:i.mimeType)!==null&&s!==void 0?s:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=h;const g={file:r},m=this.getFileName(e),y=te("upload/v1beta/files",g._url),T=await this.fetchUploadUrl(y,r.sizeBytes,r.mimeType,m,g,i==null?void 0:i.httpOptions);return u.upload(e,T,this)}async uploadFileToFileSearchStore(e,i,s){var r;const u=this.clientOptions.uploader,c=await u.stat(i),h=String(c.size),g=(r=s==null?void 0:s.mimeType)!==null&&r!==void 0?r:c.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${e}:uploadToFileSearchStore`,y=this.getFileName(i),T={};s!=null&&CT(s,T);const S=await this.fetchUploadUrl(m,h,g,y,T,s==null?void 0:s.httpOptions);return u.uploadToFileSearchStore(i,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,s,r,u,c){var h;let g={};c?g=c:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${s}`},r?{"X-Goog-Upload-File-Name":r}:{})};const m=await this.request({path:e,body:JSON.stringify(u),httpMethod:"POST",httpOptions:g});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(h=m==null?void 0:m.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function Ay(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const i=t.status;let s;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await t.json():s={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(s);throw i>=400&&i<600?new vl({message:r,status:i}):new Error(r)}}function rN(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof t.body=="string"&&t.body.length>0)try{const u=JSON.parse(t.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))i=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(u,c){const h=Object.assign({},u);for(const g in c)if(Object.prototype.hasOwnProperty.call(c,g)){const m=c[g],y=h[g];m&&typeof m=="object"&&!Array.isArray(m)&&y&&typeof y=="object"&&!Array.isArray(y)?h[g]=s(y,m):(y&&m&&typeof y!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof y}, New type: ${typeof m}. Overwriting.`),h[g]=m)}return h}const r=s(i,e);t.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lN="mcp_used/unknown";let uN=!1;function AT(t){for(const e of t)if(cN(e)||typeof e=="object"&&"inputSchema"in e)return!0;return uN}function _T(t){var e;const i=(e=t[Nf])!==null&&e!==void 0?e:"";t[Nf]=(i+` ${lN}`).trimStart()}function cN(t){return t!==null&&typeof t=="object"&&t instanceof yd}function fN(t){return pn(this,arguments,function*(i,s=100){let r,u=0;for(;u<s;){const c=yield ye(i.listTools({cursor:r}));for(const h of c.tools)yield yield ye(h),u++;if(!c.nextCursor)break;r=c.nextCursor}})}class yd{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new yd(e,i)}async initialize(){var e,i,s,r;if(this.mcpTools.length>0)return;const u={},c=[];for(const y of this.mcpClients)try{for(var h=!0,g=(i=void 0,gn(fN(y))),m;m=await g.next(),e=m.done,!e;h=!0){r=m.value,h=!1;const T=r;c.push(T);const S=T.name;if(u[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);u[S]=y}}catch(T){i={error:T}}finally{try{!h&&!e&&(s=g.return)&&await s.call(g)}finally{if(i)throw i.error}}this.mcpTools=c,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),OA(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[s.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const c=await r.callTool({name:s.name,arguments:s.args},void 0,u);i.push({functionResponse:{name:s.name,response:c.isError?{error:c}:c}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function dN(t,e,i){const s=new VA;let r;i.data instanceof Blob?r=JSON.parse(await i.data.text()):r=JSON.parse(i.data),Object.assign(s,r),e(s)}class hN{constructor(e,i,s){this.apiClient=e,this.auth=i,this.webSocketFactory=s}async connect(e){var i,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),c=gN(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),g=`${r}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const y=new Promise(I=>{m=I}),T=e.callbacks,S=function(){m({})},C=this.apiClient,_={onopen:S,onmessage:I=>{dN(C,T.onmessage,I)},onerror:(i=T==null?void 0:T.onerror)!==null&&i!==void 0?i:function(I){},onclose:(s=T==null?void 0:T.onclose)!==null&&s!==void 0?s:function(I){}},w=this.webSocketFactory.create(g,pN(c),_);w.connect(),await y;const G={setup:{model:Ue(this.apiClient,e.model)}};return w.send(JSON.stringify(G)),new mN(w,this.apiClient)}}class mN{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=Hb(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=Gb(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(Oo.PLAY)}pause(){this.sendPlaybackControl(Oo.PAUSE)}stop(){this.sendPlaybackControl(Oo.STOP)}resetContext(){this.sendPlaybackControl(Oo.RESET_CONTEXT)}close(){this.conn.close()}}function pN(t){const e={};return t.forEach((i,s)=>{e[s]=i}),e}function gN(t){const e=new Headers;for(const[i,s]of Object.entries(t))e.append(i,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yN="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function vN(t,e,i){const s=new UA;let r;i.data instanceof Blob?r=await i.data.text():i.data instanceof ArrayBuffer?r=new TextDecoder().decode(i.data):r=i.data;const u=JSON.parse(r);if(t.isVertexAI()){const c=Ob(u);Object.assign(s,c)}else Object.assign(s,u);e(s)}class TN{constructor(e,i,s){this.apiClient=e,this.auth=i,this.webSocketFactory=s,this.music=new hN(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,s,r,u,c,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const T=this.apiClient.getHeaders();e.config&&e.config.tools&&AT(e.config.tools)&&_T(T);const S=CN(T);if(this.apiClient.isVertexAI())y=`${g}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,y);else{const Z=this.apiClient.getApiKey();let ne="BidiGenerateContent",ue="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ne="BidiGenerateContentConstrained",ue="access_token"),y=`${g}/ws/google.ai.generativelanguage.${m}.GenerativeService.${ne}?${ue}=${Z}`}let C=()=>{};const _=new Promise(Z=>{C=Z}),w=e.callbacks,M=function(){var Z;(Z=w==null?void 0:w.onopen)===null||Z===void 0||Z.call(w),C({})},N=this.apiClient,G={onopen:M,onmessage:Z=>{vN(N,w.onmessage,Z)},onerror:(i=w==null?void 0:w.onerror)!==null&&i!==void 0?i:function(Z){},onclose:(s=w==null?void 0:w.onclose)!==null&&s!==void 0?s:function(Z){}},I=this.webSocketFactory.create(y,EN(S),G);I.connect(),await _;let F=Ue(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&F.startsWith("publishers/")){const Z=this.apiClient.getProject(),ne=this.apiClient.getLocation();F=`projects/${Z}/locations/${ne}/`+F}let Y={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[va.AUDIO]}:e.config.responseModalities=[va.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const j=(h=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[],Q=[];for(const Z of j)if(this.isCallableTool(Z)){const ne=Z;Q.push(await ne.tool())}else Q.push(Z);Q.length>0&&(e.config.tools=Q);const $={model:F,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Y=zb(this.apiClient,$):Y=Pb(this.apiClient,$),delete Y.config,I.send(JSON.stringify(Y)),new xN(I,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const SN={turnComplete:!0};class xN{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let s=[];try{s=an(i.turns),e.isVertexAI()||(s=s.map(r=>Tl(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:s,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let s=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?s=i.functionResponses:s=[i.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const u of s){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(yN)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},SN),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:qb(e)}:i={realtimeInput:Bb(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function EN(t){const e={};return t.forEach((i,s)=>{e[s]=i}),e}function CN(t){const e=new Headers;for(const[i,s]of Object.entries(t))e.append(i,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _y=10;function by(t){var e,i,s;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const c of(i=t==null?void 0:t.tools)!==null&&i!==void 0?i:[])if(Zo(c)){r=!0;break}if(!r)return!0;const u=(s=t==null?void 0:t.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function Zo(t){return"callTool"in t&&typeof t.callTool=="function"}function AN(t){var e,i,s;return(s=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(r=>Zo(r)))!==null&&s!==void 0?s:!1}function My(t){var e;const i=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((s,r)=>{if(Zo(s))return;const u=s;u.functionDeclarations&&u.functionDeclarations.length>0&&i.push(r)}),i}function Ny(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _N extends Xn{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var s,r,u,c,h;const g=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!AN(i)||by(i.config))return await this.generateContentInternal(g);const m=My(i);if(m.length>0){const w=m.map(M=>`tools[${M}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let y,T;const S=an(g.contents),C=(u=(r=(s=g.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&u!==void 0?u:_y;let _=0;for(;_<C&&(y=await this.generateContentInternal(g),!(!y.functionCalls||y.functionCalls.length===0));){const w=y.candidates[0].content,M=[];for(const N of(h=(c=i.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[])if(Zo(N)){const I=await N.callTool(y.functionCalls);M.push(...I)}_++,T={role:"user",parts:M},g.contents=an(g.contents),g.contents.push(w),g.contents.push(T),Ny(g.config)&&(S.push(w),S.push(T))}return Ny(g.config)&&(y.automaticFunctionCallingHistory=S),y},this.generateContentStream=async i=>{var s,r,u,c,h;if(this.maybeMoveToResponseJsonSchem(i),by(i.config)){const T=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(T)}const g=My(i);if(g.length>0){const T=g.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(u=(r=(s=i==null?void 0:i.config)===null||s===void 0?void 0:s.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,y=(h=(c=i==null?void 0:i.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(m&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(s=>{var r;let u;const c=[];if(s!=null&&s.generatedImages)for(const g of s.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((r=g==null?void 0:g.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?u=g==null?void 0:g.safetyAttributes:c.push(g);let h;return u?h={generatedImages:c,positivePromptSafetyAttributes:u,sdkHttpResponse:s.sdkHttpResponse}:h={generatedImages:c,sdkHttpResponse:s.sdkHttpResponse},h}),this.list=async i=>{var s;const c={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((s=c.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Wi(Fn.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(c),c)},this.editImage=async i=>{const s={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(s.referenceImages=i.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async i=>{let s={numberOfImages:1,mode:"upscale"};i.config&&(s=Object.assign(Object.assign({},s),i.config));const r={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:s};return await this.upscaleImageInternal(r)},this.generateVideos=async i=>{var s,r,u,c,h,g;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=i.video)===null||s===void 0)&&s.uri&&(!((r=i.video)===null||r===void 0)&&r.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((c=(u=i.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.uri&&(!((g=(h=i.source)===null||h===void 0?void 0:h.video)===null||g===void 0)&&g.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,s,r;const u=(i=e.config)===null||i===void 0?void 0:i.tools;if(!u)return e;const c=await Promise.all(u.map(async g=>Zo(g)?await g.tool():g)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(h.config.tools=c,e.config&&e.config.tools&&AT(e.config.tools)){const g=(r=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&r!==void 0?r:{};let m=Object.assign({},g);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),_T(m),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(e){var i,s,r;const u=new Map;for(const c of(s=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&s!==void 0?s:[])if(Zo(c)){const h=c,g=await h.tool();for(const m of(r=g.functionDeclarations)!==null&&r!==void 0?r:[]){if(!m.name)throw new Error("Function declaration name is required.");if(u.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);u.set(m.name,h)}}return u}async processAfcStream(e){var i,s,r;const u=(r=(s=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&r!==void 0?r:_y;let c=!1,h=0;const g=await this.initAfcToolsMap(e);return(function(m,y,T){return pn(this,arguments,function*(){for(var S,C,_,w,M,N;h<u;){c&&(h++,c=!1);const Y=yield ye(m.processParamsMaybeAddMcpUsage(T)),j=yield ye(m.generateContentStreamInternal(Y)),Q=[],$=[];try{for(var G=!0,I=(C=void 0,gn(j)),F;F=yield ye(I.next()),S=F.done,!S;G=!0){w=F.value,G=!1;const Z=w;if(yield yield ye(Z),Z.candidates&&(!((M=Z.candidates[0])===null||M===void 0)&&M.content)){$.push(Z.candidates[0].content);for(const ne of(N=Z.candidates[0].content.parts)!==null&&N!==void 0?N:[])if(h<u&&ne.functionCall){if(!ne.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(ne.functionCall.name)){const ue=yield ye(y.get(ne.functionCall.name).callTool([ne.functionCall]));Q.push(...ue)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${ne.functionCall.name}`)}}}}catch(Z){C={error:Z}}finally{try{!G&&!S&&(_=I.return)&&(yield ye(_.call(I)))}finally{if(C)throw C.error}}if(Q.length>0){c=!0;const Z=new sa;Z.candidates=[{content:{role:"user",parts:Q}}],yield yield ye(Z);const ne=[];ne.push(...$),ne.push({role:"user",parts:Q});const ue=an(T.contents).concat(ne);T.contents=ue}else break}})})(this,g,e)}async generateContentInternal(e){var i,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=xy(this.apiClient,e);return h=te("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=Cy(y),S=new sa;return Object.assign(S,T),S})}else{const m=Sy(this.apiClient,e);return h=te("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=Ey(y),S=new sa;return Object.assign(S,T),S})}}async generateContentStreamInternal(e){var i,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=xy(this.apiClient,e);return h=te("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),c.then(function(T){return pn(this,arguments,function*(){var S,C,_,w;try{for(var M=!0,N=gn(T),G;G=yield ye(N.next()),S=G.done,!S;M=!0){w=G.value,M=!1;const I=w,F=Cy(yield ye(I.json()));F.sdkHttpResponse={headers:I.headers};const Y=new sa;Object.assign(Y,F),yield yield ye(Y)}}catch(I){C={error:I}}finally{try{!M&&!S&&(_=N.return)&&(yield ye(_.call(N)))}finally{if(C)throw C.error}}})})}else{const m=Sy(this.apiClient,e);return h=te("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),c.then(function(T){return pn(this,arguments,function*(){var S,C,_,w;try{for(var M=!0,N=gn(T),G;G=yield ye(N.next()),S=G.done,!S;M=!0){w=G.value,M=!1;const I=w,F=Ey(yield ye(I.json()));F.sdkHttpResponse={headers:I.headers};const Y=new sa;Object.assign(Y,F),yield yield ye(Y)}}catch(I){C={error:I}}finally{try{!M&&!S&&(_=N.return)&&(yield ye(_.call(N)))}finally{if(C)throw C.error}}})})}}async embedContent(e){var i,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=T1(this.apiClient,e);return h=te("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=x1(y),S=new iy;return Object.assign(S,T),S})}else{const m=v1(this.apiClient,e);return h=te("{model}:batchEmbedContents",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=S1(y),S=new iy;return Object.assign(S,T),S})}}async generateImagesInternal(e){var i,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=I1(this.apiClient,e);return h=te("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=U1(y),S=new oy;return Object.assign(S,T),S})}else{const m=D1(this.apiClient,e);return h=te("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=k1(y),S=new oy;return Object.assign(S,T),S})}}async editImageInternal(e){var i,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const h=m1(this.apiClient,e);return u=te("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),r.then(g=>{const m=p1(g),y=new CA;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const h=IM(this.apiClient,e);return u=te("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),r.then(g=>{const m=kM(g),y=new AA;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const h=hM(this.apiClient,e);return u=te("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>{const m=mM(g),y=new _A;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const h=SM(this.apiClient,e);return u=te("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>{const m=xM(g),y=new bA;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=Z1(this.apiClient,e);return h=te("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>Mf(y))}else{const m=$1(this.apiClient,e);return h=te("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),c.then(y=>bf(y))}}async listInternal(e){var i,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=aM(this.apiClient,e);return h=te("{models_url}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=lM(y),S=new sy;return Object.assign(S,T),S})}else{const m=sM(this.apiClient,e);return h=te("{models_url}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=rM(y),S=new sy;return Object.assign(S,T),S})}}async update(e){var i,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=RM(this.apiClient,e);return h=te("{model}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>Mf(y))}else{const m=wM(this.apiClient,e);return h=te("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),c.then(y=>bf(y))}}async delete(e){var i,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=c1(this.apiClient,e);return h=te("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=d1(y),S=new ay;return Object.assign(S,T),S})}else{const m=u1(this.apiClient,e);return h=te("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=f1(y),S=new ay;return Object.assign(S,T),S})}}async countTokens(e){var i,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=a1(this.apiClient,e);return h=te("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=l1(y),S=new ry;return Object.assign(S,T),S})}else{const m=s1(this.apiClient,e);return h=te("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=r1(y),S=new ry;return Object.assign(S,T),S})}}async computeTokens(e){var i,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const h=Wb(this.apiClient,e);return u=te("{model}:computeTokens",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),r.then(g=>{const m=jb(g),y=new MA;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=H1(this.apiClient,e);return h=te("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>{const T=z1(y),S=new al;return Object.assign(S,T),S})}else{const m=G1(this.apiClient,e);return h=te("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),c.then(y=>{const T=P1(y),S=new al;return Object.assign(S,T),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bN extends Xn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,s=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=i.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:r,config:{httpOptions:u}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const i=e.operation,s=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=i.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:r,config:{httpOptions:u}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=yA(e);return h=te("{operationName}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c}else{const m=gA(e);return h=te("{operationName}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),c}}async fetchPredictVideosOperationInternal(e){var i,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const h=uA(e);return u=te("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MN(t){const e={},i=f(t,["data"]);if(i!=null&&d(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function NN(t){const e={},i=f(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(u=>PN(u))),d(e,["parts"],r)}const s=f(t,["role"]);return s!=null&&d(e,["role"],s),e}function wN(t,e,i){const s={},r=f(e,["expireTime"]);i!==void 0&&r!=null&&d(i,["expireTime"],r);const u=f(e,["newSessionExpireTime"]);i!==void 0&&u!=null&&d(i,["newSessionExpireTime"],u);const c=f(e,["uses"]);i!==void 0&&c!=null&&d(i,["uses"],c);const h=f(e,["liveConnectConstraints"]);i!==void 0&&h!=null&&d(i,["bidiGenerateContentSetup"],LN(t,h));const g=f(e,["lockAdditionalFields"]);return i!==void 0&&g!=null&&d(i,["fieldMask"],g),s}function RN(t,e){const i={},s=f(e,["config"]);return s!=null&&d(i,["config"],wN(t,s,i)),i}function DN(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function IN(t){const e={},i=f(t,["id"]);i!=null&&d(e,["id"],i);const s=f(t,["args"]);s!=null&&d(e,["args"],s);const r=f(t,["name"]);if(r!=null&&d(e,["name"],r),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function kN(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function UN(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function VN(t,e){const i={},s=f(t,["generationConfig"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig"],s);const r=f(t,["responseModalities"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig","responseModalities"],r);const u=f(t,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const c=f(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const h=f(t,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const g=f(t,["maxOutputTokens"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","maxOutputTokens"],g);const m=f(t,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const y=f(t,["seed"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","seed"],y);const T=f(t,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],gd(T));const S=f(t,["thinkingConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","thinkingConfig"],S);const C=f(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],C);const _=f(t,["systemInstruction"]);e!==void 0&&_!=null&&d(e,["setup","systemInstruction"],NN(Ct(_)));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let j=is(w);Array.isArray(j)&&(j=j.map(Q=>GN(ns(Q)))),d(e,["setup","tools"],j)}const M=f(t,["sessionResumption"]);e!==void 0&&M!=null&&d(e,["setup","sessionResumption"],zN(M));const N=f(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&d(e,["setup","inputAudioTranscription"],N);const G=f(t,["outputAudioTranscription"]);e!==void 0&&G!=null&&d(e,["setup","outputAudioTranscription"],G);const I=f(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&d(e,["setup","realtimeInputConfig"],I);const F=f(t,["contextWindowCompression"]);e!==void 0&&F!=null&&d(e,["setup","contextWindowCompression"],F);const Y=f(t,["proactivity"]);if(e!==void 0&&Y!=null&&d(e,["setup","proactivity"],Y),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function LN(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["setup","model"],Ue(t,s));const r=f(e,["config"]);return r!=null&&d(i,["config"],VN(r,i)),i}function PN(t){const e={},i=f(t,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const s=f(t,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const r=f(t,["executableCode"]);r!=null&&d(e,["executableCode"],r);const u=f(t,["fileData"]);u!=null&&d(e,["fileData"],DN(u));const c=f(t,["functionCall"]);c!=null&&d(e,["functionCall"],IN(c));const h=f(t,["functionResponse"]);h!=null&&d(e,["functionResponse"],h);const g=f(t,["inlineData"]);g!=null&&d(e,["inlineData"],MN(g));const m=f(t,["text"]);m!=null&&d(e,["text"],m);const y=f(t,["thought"]);y!=null&&d(e,["thought"],y);const T=f(t,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const S=f(t,["videoMetadata"]);return S!=null&&d(e,["videoMetadata"],S),e}function zN(t){const e={},i=f(t,["handle"]);if(i!=null&&d(e,["handle"],i),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function GN(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(T=>T)),d(e,["functionDeclarations"],y)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const r=f(t,["computerUse"]);r!=null&&d(e,["computerUse"],r);const u=f(t,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=f(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],kN(h));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],UN(g));const m=f(t,["urlContext"]);return m!=null&&d(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HN(t){const e=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const s=t[i];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const r=Object.keys(s).map(u=>`${i}.${u}`);e.push(...r)}else e.push(i)}return e.join(",")}function BN(t,e){let i=null;const s=t.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const u=s.setup;typeof u=="object"&&u!==null?(t.bidiGenerateContentSetup=u,i=u):delete t.bidiGenerateContentSetup}else s!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(i){const u=HN(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?t.fieldMask=u:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];r.length>0&&(h=r.map(m=>c.includes(m)?`generationConfig.${m}`:m));const g=[];u&&g.push(u),h.length>0&&g.push(...h),g.length>0?t.fieldMask=g.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class qN extends Xn{constructor(e){super(),this.apiClient=e}async create(e){var i,s;let r,u="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=RN(this.apiClient,e);u=te("auth_tokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query;const g=BN(h,e.config);return r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),r.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ON(t,e){const i={},s=f(t,["force"]);return e!==void 0&&s!=null&&d(e,["_query","force"],s),i}function FN(t){const e={},i=f(t,["name"]);i!=null&&d(e,["_url","name"],i);const s=f(t,["config"]);return s!=null&&ON(s,e),e}function YN(t){const e={},i=f(t,["name"]);return i!=null&&d(e,["_url","name"],i),e}function JN(t,e){const i={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const r=f(t,["pageToken"]);return e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),i}function KN(t){const e={},i=f(t,["parent"]);i!=null&&d(e,["_url","parent"],i);const s=f(t,["config"]);return s!=null&&JN(s,e),e}function XN(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const r=f(t,["documents"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["documents"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QN extends Xn{constructor(e){super(),this.apiClient=e,this.list=async i=>new Wi(Fn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:i.parent,config:s.config}),await this.listInternal(i),i)}async get(e){var i,s;let r,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=YN(e);return u=te("{name}",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async delete(e){var i,s;let r="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=FN(e);r=te("{name}",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var i,s;let r,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=KN(e);return u=te("{parent}/documents",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>{const m=XN(g),y=new NA;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $N extends Xn{constructor(e,i=new QN(e)){super(),this.apiClient=e,this.documents=i,this.list=async(s={})=>new Wi(Fn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,s;let r,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=HM(e);return u=te("fileSearchStores",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async get(e){var i,s;let r,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=OM(e);return u=te("{name}",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async delete(e){var i,s;let r="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=qM(e);r=te("{name}",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var i,s;let r,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=QM(e);return u=te("fileSearchStores",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>{const m=$M(g),y=new wA;return Object.assign(y,m),y})}}async uploadToFileSearchStoreInternal(e){var i,s;let r,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ZM(e);return u=te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>{const m=WM(g),y=new RA;return Object.assign(y,m),y})}}async importFile(e){var i,s;let r,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=JM(e);return u=te("{file_search_store_name}:importFile",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>{const m=YM(g),y=new fd;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let bT=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return bT=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),i=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^i()&15>>+s/4).toString(16))};const ZN=()=>bT();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wf(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Rf=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ln extends Error{}class wt extends ln{constructor(e,i,s,r){super(`${wt.makeMessage(e,i,s)}`),this.status=e,this.headers=r,this.error=i}static makeMessage(e,i,s){const r=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):s;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,i,s,r){if(!e||!r)return new El({message:s,cause:Rf(i)});const u=i;return e===400?new NT(e,u,s,r):e===401?new wT(e,u,s,r):e===403?new RT(e,u,s,r):e===404?new DT(e,u,s,r):e===409?new IT(e,u,s,r):e===422?new kT(e,u,s,r):e===429?new UT(e,u,s,r):e>=500?new VT(e,u,s,r):new wt(e,u,s,r)}}class Df extends wt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class El extends wt{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}}class MT extends El{constructor({message:e}={}){super({message:e??"Request timed out."})}}class NT extends wt{}class wT extends wt{}class RT extends wt{}class DT extends wt{}class IT extends wt{}class kT extends wt{}class UT extends wt{}class VT extends wt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WN=/^[a-z][a-z0-9+.-]*:/i,jN=t=>WN.test(t);let If=t=>(If=Array.isArray,If(t));const ew=If;let tw=ew;const wy=tw;function nw(t){if(!t)return!0;for(const e in t)return!1;return!0}function iw(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const ow=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ln(`${t} must be an integer`);if(e<0)throw new ln(`${t} must be a positive integer`);return e},sw=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aw=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rw(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const lw=()=>{var t,e,i,s,r;const u=rw();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qo,"X-Stainless-OS":Dy(Deno.build.os),"X-Stainless-Arch":Ry(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qo,"X-Stainless-OS":Dy((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":Ry((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const c=uw();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function uw(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of t){const s=i.exec(navigator.userAgent);if(s){const r=s[1]||0,u=s[2]||0,c=s[3]||0;return{browser:e,version:`${r}.${u}.${c}`}}}return null}const Ry=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Dy=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Fr;const cw=()=>Fr??(Fr=lw());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fw(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function LT(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function dw(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return LT({start(){},async pull(i){const{done:s,value:r}=await e.next();s?i.close():i.enqueue(r)},async cancel(){var i;await((i=e.return)===null||i===void 0?void 0:i.call(e))}})}function PT(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const i=await e.read();return i!=null&&i.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function hw(t){var e,i;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((i=(e=t[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(e));return}const s=t.getReader(),r=s.cancel();s.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mw=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zT=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,i=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function nf(t,e,i){return zT(),new File(t,e??"unknown_file",i)}function pw(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const gw=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GT=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",yw=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&GT(t),vw=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Tw(t,e,i){if(zT(),t=await t,yw(t))return t instanceof File?t:nf([await t.arrayBuffer()],t.name);if(vw(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),nf(await kf(r),e,i)}const s=await kf(t);if(e||(e=pw(t)),!(i!=null&&i.type)){const r=s.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof r=="string"&&(i=Object.assign(Object.assign({},i),{type:r}))}return nf(s,e,i)}async function kf(t){var e,i,s,r,u;let c=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)c.push(t);else if(GT(t))c.push(t instanceof Blob?t:await t.arrayBuffer());else if(gw(t))try{for(var h=!0,g=gn(t),m;m=await g.next(),e=m.done,!e;h=!0){r=m.value,h=!1;const y=r;c.push(...await kf(y))}}catch(y){i={error:y}}finally{try{!h&&!e&&(s=g.return)&&await s.call(g)}finally{if(i)throw i.error}}else{const y=(u=t==null?void 0:t.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof t}${y?`; constructor: ${y}`:""}${Sw(t)}`)}return c}function Sw(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HT{constructor(e){this._client=e}}HT._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BT(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Iy=Object.freeze(Object.create(null)),xw=(t=BT)=>(function(i,...s){if(i.length===1)return i[0];let r=!1;const u=[],c=i.reduce((y,T,S)=>{var C,_,w;/[?#]/.test(T)&&(r=!0);const M=s[S];let N=(r?encodeURIComponent:t)(""+M);return S!==s.length&&(M==null||typeof M=="object"&&M.toString===((w=Object.getPrototypeOf((_=Object.getPrototypeOf((C=M.hasOwnProperty)!==null&&C!==void 0?C:Iy))!==null&&_!==void 0?_:Iy))===null||w===void 0?void 0:w.toString))&&(N=M+"",u.push({start:y.length+T.length,length:N.length,error:`Value of type ${Object.prototype.toString.call(M).slice(8,-1)} is not a valid path parameter`})),y+T+(S===s.length?"":N)},""),h=c.split(/[?#]/,1)[0],g=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=g.exec(h))!==null;)u.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(u.sort((y,T)=>y.start-T.start),u.length>0){let y=0;const T=u.reduce((S,C)=>{const _=" ".repeat(C.start-y),w="^".repeat(C.length);return y=C.start+C.length,S+_+w},"");throw new ln(`Path parameters result in path with invalid segments:
${u.map(S=>S.error).join(`
`)}
${c}
${T}`)}return c}),Yr=xw(BT);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qT extends HT{create(e,i){var s;const{api_version:r=this._client.apiVersion}=e,u=ll(e,["api_version"]);if("model"in u&&"agent_config"in u)throw new ln("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new ln("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Yr`/${r}/interactions`,Object.assign(Object.assign({body:u},i),{stream:(s=e.stream)!==null&&s!==void 0?s:!1}))}delete(e,i={},s){const{api_version:r=this._client.apiVersion}=i??{};return this._client.delete(Yr`/${r}/interactions/${e}`,s)}cancel(e,i={},s){const{api_version:r=this._client.apiVersion}=i??{};return this._client.post(Yr`/${r}/interactions/${e}/cancel`,s)}get(e,i={},s){var r;const u=i??{},{api_version:c=this._client.apiVersion}=u,h=ll(u,["api_version"]);return this._client.get(Yr`/${c}/interactions/${e}`,Object.assign(Object.assign({query:h},s),{stream:(r=i==null?void 0:i.stream)!==null&&r!==void 0?r:!1}))}}qT._key=Object.freeze(["interactions"]);class OT extends qT{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ew(t){let e=0;for(const r of t)e+=r.length;const i=new Uint8Array(e);let s=0;for(const r of t)i.set(r,s),s+=r.length;return i}let Jr;function vd(t){let e;return(Jr??(e=new globalThis.TextEncoder,Jr=e.encode.bind(e)))(t)}let Kr;function ky(t){let e;return(Kr??(e=new globalThis.TextDecoder,Kr=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cl{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const i=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?vd(e):e;this.buffer=Ew([this.buffer,i]);const s=[];let r;for(;(r=Cw(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){s.push(ky(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,c=ky(this.buffer.subarray(0,u));s.push(c),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}Cl.NEWLINE_CHARS=new Set([`
`,"\r"]);Cl.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Cw(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function Aw(t){for(let s=0;s<t.length-1;s++){if(t[s]===10&&t[s+1]===10||t[s]===13&&t[s+1]===13)return s+2;if(t[s]===13&&t[s+1]===10&&s+3<t.length&&t[s+2]===13&&t[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ul={off:0,error:200,warn:300,info:400,debug:500},Uy=(t,e,i)=>{if(t){if(iw(ul,t))return t;Mt(i).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(ul))}`)}};function fa(){}function Xr(t,e,i){return!e||ul[t]>ul[i]?fa:e[t].bind(e)}const _w={error:fa,warn:fa,info:fa,debug:fa};let Vy=new WeakMap;function Mt(t){var e;const i=t.logger,s=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!i)return _w;const r=Vy.get(i);if(r&&r[0]===s)return r[1];const u={error:Xr("error",i,s),warn:Xr("warn",i,s),info:Xr("info",i,s),debug:Xr("debug",i,s)};return Vy.set(i,[s,u]),u}const Fi=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,i])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fo{constructor(e,i,s){this.iterator=e,this.controller=i,this.client=s}static fromSSEResponse(e,i,s){let r=!1;const u=s?Mt(s):console;function c(){return pn(this,arguments,function*(){var g,m,y,T;if(r)throw new ln("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var C=!0,_=gn(bw(e,i)),w;w=yield ye(_.next()),g=w.done,!g;C=!0){T=w.value,C=!1;const M=T;if(!S)if(M.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield ye(JSON.parse(M.data))}catch(N){throw u.error("Could not parse message into JSON:",M.data),u.error("From chunk:",M.raw),N}}}catch(M){m={error:M}}finally{try{!C&&!g&&(y=_.return)&&(yield ye(y.call(_)))}finally{if(m)throw m.error}}S=!0}catch(M){if(wf(M))return yield ye(void 0);throw M}finally{S||i.abort()}})}return new Fo(c,i,s)}static fromReadableStream(e,i,s){let r=!1;function u(){return pn(this,arguments,function*(){var g,m,y,T;const S=new Cl,C=PT(e);try{for(var _=!0,w=gn(C),M;M=yield ye(w.next()),g=M.done,!g;_=!0){T=M.value,_=!1;const N=T;for(const G of S.decode(N))yield yield ye(G)}}catch(N){m={error:N}}finally{try{!_&&!g&&(y=w.return)&&(yield ye(y.call(w)))}finally{if(m)throw m.error}}for(const N of S.flush())yield yield ye(N)})}function c(){return pn(this,arguments,function*(){var g,m,y,T;if(r)throw new ln("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var C=!0,_=gn(u()),w;w=yield ye(_.next()),g=w.done,!g;C=!0){T=w.value,C=!1;const M=T;S||M&&(yield yield ye(JSON.parse(M)))}}catch(M){m={error:M}}finally{try{!C&&!g&&(y=_.return)&&(yield ye(y.call(_)))}finally{if(m)throw m.error}}S=!0}catch(M){if(wf(M))return yield ye(void 0);throw M}finally{S||i.abort()}})}return new Fo(c,i,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],i=[],s=this.iterator(),r=u=>({next:()=>{if(u.length===0){const c=s.next();e.push(c),i.push(c)}return u.shift()}});return[new Fo(()=>r(e),this.controller,this.client),new Fo(()=>r(i),this.controller,this.client)]}toReadableStream(){const e=this;let i;return LT({async start(){i=e[Symbol.asyncIterator]()},async pull(s){try{const{value:r,done:u}=await i.next();if(u)return s.close();const c=vd(JSON.stringify(r)+`
`);s.enqueue(c)}catch(r){s.error(r)}},async cancel(){var s;await((s=i.return)===null||s===void 0?void 0:s.call(i))}})}}function bw(t,e){return pn(this,arguments,function*(){var s,r,u,c;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ln("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ln("Attempted to iterate over a response with no body");const h=new Nw,g=new Cl,m=PT(t.body);try{for(var y=!0,T=gn(Mw(m)),S;S=yield ye(T.next()),s=S.done,!s;y=!0){c=S.value,y=!1;const C=c;for(const _ of g.decode(C)){const w=h.decode(_);w&&(yield yield ye(w))}}}catch(C){r={error:C}}finally{try{!y&&!s&&(u=T.return)&&(yield ye(u.call(T)))}finally{if(r)throw r.error}}for(const C of g.flush()){const _=h.decode(C);_&&(yield yield ye(_))}})}function Mw(t){return pn(this,arguments,function*(){var i,s,r,u;let c=new Uint8Array;try{for(var h=!0,g=gn(t),m;m=yield ye(g.next()),i=m.done,!i;h=!0){u=m.value,h=!1;const y=u;if(y==null)continue;const T=y instanceof ArrayBuffer?new Uint8Array(y):typeof y=="string"?vd(y):y;let S=new Uint8Array(c.length+T.length);S.set(c),S.set(T,c.length),c=S;let C;for(;(C=Aw(c))!==-1;)yield yield ye(c.slice(0,C)),c=c.slice(C)}}catch(y){s={error:y}}finally{try{!h&&!i&&(r=g.return)&&(yield ye(r.call(g)))}finally{if(s)throw s.error}}c.length>0&&(yield yield ye(c))})}class Nw{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,s,r]=ww(e,":");return r.startsWith(" ")&&(r=r.substring(1)),i==="event"?this.event=r:i==="data"&&this.data.push(r),null}}function ww(t,e){const i=t.indexOf(e);return i!==-1?[t.substring(0,i),e,t.substring(i+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Rw(t,e){const{response:i,requestLogID:s,retryOfRequestLogID:r,startTime:u}=e,c=await(async()=>{var h;if(e.options.stream)return Mt(t).debug("response",i.status,i.url,i.headers,i.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(i,e.controller,t):Fo.fromSSEResponse(i,e.controller,t);if(i.status===204)return null;if(e.options.__binaryResponse)return i;const g=i.headers.get("content-type"),m=(h=g==null?void 0:g.split(";")[0])===null||h===void 0?void 0:h.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await i.json():await i.text()})();return Mt(t).debug(`[${s}] response parsed`,Fi({retryOfRequestLogID:r,url:i.url,status:i.status,body:c,durationMs:Date.now()-u})),c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Td extends Promise{constructor(e,i,s=Rw){super(r=>{r(null)}),this.responsePromise=i,this.parseResponse=s,this.client=e}_thenUnwrap(e){return new Td(this.client,this.responsePromise,async(i,s)=>e(await this.parseResponse(i,s),s))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FT=Symbol("brand.privateNullableHeaders");function*Dw(t){if(!t)return;if(FT in t){const{values:s,nulls:r}=t;yield*s.entries();for(const u of r)yield[u,null];return}let e=!1,i;t instanceof Headers?i=t.entries():wy(t)?i=t:(e=!0,i=Object.entries(t??{}));for(let s of i){const r=s[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const u=wy(s[1])?s[1]:[s[1]];let c=!1;for(const h of u)h!==void 0&&(e&&!c&&(c=!0,yield[r,null]),yield[r,h])}}const aa=t=>{const e=new Headers,i=new Set;for(const s of t){const r=new Set;for(const[u,c]of Dw(s)){const h=u.toLowerCase();r.has(h)||(e.delete(u),r.add(h)),c===null?(e.delete(u),i.add(h)):(e.append(u,c),i.delete(h))}}return{[FT]:!0,values:e,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const of=t=>{var e,i,s,r,u,c;if(typeof globalThis.process<"u")return(s=(i=(e=iA)===null||e===void 0?void 0:e[t])===null||i===void 0?void 0:i.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(c=(u=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||u===void 0?void 0:u.call(r,t))===null||c===void 0?void 0:c.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var YT;class Al{constructor(e){var i,s,r,u,c,h,g,{baseURL:m=of("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(i=of("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:T="v1beta"}=e,S=ll(e,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:y,apiVersion:T},S),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(s=C.timeout)!==null&&s!==void 0?s:Al.DEFAULT_TIMEOUT,this.logger=(r=C.logger)!==null&&r!==void 0?r:console;const _="warn";this.logLevel=_,this.logLevel=(c=(u=Uy(C.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:Uy(of("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:_,this.fetchOptions=C.fetchOptions,this.maxRetries=(h=C.maxRetries)!==null&&h!==void 0?h:2,this.fetch=(g=C.fetch)!==null&&g!==void 0?g:fw(),this.encoder=mw,this._options=C,this.apiKey=y,this.apiVersion=T,this.clientAdapter=C.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:i}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const i=aa([e.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return aa([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return aa([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([i,s])=>typeof s<"u").map(([i,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(i)}=`;throw new ln(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${qo}`}defaultIdempotencyKey(){return`stainless-node-retry-${ZN()}`}makeStatusError(e,i,s,r){return wt.generate(e,i,s,r)}buildURL(e,i,s){const r=!this.baseURLOverridden()&&s||this.baseURL,u=jN(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return nw(c)||(i=Object.assign(Object.assign({},c),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(u.search=this.stringifyQuery(i)),u.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const i=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(e,{url:i,options:s}){}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,s){return this.request(Promise.resolve(s).then(r=>Object.assign({method:e,path:i},r)))}request(e,i=null){return new Td(this,this.makeRequest(e,i,void 0))}async makeRequest(e,i,s){var r,u,c;const h=await e,g=(r=h.maxRetries)!==null&&r!==void 0?r:this.maxRetries;i==null&&(i=g),await this.prepareOptions(h);const{req:m,url:y,timeout:T}=await this.buildRequest(h,{retryCount:g-i});await this.prepareRequest(m,{url:y,options:h});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=s===void 0?"":`, retryOf: ${s}`,_=Date.now();if(Mt(this).debug(`[${S}] sending request`,Fi({retryOfRequestLogID:s,method:h.method,url:y,options:h,headers:m.headers})),!((u=h.signal)===null||u===void 0)&&u.aborted)throw new Df;const w=new AbortController,M=await this.fetchWithTimeout(y,m,T,w).catch(Rf),N=Date.now();if(M instanceof globalThis.Error){const I=`retrying, ${i} attempts remaining`;if(!((c=h.signal)===null||c===void 0)&&c.aborted)throw new Df;const F=wf(M)||/timed? ?out/i.test(String(M)+("cause"in M?String(M.cause):""));if(i)return Mt(this).info(`[${S}] connection ${F?"timed out":"failed"} - ${I}`),Mt(this).debug(`[${S}] connection ${F?"timed out":"failed"} (${I})`,Fi({retryOfRequestLogID:s,url:y,durationMs:N-_,message:M.message})),this.retryRequest(h,i,s??S);throw Mt(this).info(`[${S}] connection ${F?"timed out":"failed"} - error; no more retries left`),Mt(this).debug(`[${S}] connection ${F?"timed out":"failed"} (error; no more retries left)`,Fi({retryOfRequestLogID:s,url:y,durationMs:N-_,message:M.message})),F?new MT:new El({cause:M})}const G=`[${S}${C}] ${m.method} ${y} ${M.ok?"succeeded":"failed"} with status ${M.status} in ${N-_}ms`;if(!M.ok){const I=await this.shouldRetry(M);if(i&&I){const Z=`retrying, ${i} attempts remaining`;return await hw(M.body),Mt(this).info(`${G} - ${Z}`),Mt(this).debug(`[${S}] response error (${Z})`,Fi({retryOfRequestLogID:s,url:M.url,status:M.status,headers:M.headers,durationMs:N-_})),this.retryRequest(h,i,s??S,M.headers)}const F=I?"error; no more retries left":"error; not retryable";Mt(this).info(`${G} - ${F}`);const Y=await M.text().catch(Z=>Rf(Z).message),j=sw(Y),Q=j?void 0:Y;throw Mt(this).debug(`[${S}] response error (${F})`,Fi({retryOfRequestLogID:s,url:M.url,status:M.status,headers:M.headers,message:Q,durationMs:Date.now()-_})),this.makeStatusError(M.status,j,Q,M.headers)}return Mt(this).info(G),Mt(this).debug(`[${S}] response start`,Fi({retryOfRequestLogID:s,url:M.url,status:M.status,headers:M.headers,durationMs:N-_})),{response:M,options:h,controller:w,requestLogID:S,retryOfRequestLogID:s,startTime:_}}async fetchWithTimeout(e,i,s,r){const u=i||{},{signal:c,method:h}=u,g=ll(u,["signal","method"]);c&&c.addEventListener("abort",()=>r.abort());const m=setTimeout(()=>r.abort(),s),y=globalThis.ReadableStream&&g.body instanceof globalThis.ReadableStream||typeof g.body=="object"&&g.body!==null&&Symbol.asyncIterator in g.body,T=Object.assign(Object.assign(Object.assign({signal:r.signal},y?{duplex:"half"}:{}),{method:"GET"}),g);h&&(T.method=h.toUpperCase());try{return await this.fetch.call(void 0,e,T)}finally{clearTimeout(m)}}async shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,s,r){var u;let c;const h=r==null?void 0:r.get("retry-after-ms");if(h){const m=parseFloat(h);Number.isNaN(m)||(c=m)}const g=r==null?void 0:r.get("retry-after");if(g&&!c){const m=parseFloat(g);Number.isNaN(m)?c=Date.parse(g)-Date.now():c=m*1e3}if(!(c&&0<=c&&c<60*1e3)){const m=(u=e.maxRetries)!==null&&u!==void 0?u:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(i,m)}return await aw(c),this.makeRequest(e,i-1,s)}calculateDefaultRetryTimeoutMillis(e,i){const u=i-e,c=Math.min(.5*Math.pow(2,u),8),h=1-Math.random()*.25;return c*h*1e3}async buildRequest(e,{retryCount:i=0}={}){var s,r,u;const c=Object.assign({},e),{method:h,path:g,query:m,defaultBaseURL:y}=c,T=this.buildURL(g,m,y);"timeout"in c&&ow("timeout",c.timeout),c.timeout=(s=c.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:S,body:C}=this.buildBody({options:c}),_=await this.buildHeaders({options:e,method:h,bodyHeaders:S,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:h,headers:_},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(u=c.fetchOptions)!==null&&u!==void 0?u:{}),url:T,timeout:c.timeout}}async buildHeaders({options:e,method:i,bodyHeaders:s,retryCount:r}){let u={};this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=e.idempotencyKey);const c=await this.authHeaders(e);let h=aa([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),cw()),this._options.defaultHeaders,s,e.headers,c]);return this.validateHeaders(h),h.values}buildBody({options:{body:e,headers:i}}){if(!e)return{bodyHeaders:void 0,body:void 0};const s=aa([i]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&s.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:dw(e)}:this.encoder({body:e,headers:s})}}Al.DEFAULT_TIMEOUT=6e4;class dt extends Al{constructor(){super(...arguments),this.interactions=new OT(this)}}YT=dt;dt.GeminiNextGenAPIClient=YT;dt.GeminiNextGenAPIClientError=ln;dt.APIError=wt;dt.APIConnectionError=El;dt.APIConnectionTimeoutError=MT;dt.APIUserAbortError=Df;dt.NotFoundError=DT;dt.ConflictError=IT;dt.RateLimitError=UT;dt.BadRequestError=NT;dt.AuthenticationError=wT;dt.InternalServerError=VT;dt.PermissionDeniedError=RT;dt.UnprocessableEntityError=kT;dt.toFile=Tw;dt.Interactions=OT;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Iw(t,e){const i={},s=f(t,["name"]);return s!=null&&d(i,["_url","name"],s),i}function kw(t,e){const i={},s=f(t,["name"]);return s!=null&&d(i,["_url","name"],s),i}function Uw(t,e){const i={},s=f(t,["sdkHttpResponse"]);return s!=null&&d(i,["sdkHttpResponse"],s),i}function Vw(t,e){const i={},s=f(t,["sdkHttpResponse"]);return s!=null&&d(i,["sdkHttpResponse"],s),i}function Lw(t,e,i){const s={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=f(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&d(e,["displayName"],r),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=f(t,["epochCount"]);e!==void 0&&u!=null&&d(e,["tuningTask","hyperparameters","epochCount"],u);const c=f(t,["learningRateMultiplier"]);if(c!=null&&d(s,["tuningTask","hyperparameters","learningRateMultiplier"],c),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=f(t,["batchSize"]);e!==void 0&&h!=null&&d(e,["tuningTask","hyperparameters","batchSize"],h);const g=f(t,["learningRate"]);if(e!==void 0&&g!=null&&d(e,["tuningTask","hyperparameters","learningRate"],g),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function Pw(t,e,i){const s={};let r=f(i,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const C=f(t,["validationDataset"]);e!==void 0&&C!=null&&d(e,["supervisedTuningSpec"],Ly(C))}else if(r==="PREFERENCE_TUNING"){const C=f(t,["validationDataset"]);e!==void 0&&C!=null&&d(e,["preferenceOptimizationSpec"],Ly(C))}const u=f(t,["tunedModelDisplayName"]);e!==void 0&&u!=null&&d(e,["tunedModelDisplayName"],u);const c=f(t,["description"]);e!==void 0&&c!=null&&d(e,["description"],c);let h=f(i,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const C=f(t,["epochCount"]);e!==void 0&&C!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(h==="PREFERENCE_TUNING"){const C=f(t,["epochCount"]);e!==void 0&&C!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let g=f(i,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const C=f(t,["learningRateMultiplier"]);e!==void 0&&C!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(g==="PREFERENCE_TUNING"){const C=f(t,["learningRateMultiplier"]);e!==void 0&&C!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let m=f(i,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const C=f(t,["exportLastCheckpointOnly"]);e!==void 0&&C!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(m==="PREFERENCE_TUNING"){const C=f(t,["exportLastCheckpointOnly"]);e!==void 0&&C!=null&&d(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let y=f(i,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const C=f(t,["adapterSize"]);e!==void 0&&C!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(y==="PREFERENCE_TUNING"){const C=f(t,["adapterSize"]);e!==void 0&&C!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=f(t,["labels"]);e!==void 0&&T!=null&&d(e,["labels"],T);const S=f(t,["beta"]);return e!==void 0&&S!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),s}function zw(t,e){const i={},s=f(t,["baseModel"]);s!=null&&d(i,["baseModel"],s);const r=f(t,["preTunedModel"]);r!=null&&d(i,["preTunedModel"],r);const u=f(t,["trainingDataset"]);u!=null&&Qw(u);const c=f(t,["config"]);return c!=null&&Lw(c,i),i}function Gw(t,e){const i={},s=f(t,["baseModel"]);s!=null&&d(i,["baseModel"],s);const r=f(t,["preTunedModel"]);r!=null&&d(i,["preTunedModel"],r);const u=f(t,["trainingDataset"]);u!=null&&$w(u,i,e);const c=f(t,["config"]);return c!=null&&Pw(c,i,e),i}function Hw(t,e){const i={},s=f(t,["name"]);return s!=null&&d(i,["_url","name"],s),i}function Bw(t,e){const i={},s=f(t,["name"]);return s!=null&&d(i,["_url","name"],s),i}function qw(t,e,i){const s={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const u=f(t,["pageToken"]);e!==void 0&&u!=null&&d(e,["_query","pageToken"],u);const c=f(t,["filter"]);return e!==void 0&&c!=null&&d(e,["_query","filter"],c),s}function Ow(t,e,i){const s={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const u=f(t,["pageToken"]);e!==void 0&&u!=null&&d(e,["_query","pageToken"],u);const c=f(t,["filter"]);return e!==void 0&&c!=null&&d(e,["_query","filter"],c),s}function Fw(t,e){const i={},s=f(t,["config"]);return s!=null&&qw(s,i),i}function Yw(t,e){const i={},s=f(t,["config"]);return s!=null&&Ow(s,i),i}function Jw(t,e){const i={},s=f(t,["sdkHttpResponse"]);s!=null&&d(i,["sdkHttpResponse"],s);const r=f(t,["nextPageToken"]);r!=null&&d(i,["nextPageToken"],r);const u=f(t,["tunedModels"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(h=>JT(h))),d(i,["tuningJobs"],c)}return i}function Kw(t,e){const i={},s=f(t,["sdkHttpResponse"]);s!=null&&d(i,["sdkHttpResponse"],s);const r=f(t,["nextPageToken"]);r!=null&&d(i,["nextPageToken"],r);const u=f(t,["tuningJobs"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(h=>Uf(h))),d(i,["tuningJobs"],c)}return i}function Xw(t,e){const i={},s=f(t,["name"]);s!=null&&d(i,["model"],s);const r=f(t,["name"]);return r!=null&&d(i,["endpoint"],r),i}function Qw(t,e){const i={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=f(t,["examples"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(u=>u)),d(i,["examples","examples"],r)}return i}function $w(t,e,i){const s={};let r=f(i,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const c=f(t,["gcsUri"]);e!==void 0&&c!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(r==="PREFERENCE_TUNING"){const c=f(t,["gcsUri"]);e!==void 0&&c!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let u=f(i,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const c=f(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(u==="PREFERENCE_TUNING"){const c=f(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function JT(t,e){const i={},s=f(t,["sdkHttpResponse"]);s!=null&&d(i,["sdkHttpResponse"],s);const r=f(t,["name"]);r!=null&&d(i,["name"],r);const u=f(t,["state"]);u!=null&&d(i,["state"],lT(u));const c=f(t,["createTime"]);c!=null&&d(i,["createTime"],c);const h=f(t,["tuningTask","startTime"]);h!=null&&d(i,["startTime"],h);const g=f(t,["tuningTask","completeTime"]);g!=null&&d(i,["endTime"],g);const m=f(t,["updateTime"]);m!=null&&d(i,["updateTime"],m);const y=f(t,["description"]);y!=null&&d(i,["description"],y);const T=f(t,["baseModel"]);T!=null&&d(i,["baseModel"],T);const S=f(t,["_self"]);return S!=null&&d(i,["tunedModel"],Xw(S)),i}function Uf(t,e){const i={},s=f(t,["sdkHttpResponse"]);s!=null&&d(i,["sdkHttpResponse"],s);const r=f(t,["name"]);r!=null&&d(i,["name"],r);const u=f(t,["state"]);u!=null&&d(i,["state"],lT(u));const c=f(t,["createTime"]);c!=null&&d(i,["createTime"],c);const h=f(t,["startTime"]);h!=null&&d(i,["startTime"],h);const g=f(t,["endTime"]);g!=null&&d(i,["endTime"],g);const m=f(t,["updateTime"]);m!=null&&d(i,["updateTime"],m);const y=f(t,["error"]);y!=null&&d(i,["error"],y);const T=f(t,["description"]);T!=null&&d(i,["description"],T);const S=f(t,["baseModel"]);S!=null&&d(i,["baseModel"],S);const C=f(t,["tunedModel"]);C!=null&&d(i,["tunedModel"],C);const _=f(t,["preTunedModel"]);_!=null&&d(i,["preTunedModel"],_);const w=f(t,["supervisedTuningSpec"]);w!=null&&d(i,["supervisedTuningSpec"],w);const M=f(t,["preferenceOptimizationSpec"]);M!=null&&d(i,["preferenceOptimizationSpec"],M);const N=f(t,["tuningDataStats"]);N!=null&&d(i,["tuningDataStats"],N);const G=f(t,["encryptionSpec"]);G!=null&&d(i,["encryptionSpec"],G);const I=f(t,["partnerModelTuningSpec"]);I!=null&&d(i,["partnerModelTuningSpec"],I);const F=f(t,["customBaseModel"]);F!=null&&d(i,["customBaseModel"],F);const Y=f(t,["experiment"]);Y!=null&&d(i,["experiment"],Y);const j=f(t,["labels"]);j!=null&&d(i,["labels"],j);const Q=f(t,["outputUri"]);Q!=null&&d(i,["outputUri"],Q);const $=f(t,["pipelineJob"]);$!=null&&d(i,["pipelineJob"],$);const Z=f(t,["serviceAccount"]);Z!=null&&d(i,["serviceAccount"],Z);const ne=f(t,["tunedModelDisplayName"]);ne!=null&&d(i,["tunedModelDisplayName"],ne);const ue=f(t,["veoTuningSpec"]);return ue!=null&&d(i,["veoTuningSpec"],ue),i}function Zw(t,e){const i={},s=f(t,["sdkHttpResponse"]);s!=null&&d(i,["sdkHttpResponse"],s);const r=f(t,["name"]);r!=null&&d(i,["name"],r);const u=f(t,["metadata"]);u!=null&&d(i,["metadata"],u);const c=f(t,["done"]);c!=null&&d(i,["done"],c);const h=f(t,["error"]);return h!=null&&d(i,["error"],h),i}function Ly(t,e){const i={},s=f(t,["gcsUri"]);s!=null&&d(i,["validationDatasetUri"],s);const r=f(t,["vertexDatasetResource"]);return r!=null&&d(i,["validationDatasetUri"],r),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ww extends Xn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Wi(Fn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var s;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const r={tunedModelName:i.baseModel};!((s=i.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(r.checkpointId=i.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},i),{preTunedModel:r});return u.baseModel=void 0,await this.tuneInternal(u)}else{const r=Object.assign({},i);return await this.tuneInternal(r)}else{const r=Object.assign({},i),u=await this.tuneMldevInternal(r);let c="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?c=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(c=u.name.split("/operations/")[0]),{name:c,state:Ef.JOB_STATE_QUEUED}}}}async getInternal(e){var i,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=Bw(e);return h=te("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>Uf(y))}else{const m=Hw(e);return h=te("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>JT(y))}}async listInternal(e){var i,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=Yw(e);return h=te("tuningJobs",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=Kw(y),S=new ly;return Object.assign(S,T),S})}else{const m=Fw(e);return h=te("tunedModels",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=Jw(y),S=new ly;return Object.assign(S,T),S})}}async cancel(e){var i,s,r,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=kw(e);return h=te("{name}:cancel",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=Vw(y),S=new uy;return Object.assign(S,T),S})}else{const m=Iw(e);return h=te("{name}:cancel",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const T=Uw(y),S=new uy;return Object.assign(S,T),S})}}async tuneInternal(e){var i,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const h=Gw(e,e);return u=te("tuningJobs",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),r.then(g=>Uf(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,s;let r,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=zw(e);return u=te("tunedModels",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),r.then(g=>Zw(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jw{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const eR=1024*1024*8,tR=3,nR=1e3,iR=2,cl="x-goog-upload-status";async function oR(t,e,i){var s;const r=await KT(t,e,i),u=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[cl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function sR(t,e,i){var s;const r=await KT(t,e,i),u=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[cl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=nT(u),h=new dd;return Object.assign(h,c),h}async function KT(t,e,i){var s,r;let u=0,c=0,h=new Cf(new Response),g="upload";for(u=t.size;c<u;){const m=Math.min(eR,u-c),y=t.slice(c,c+m);c+m>=u&&(g+=", finalize");let T=0,S=nR;for(;T<tR&&(h=await i.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(c),"Content-Length":String(m)}}}),!(!((s=h==null?void 0:h.headers)===null||s===void 0)&&s[cl]));)T++,await rR(S),S=S*iR;if(c+=m,((r=h==null?void 0:h.headers)===null||r===void 0?void 0:r[cl])!=="active")break;if(u<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function aR(t){return{size:t.size,type:t.type}}function rR(t){return new Promise(e=>setTimeout(e,t))}class lR{async upload(e,i,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await oR(e,i,s)}async uploadToFileSearchStore(e,i,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await sR(e,i,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await aR(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uR{create(e,i,s){return new cR(e,i,s)}}class cR{constructor(e,i,s){this.url=e,this.headers=i,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Py="x-goog-api-key";class fR{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(Py)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Py,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dR="gl-node/";class hR{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const i=new dt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=i.interactions,this._interactions}constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const s=rA(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new fR(this.apiKey);this.apiClient=new aN({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:dR+"web",uploader:new lR,downloader:new jw}),this.models=new _N(this.apiClient),this.live=new TN(this.apiClient,r,new uR),this.batches=new L_(this.apiClient),this.chats=new yb(this.models,this.apiClient),this.caches=new mb(this.apiClient),this.files=new Mb(this.apiClient),this.operations=new bN(this.apiClient),this.authTokens=new qN(this.apiClient),this.tunings=new Ww(this.apiClient),this.fileSearchStores=new $N(this.apiClient)}}const mR="PLACEHOLDER_API_KEY",_l=new hR({apiKey:mR}),pR=t=>t.replace(/```json/g,"").replace(/```/g,"").trim(),gR=async(t,e=[])=>{const i=[];t&&i.push({text:t}),e.forEach(r=>{i.push({inlineData:{mimeType:r.mimeType,data:r.data}})}),i.push({text:`
    Analysiere den bereitgestellten Inhalt (Text, Bilder oder Dokumente).
    
    WICHTIG FR BILDER:
    Wenn Bilder enthalten sind, fhre eine detaillierte visuelle Analyse durch. Beschreibe die Szene, identifiziere Objekte, Handlungen, Farben und sichtbaren Text. Nutze diese detaillierte Beschreibung, um relevante Vokabeln abzuleiten, die genau beschreiben, was auf dem Bild zu sehen ist.
    
    Identifiziere wichtige Vokabeln, Fachbegriffe oder wichtige Konzepte, die sich zum Lernen eignen.
    Erstelle fr jeden identifizierten Begriff:
    1. Den Begriff selbst (term). 
       ACHTUNG BEI VERBEN/LATEIN: Wenn es sich um Verben (insbesondere Latein) handelt, gib ALLE Stammformen im Feld "term" an (z.B. "ducere, duco, duxi, ductum"), nicht nur den Infinitiv. Die Hauptbedeutung kommt in das Feld "definition".
    2. Eine klare, prgnante Definition auf Deutsch (definition).
    3. Einen Beispielsatz, der den Begriff im Kontext verwendet (exampleSentence).
    
    Gib ein reines JSON-Array von Objekten zurck. Verwende keine Markdown-Codeblcke.
  `});try{const u=(await _l.models.generateContent({model:"gemini-2.5-flash",contents:{parts:i},config:{responseMimeType:"application/json",responseSchema:{type:Jt.ARRAY,items:{type:Jt.OBJECT,properties:{term:{type:Jt.STRING},definition:{type:Jt.STRING},exampleSentence:{type:Jt.STRING}},required:["term","definition","exampleSentence"]}}}})).text;return u?JSON.parse(pR(u)):[]}catch(r){throw console.error("Fehler beim Erstellen der Karteikarten:",r),r}},yR=async(t,e="audio/webm")=>{try{return(await _l.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{inlineData:{mimeType:e,data:t}},{text:"Transkribiere dieses Audio genau in Text. Gib nur den Text zurck, keine Erklrungen."}]}})).text||""}catch(i){throw console.error("Transcription error:",i),i}},vR=async(t,e)=>{try{return(await _l.chats.create({model:"gemini-3-pro-preview",history:e.map(r=>({role:r.role,parts:r.parts})),config:{systemInstruction:"Du bist ein hilfreicher Sprachlehrer-Assistent. Hilf dem Benutzer, Vokabeln, Grammatik und Nuancen der deutschen Sprache zu verstehen. Antworte immer auf Deutsch."}}).sendMessage({message:t})).text||"Ich konnte keine Antwort generieren."}catch(i){return console.error("Chat Fehler:",i),"Entschuldigung, ich habe einen Fehler bei der Verbindung zur KI festgestellt."}};class TR{constructor(e){this.callbacks=e,this.sessionPromise=null}async connect(e){const i=await navigator.mediaDevices.getUserMedia({audio:!0});return this.sessionPromise=_l.live.connect({model:"gemini-2.5-flash-native-audio-preview-09-2025",callbacks:{onopen:()=>{this.callbacks.onOpen();const s=e.createMediaStreamSource(i),r=e.createScriptProcessor(4096,1,1);r.onaudioprocess=u=>{const c=u.inputBuffer.getChannelData(0),h=this.createBlob(c);this.sessionPromise&&this.sessionPromise.then(g=>{g.sendRealtimeInput({media:h})})},s.connect(r),r.connect(e.destination)},onmessage:s=>{var u,c,h,g,m,y;const r=(m=(g=(h=(c=(u=s.serverContent)==null?void 0:u.modelTurn)==null?void 0:c.parts)==null?void 0:h[0])==null?void 0:g.inlineData)==null?void 0:m.data;r&&this.callbacks.onAudioData(r),(y=s.serverContent)!=null&&y.turnComplete},onclose:s=>this.callbacks.onClose(),onerror:s=>this.callbacks.onError(s)},config:{responseModalities:[va.AUDIO],systemInstruction:"Du bist ein freundlicher Gesprchspartner, der dem Benutzer hilft, Deutsch zu ben. Halte die Antworten kurz und ermutigend.",speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}}}}),this.sessionPromise}createBlob(e){const i=e.length,s=new Int16Array(i);for(let g=0;g<i;g++)s[g]=e[g]*32768;let r="";const u=new Uint8Array(s.buffer),c=u.byteLength;for(let g=0;g<c;g++)r+=String.fromCharCode(u[g]);return{data:btoa(r),mimeType:"audio/pcm;rate=16000"}}}/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xR=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),zy=t=>{const e=xR(t);return e.charAt(0).toUpperCase()+e.slice(1)},XT=(...t)=>t.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),ER=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=q.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:r="",children:u,iconNode:c,...h},g)=>q.createElement("svg",{ref:g,...CR,width:e,height:e,stroke:t,strokeWidth:s?Number(i)*24/Number(e):i,className:XT("lucide",r),...!u&&!ER(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,y])=>q.createElement(m,y)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(t,e)=>{const i=q.forwardRef(({className:s,...r},u)=>q.createElement(AR,{ref:u,iconNode:e,className:XT(`lucide-${SR(zy(t))}`,`lucide-${t}`,s),...r}));return i.displayName=zy(t),i};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],QT=Te("arrow-left",_R);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],MR=Te("arrow-right",bR);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Wo=Te("book-open",NR);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],RR=Te("book",wR);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],IR=Te("calendar",DR);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],UR=Te("circle-plus",kR);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$T=Te("clock",VR);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"m10.852 19.772-.383.924",key:"r7sl7d"}],["path",{d:"m13.148 14.228.383-.923",key:"1d5zpm"}],["path",{d:"M13.148 19.772a3 3 0 1 0-2.296-5.544l-.383-.923",key:"1ydik7"}],["path",{d:"m13.53 20.696-.382-.924a3 3 0 1 1-2.296-5.544",key:"1m1vsf"}],["path",{d:"m14.772 15.852.923-.383",key:"660p6e"}],["path",{d:"m14.772 18.148.923.383",key:"hrcpis"}],["path",{d:"M4.2 15.1a7 7 0 1 1 9.93-9.858A7 7 0 0 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.2",key:"j2q98n"}],["path",{d:"m9.228 15.852-.923-.383",key:"1p9ong"}],["path",{d:"m9.228 18.148-.923.383",key:"6558rz"}]],sf=Te("cloud-cog",LR);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Vf=Te("download",PR);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],GR=Te("file-plus",zR);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],BR=Te("file-text",HR);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Gy=Te("folder-plus",qR);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],FR=Te("folder",OR);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],ZT=Te("graduation-cap",YR);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]],KR=Te("hard-drive-download",JR);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],QR=Te("image",XR);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Hy=Te("loader-circle",$R);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],WR=Te("log-out",ZR);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],eD=Te("message-circle",jR);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],By=Te("mic-off",tD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Sd=Te("mic",nD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],oD=Te("moon",iD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Lf=Te("pen",sD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],rD=Te("play",aD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],tl=Te("plus",lD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],qy=Te("refresh-cw",uD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],fD=Te("repeat",cD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],hD=Te("rotate-ccw",dD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Pf=Te("save",mD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],gD=Te("send",pD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vD=Te("settings",yD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],SD=Te("share-2",TD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],ED=Te("shuffle",xD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],AD=Te("sparkles",CD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],bD=Te("square-check-big",_D);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],WT=Te("square",MD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],wD=Te("sun",ND);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fl=Te("trash-2",RD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],zf=Te("upload",DD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],kD=Te("user-plus",ID);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Gf=Te("users",UD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],LD=Te("volume-2",VD);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],es=Te("x",PD),zD=({authorId:t,onDeckCreated:e,onCancel:i})=>{const[s,r]=q.useState(""),[u,c]=q.useState(""),[h,g]=q.useState([]),[m,y]=q.useState(!1),[T,S]=q.useState(!1),[C,_]=q.useState(!1),[w,M]=q.useState(null),N=q.useRef(null),G=q.useRef([]),I=async $=>{if($.target.files){const Z=[];for(let ne=0;ne<$.target.files.length;ne++){const ue=$.target.files[ne],Ae=new FileReader,ge=new Promise(Me=>{Ae.onload=qe=>{var V;const k=((V=qe.target)==null?void 0:V.result).split(",")[1];Me({data:k,mimeType:ue.type,name:ue.name})},Ae.readAsDataURL(ue)});Z.push(await ge)}g(ne=>[...ne,...Z])}},F=$=>{g(h.filter((Z,ne)=>ne!==$))},Y=async()=>{try{const $=await navigator.mediaDevices.getUserMedia({audio:!0}),Z=new MediaRecorder($);N.current=Z,G.current=[],Z.ondataavailable=ne=>{ne.data.size>0&&G.current.push(ne.data)},Z.onstop=async()=>{_(!0);const ne=new Blob(G.current,{type:"audio/webm"}),ue=new FileReader;ue.readAsDataURL(ne),ue.onloadend=async()=>{const Ae=ue.result.split(",")[1];try{const ge=await yR(Ae,"audio/webm");c(Me=>Me+(Me?" ":"")+ge)}catch(ge){console.error("Transkriptionsfehler",ge),M("Fehler bei der Transkription des Audios.")}finally{_(!1)}},$.getTracks().forEach(Ae=>Ae.stop())},Z.start(),S(!0),M(null)}catch($){console.error("Mikrofonfehler",$),M("Zugriff auf das Mikrofon verweigert.")}},j=()=>{N.current&&T&&(N.current.stop(),S(!1))},Q=async()=>{if(!s){M("Bitte gib dem Set einen Namen.");return}if(!u&&h.length===0){M("Bitte gib Text ein oder lade Dateien hoch.");return}y(!0),M(null);try{const Z=(await gR(u,h)).map(ue=>({...ue,id:crypto.randomUUID(),status:"new"})),ne={id:crypto.randomUUID(),authorId:t,name:s,cards:Z,createdAt:Date.now()};e(ne)}catch($){M("Fehler beim Generieren. Bitte versuche es erneut."),console.error($)}finally{y(!1)}};return E.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 max-w-2xl mx-auto border border-gray-100 dark:border-gray-700 transition-colors",children:[E.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:"Neues Set erstellen"}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Name des Sets"}),E.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500",placeholder:"z.B. Spanisch Grundlagen, Biologie 101",value:s,onChange:$=>r($.target.value)})]}),E.jsxs("div",{className:"mb-6 relative",children:[E.jsxs("div",{className:"flex justify-between items-center mb-2",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Inhalt / Bildbeschreibungen"}),T?E.jsxs("button",{onClick:j,className:"flex items-center gap-2 text-xs bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 px-3 py-1 rounded-full animate-pulse",children:[E.jsx(WT,{size:12,fill:"currentColor"})," Aufnahme stoppen"]}):E.jsxs("button",{onClick:Y,disabled:C,className:"flex items-center gap-2 text-xs bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 px-3 py-1 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/40 transition disabled:opacity-50",children:[C?E.jsx(Hy,{size:12,className:"animate-spin"}):E.jsx(Sd,{size:12}),C?"Verarbeite...":"Diktieren"]})]}),E.jsx("textarea",{className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition h-32 resize-none bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500",placeholder:"Fge hier Text ein oder beschreibe deine Bilder...",value:u,onChange:$=>c($.target.value)}),T&&E.jsx("div",{className:"absolute bottom-4 right-4 text-red-500 text-xs font-semibold animate-pulse",children:"Aufnahme luft..."})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Anhnge (Bilder, PDF)"}),E.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center hover:bg-gray-50 dark:hover:bg-gray-700/50 transition cursor-pointer relative",children:[E.jsx("input",{type:"file",multiple:!0,accept:"image/*,application/pdf",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:I}),E.jsx(zf,{className:"w-8 h-8 text-gray-400 dark:text-gray-500 mx-auto mb-2"}),E.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Hier klicken, um Bilder oder PDFs hochzuladen"})]}),h.length>0&&E.jsx("div",{className:"mt-4 space-y-2",children:h.map(($,Z)=>E.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-700 p-2 rounded border border-gray-200 dark:border-gray-600",children:[E.jsxs("div",{className:"flex items-center space-x-2",children:[$.mimeType.includes("pdf")?E.jsx(BR,{size:16,className:"text-gray-500 dark:text-gray-400"}):E.jsx(QR,{size:16,className:"text-gray-500 dark:text-gray-400"}),E.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-200 truncate max-w-[200px]",children:$.name})]}),E.jsx("button",{onClick:()=>F(Z),className:"text-red-500 hover:text-red-700 dark:hover:text-red-400 text-xs font-medium",children:"Entfernen"})]},Z))})]}),w&&E.jsx("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-sm",children:w}),E.jsxs("div",{className:"flex justify-end space-x-3",children:[E.jsx("button",{onClick:i,className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition",children:"Abbrechen"}),E.jsx("button",{onClick:Q,disabled:m||T||C,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:m?E.jsxs(E.Fragment,{children:[E.jsx(Hy,{className:"animate-spin mr-2 h-4 w-4"}),"Generiere..."]}):"Karteikarten erstellen"})]})]})},jT=q.createContext({});function xd(t){const e=q.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ed=typeof window<"u",eS=Ed?q.useLayoutEffect:q.useEffect,Cd=q.createContext(null);function Ad(t,e){t.indexOf(e)===-1&&t.push(e)}function _d(t,e){const i=t.indexOf(e);i>-1&&t.splice(i,1)}const Yn=(t,e,i)=>i>e?e:i<t?t:i;let bd=()=>{};const Jn={},tS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function nS(t){return typeof t=="object"&&t!==null}const iS=t=>/^0[^.\s]+$/u.test(t);function Md(t){let e;return()=>(e===void 0&&(e=t()),e)}const rn=t=>t,GD=(t,e)=>i=>e(t(i)),Aa=(...t)=>t.reduce(GD),Ta=(t,e,i)=>{const s=e-t;return s===0?1:(i-t)/s};class Nd{constructor(){this.subscriptions=[]}add(e){return Ad(this.subscriptions,e),()=>_d(this.subscriptions,e)}notify(e,i,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,i,s);else for(let u=0;u<r;u++){const c=this.subscriptions[u];c&&c(e,i,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Cn=t=>t*1e3,sn=t=>t/1e3;function oS(t,e){return e?t*(1e3/e):0}const sS=(t,e,i)=>(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t,HD=1e-7,BD=12;function qD(t,e,i,s,r){let u,c,h=0;do c=e+(i-e)/2,u=sS(c,s,r)-t,u>0?i=c:e=c;while(Math.abs(u)>HD&&++h<BD);return c}function _a(t,e,i,s){if(t===e&&i===s)return rn;const r=u=>qD(u,0,1,t,i);return u=>u===0||u===1?u:sS(r(u),e,s)}const aS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,rS=t=>e=>1-t(1-e),lS=_a(.33,1.53,.69,.99),wd=rS(lS),uS=aS(wd),cS=t=>(t*=2)<1?.5*wd(t):.5*(2-Math.pow(2,-10*(t-1))),Rd=t=>1-Math.sin(Math.acos(t)),fS=rS(Rd),dS=aS(Rd),OD=_a(.42,0,1,1),FD=_a(0,0,.58,1),hS=_a(.42,0,.58,1),YD=t=>Array.isArray(t)&&typeof t[0]!="number",mS=t=>Array.isArray(t)&&typeof t[0]=="number",JD={linear:rn,easeIn:OD,easeInOut:hS,easeOut:FD,circIn:Rd,circInOut:dS,circOut:fS,backIn:wd,backInOut:uS,backOut:lS,anticipate:cS},KD=t=>typeof t=="string",Oy=t=>{if(mS(t)){bd(t.length===4);const[e,i,s,r]=t;return _a(e,i,s,r)}else if(KD(t))return JD[t];return t},Qr=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function XD(t,e){let i=new Set,s=new Set,r=!1,u=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function g(y){c.has(y)&&(m.schedule(y),t()),y(h)}const m={schedule:(y,T=!1,S=!1)=>{const _=S&&r?i:s;return T&&c.add(y),_.has(y)||_.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(h=y,r){u=!0;return}r=!0,[i,s]=[s,i],i.forEach(g),i.clear(),r=!1,u&&(u=!1,m.process(y))}};return m}const QD=40;function pS(t,e){let i=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,c=Qr.reduce((I,F)=>(I[F]=XD(u),I),{}),{setup:h,read:g,resolveKeyframes:m,preUpdate:y,update:T,preRender:S,render:C,postRender:_}=c,w=()=>{const I=Jn.useManualTiming?r.timestamp:performance.now();i=!1,Jn.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(I-r.timestamp,QD),1)),r.timestamp=I,r.isProcessing=!0,h.process(r),g.process(r),m.process(r),y.process(r),T.process(r),S.process(r),C.process(r),_.process(r),r.isProcessing=!1,i&&e&&(s=!1,t(w))},M=()=>{i=!0,s=!0,r.isProcessing||t(w)};return{schedule:Qr.reduce((I,F)=>{const Y=c[F];return I[F]=(j,Q=!1,$=!1)=>(i||M(),Y.schedule(j,Q,$)),I},{}),cancel:I=>{for(let F=0;F<Qr.length;F++)c[Qr[F]].cancel(I)},state:r,steps:c}}const{schedule:Je,cancel:Kn,state:vt,steps:af}=pS(typeof requestAnimationFrame<"u"?requestAnimationFrame:rn,!0);let nl;function $D(){nl=void 0}const zt={now:()=>(nl===void 0&&zt.set(vt.isProcessing||Jn.useManualTiming?vt.timestamp:performance.now()),nl),set:t=>{nl=t,queueMicrotask($D)}},gS=t=>e=>typeof e=="string"&&e.startsWith(t),yS=gS("--"),ZD=gS("var(--"),Dd=t=>ZD(t)?WD.test(t.split("/*")[0].trim()):!1,WD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ss={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Sa={...ss,transform:t=>Yn(0,1,t)},$r={...ss,default:1},ha=t=>Math.round(t*1e5)/1e5,Id=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jD(t){return t==null}const e2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,kd=(t,e)=>i=>!!(typeof i=="string"&&e2.test(i)&&i.startsWith(t)||e&&!jD(i)&&Object.prototype.hasOwnProperty.call(i,e)),vS=(t,e,i)=>s=>{if(typeof s!="string")return s;const[r,u,c,h]=s.match(Id);return{[t]:parseFloat(r),[e]:parseFloat(u),[i]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},t2=t=>Yn(0,255,t),rf={...ss,transform:t=>Math.round(t2(t))},Ji={test:kd("rgb","red"),parse:vS("red","green","blue"),transform:({red:t,green:e,blue:i,alpha:s=1})=>"rgba("+rf.transform(t)+", "+rf.transform(e)+", "+rf.transform(i)+", "+ha(Sa.transform(s))+")"};function n2(t){let e="",i="",s="",r="";return t.length>5?(e=t.substring(1,3),i=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),i=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,i+=i,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(i,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Hf={test:kd("#"),parse:n2,transform:Ji.transform},ba=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),xi=ba("deg"),An=ba("%"),pe=ba("px"),i2=ba("vh"),o2=ba("vw"),Fy={...An,parse:t=>An.parse(t)/100,transform:t=>An.transform(t*100)},Yo={test:kd("hsl","hue"),parse:vS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:i,alpha:s=1})=>"hsla("+Math.round(t)+", "+An.transform(ha(e))+", "+An.transform(ha(i))+", "+ha(Sa.transform(s))+")"},at={test:t=>Ji.test(t)||Hf.test(t)||Yo.test(t),parse:t=>Ji.test(t)?Ji.parse(t):Yo.test(t)?Yo.parse(t):Hf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ji.transform(t):Yo.transform(t),getAnimatableNone:t=>{const e=at.parse(t);return e.alpha=0,at.transform(e)}},s2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function a2(t){var e,i;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Id))==null?void 0:e.length)||0)+(((i=t.match(s2))==null?void 0:i.length)||0)>0}const TS="number",SS="color",r2="var",l2="var(",Yy="${}",u2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xa(t){const e=t.toString(),i=[],s={color:[],number:[],var:[]},r=[];let u=0;const h=e.replace(u2,g=>(at.test(g)?(s.color.push(u),r.push(SS),i.push(at.parse(g))):g.startsWith(l2)?(s.var.push(u),r.push(r2),i.push(g)):(s.number.push(u),r.push(TS),i.push(parseFloat(g))),++u,Yy)).split(Yy);return{values:i,split:h,indexes:s,types:r}}function xS(t){return xa(t).values}function ES(t){const{split:e,types:i}=xa(t),s=e.length;return r=>{let u="";for(let c=0;c<s;c++)if(u+=e[c],r[c]!==void 0){const h=i[c];h===TS?u+=ha(r[c]):h===SS?u+=at.transform(r[c]):u+=r[c]}return u}}const c2=t=>typeof t=="number"?0:at.test(t)?at.getAnimatableNone(t):t;function f2(t){const e=xS(t);return ES(t)(e.map(c2))}const Ei={test:a2,parse:xS,createTransformer:ES,getAnimatableNone:f2};function lf(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function d2({hue:t,saturation:e,lightness:i,alpha:s}){t/=360,e/=100,i/=100;let r=0,u=0,c=0;if(!e)r=u=c=i;else{const h=i<.5?i*(1+e):i+e-i*e,g=2*i-h;r=lf(g,h,t+1/3),u=lf(g,h,t),c=lf(g,h,t-1/3)}return{red:Math.round(r*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:s}}function dl(t,e){return i=>i>0?e:t}const Qe=(t,e,i)=>t+(e-t)*i,uf=(t,e,i)=>{const s=t*t,r=i*(e*e-s)+s;return r<0?0:Math.sqrt(r)},h2=[Hf,Ji,Yo],m2=t=>h2.find(e=>e.test(t));function Jy(t){const e=m2(t);if(!e)return!1;let i=e.parse(t);return e===Yo&&(i=d2(i)),i}const Ky=(t,e)=>{const i=Jy(t),s=Jy(e);if(!i||!s)return dl(t,e);const r={...i};return u=>(r.red=uf(i.red,s.red,u),r.green=uf(i.green,s.green,u),r.blue=uf(i.blue,s.blue,u),r.alpha=Qe(i.alpha,s.alpha,u),Ji.transform(r))},Bf=new Set(["none","hidden"]);function p2(t,e){return Bf.has(t)?i=>i<=0?t:e:i=>i>=1?e:t}function g2(t,e){return i=>Qe(t,e,i)}function Ud(t){return typeof t=="number"?g2:typeof t=="string"?Dd(t)?dl:at.test(t)?Ky:T2:Array.isArray(t)?CS:typeof t=="object"?at.test(t)?Ky:y2:dl}function CS(t,e){const i=[...t],s=i.length,r=t.map((u,c)=>Ud(u)(u,e[c]));return u=>{for(let c=0;c<s;c++)i[c]=r[c](u);return i}}function y2(t,e){const i={...t,...e},s={};for(const r in i)t[r]!==void 0&&e[r]!==void 0&&(s[r]=Ud(t[r])(t[r],e[r]));return r=>{for(const u in s)i[u]=s[u](r);return i}}function v2(t,e){const i=[],s={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const u=e.types[r],c=t.indexes[u][s[u]],h=t.values[c]??0;i[r]=h,s[u]++}return i}const T2=(t,e)=>{const i=Ei.createTransformer(e),s=xa(t),r=xa(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?Bf.has(t)&&!r.values.length||Bf.has(e)&&!s.values.length?p2(t,e):Aa(CS(v2(s,r),r.values),i):dl(t,e)};function AS(t,e,i){return typeof t=="number"&&typeof e=="number"&&typeof i=="number"?Qe(t,e,i):Ud(t)(t,e)}const S2=t=>{const e=({timestamp:i})=>t(i);return{start:(i=!0)=>Je.update(e,i),stop:()=>Kn(e),now:()=>vt.isProcessing?vt.timestamp:zt.now()}},_S=(t,e,i=10)=>{let s="";const r=Math.max(Math.round(e/i),2);for(let u=0;u<r;u++)s+=Math.round(t(u/(r-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},hl=2e4;function Vd(t){let e=0;const i=50;let s=t.next(e);for(;!s.done&&e<hl;)e+=i,s=t.next(e);return e>=hl?1/0:e}function x2(t,e=100,i){const s=i({...t,keyframes:[0,e]}),r=Math.min(Vd(s),hl);return{type:"keyframes",ease:u=>s.next(r*u).value/e,duration:sn(r)}}const E2=5;function bS(t,e,i){const s=Math.max(e-E2,0);return oS(i-t(s),e-s)}const We={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cf=.001;function C2({duration:t=We.duration,bounce:e=We.bounce,velocity:i=We.velocity,mass:s=We.mass}){let r,u,c=1-e;c=Yn(We.minDamping,We.maxDamping,c),t=Yn(We.minDuration,We.maxDuration,sn(t)),c<1?(r=m=>{const y=m*c,T=y*t,S=y-i,C=qf(m,c),_=Math.exp(-T);return cf-S/C*_},u=m=>{const T=m*c*t,S=T*i+i,C=Math.pow(c,2)*Math.pow(m,2)*t,_=Math.exp(-T),w=qf(Math.pow(m,2),c);return(-r(m)+cf>0?-1:1)*((S-C)*_)/w}):(r=m=>{const y=Math.exp(-m*t),T=(m-i)*t+1;return-cf+y*T},u=m=>{const y=Math.exp(-m*t),T=(i-m)*(t*t);return y*T});const h=5/t,g=_2(r,u,h);if(t=Cn(t),isNaN(g))return{stiffness:We.stiffness,damping:We.damping,duration:t};{const m=Math.pow(g,2)*s;return{stiffness:m,damping:c*2*Math.sqrt(s*m),duration:t}}}const A2=12;function _2(t,e,i){let s=i;for(let r=1;r<A2;r++)s=s-t(s)/e(s);return s}function qf(t,e){return t*Math.sqrt(1-e*e)}const b2=["duration","bounce"],M2=["stiffness","damping","mass"];function Xy(t,e){return e.some(i=>t[i]!==void 0)}function N2(t){let e={velocity:We.velocity,stiffness:We.stiffness,damping:We.damping,mass:We.mass,isResolvedFromDuration:!1,...t};if(!Xy(t,M2)&&Xy(t,b2))if(t.visualDuration){const i=t.visualDuration,s=2*Math.PI/(i*1.2),r=s*s,u=2*Yn(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:We.mass,stiffness:r,damping:u}}else{const i=C2(t);e={...e,...i,mass:We.mass},e.isResolvedFromDuration=!0}return e}function ml(t=We.visualDuration,e=We.bounce){const i=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:r}=i;const u=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],h={done:!1,value:u},{stiffness:g,damping:m,mass:y,duration:T,velocity:S,isResolvedFromDuration:C}=N2({...i,velocity:-sn(i.velocity||0)}),_=S||0,w=m/(2*Math.sqrt(g*y)),M=c-u,N=sn(Math.sqrt(g/y)),G=Math.abs(M)<5;s||(s=G?We.restSpeed.granular:We.restSpeed.default),r||(r=G?We.restDelta.granular:We.restDelta.default);let I;if(w<1){const Y=qf(N,w);I=j=>{const Q=Math.exp(-w*N*j);return c-Q*((_+w*N*M)/Y*Math.sin(Y*j)+M*Math.cos(Y*j))}}else if(w===1)I=Y=>c-Math.exp(-N*Y)*(M+(_+N*M)*Y);else{const Y=N*Math.sqrt(w*w-1);I=j=>{const Q=Math.exp(-w*N*j),$=Math.min(Y*j,300);return c-Q*((_+w*N*M)*Math.sinh($)+Y*M*Math.cosh($))/Y}}const F={calculatedDuration:C&&T||null,next:Y=>{const j=I(Y);if(C)h.done=Y>=T;else{let Q=Y===0?_:0;w<1&&(Q=Y===0?Cn(_):bS(I,Y,j));const $=Math.abs(Q)<=s,Z=Math.abs(c-j)<=r;h.done=$&&Z}return h.value=h.done?c:j,h},toString:()=>{const Y=Math.min(Vd(F),hl),j=_S(Q=>F.next(Y*Q).value,Y,30);return Y+"ms "+j},toTransition:()=>{}};return F}ml.applyToOptions=t=>{const e=x2(t,100,ml);return t.ease=e.ease,t.duration=Cn(e.duration),t.type="keyframes",t};function Of({keyframes:t,velocity:e=0,power:i=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:u=500,modifyTarget:c,min:h,max:g,restDelta:m=.5,restSpeed:y}){const T=t[0],S={done:!1,value:T},C=$=>h!==void 0&&$<h||g!==void 0&&$>g,_=$=>h===void 0?g:g===void 0||Math.abs(h-$)<Math.abs(g-$)?h:g;let w=i*e;const M=T+w,N=c===void 0?M:c(M);N!==M&&(w=N-T);const G=$=>-w*Math.exp(-$/s),I=$=>N+G($),F=$=>{const Z=G($),ne=I($);S.done=Math.abs(Z)<=m,S.value=S.done?N:ne};let Y,j;const Q=$=>{C(S.value)&&(Y=$,j=ml({keyframes:[S.value,_(S.value)],velocity:bS(I,$,S.value),damping:r,stiffness:u,restDelta:m,restSpeed:y}))};return Q(0),{calculatedDuration:null,next:$=>{let Z=!1;return!j&&Y===void 0&&(Z=!0,F($),Q($)),Y!==void 0&&$>=Y?j.next($-Y):(!Z&&F($),S)}}}function w2(t,e,i){const s=[],r=i||Jn.mix||AS,u=t.length-1;for(let c=0;c<u;c++){let h=r(t[c],t[c+1]);if(e){const g=Array.isArray(e)?e[c]||rn:e;h=Aa(g,h)}s.push(h)}return s}function MS(t,e,{clamp:i=!0,ease:s,mixer:r}={}){const u=t.length;if(bd(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=w2(e,s,r),g=h.length,m=y=>{if(c&&y<t[0])return e[0];let T=0;if(g>1)for(;T<t.length-2&&!(y<t[T+1]);T++);const S=Ta(t[T],t[T+1],y);return h[T](S)};return i?y=>m(Yn(t[0],t[u-1],y)):m}function R2(t,e){const i=t[t.length-1];for(let s=1;s<=e;s++){const r=Ta(0,e,s);t.push(Qe(i,1,r))}}function D2(t){const e=[0];return R2(e,t.length-1),e}function I2(t,e){return t.map(i=>i*e)}function k2(t,e){return t.map(()=>e||hS).splice(0,t.length-1)}function ma({duration:t=300,keyframes:e,times:i,ease:s="easeInOut"}){const r=YD(s)?s.map(Oy):Oy(s),u={done:!1,value:e[0]},c=I2(i&&i.length===e.length?i:D2(e),t),h=MS(c,e,{ease:Array.isArray(r)?r:k2(e,r)});return{calculatedDuration:t,next:g=>(u.value=h(g),u.done=g>=t,u)}}const U2=t=>t!==null;function Ld(t,{repeat:e,repeatType:i="loop"},s,r=1){const u=t.filter(U2),h=r<0||e&&i!=="loop"&&e%2===1?0:u.length-1;return!h||s===void 0?u[h]:s}const V2={decay:Of,inertia:Of,tween:ma,keyframes:ma,spring:ml};function NS(t){typeof t.type=="string"&&(t.type=V2[t.type])}class Pd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,i){return this.finished.then(e,i)}}const L2=t=>t/100;class zd extends Pd{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,r;const{motionValue:i}=this.options;i&&i.updatedAt!==zt.now()&&this.tick(zt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;NS(e);const{type:i=ma,repeat:s=0,repeatDelay:r=0,repeatType:u,velocity:c=0}=e;let{keyframes:h}=e;const g=i||ma;g!==ma&&typeof h[0]!="number"&&(this.mixKeyframes=Aa(L2,AS(h[0],h[1])),h=[0,100]);const m=g({...e,keyframes:h});u==="mirror"&&(this.mirroredGenerator=g({...e,keyframes:[...h].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=Vd(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=m}updateTime(e){const i=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(e,i=!1){const{generator:s,totalDuration:r,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:g}=this;if(this.startTime===null)return s.next(0);const{delay:m=0,keyframes:y,repeat:T,repeatType:S,repeatDelay:C,type:_,onUpdate:w,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),i?this.currentTime=e:this.updateTime(e);const N=this.currentTime-m*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?N<0:N>r;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let I=this.currentTime,F=s;if(T){const $=Math.min(this.currentTime,r)/h;let Z=Math.floor($),ne=$%1;!ne&&$>=1&&(ne=1),ne===1&&Z--,Z=Math.min(Z,T+1),!!(Z%2)&&(S==="reverse"?(ne=1-ne,C&&(ne-=C/h)):S==="mirror"&&(F=c)),I=Yn(0,1,ne)*h}const Y=G?{done:!1,value:y[0]}:F.next(I);u&&(Y.value=u(Y.value));let{done:j}=Y;!G&&g!==null&&(j=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const Q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return Q&&_!==Of&&(Y.value=Ld(y,this.options,M,this.speed)),w&&w(Y.value),Q&&this.finish(),Y}then(e,i){return this.finished.then(e,i)}get duration(){return sn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+sn(e)}get time(){return sn(this.currentTime)}set time(e){var i;e=Cn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(i=this.driver)==null||i.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(zt.now());const i=this.playbackSpeed!==e;this.playbackSpeed=e,i&&(this.time=sn(this.currentTime))}play(){var r,u;if(this.isStopped)return;const{driver:e=S2,startTime:i}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(u=(r=this.options).onPlay)==null||u.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=i??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(zt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,i;this.notifyFinished(),this.teardown(),this.state="finished",(i=(e=this.options).onComplete)==null||i.call(e)}cancel(){var e,i;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(i=(e=this.options).onCancel)==null||i.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var i;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(i=this.driver)==null||i.stop(),e.observe(this)}}function P2(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ki=t=>t*180/Math.PI,Ff=t=>{const e=Ki(Math.atan2(t[1],t[0]));return Yf(e)},z2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ff,rotateZ:Ff,skewX:t=>Ki(Math.atan(t[1])),skewY:t=>Ki(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Yf=t=>(t=t%360,t<0&&(t+=360),t),Qy=Ff,$y=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Zy=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),G2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$y,scaleY:Zy,scale:t=>($y(t)+Zy(t))/2,rotateX:t=>Yf(Ki(Math.atan2(t[6],t[5]))),rotateY:t=>Yf(Ki(Math.atan2(-t[2],t[0]))),rotateZ:Qy,rotate:Qy,skewX:t=>Ki(Math.atan(t[4])),skewY:t=>Ki(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Jf(t){return t.includes("scale")?1:0}function Kf(t,e){if(!t||t==="none")return Jf(e);const i=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(i)s=G2,r=i;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=z2,r=h}if(!r)return Jf(e);const u=s[e],c=r[1].split(",").map(B2);return typeof u=="function"?u(c):c[u]}const H2=(t,e)=>{const{transform:i="none"}=getComputedStyle(t);return Kf(i,e)};function B2(t){return parseFloat(t.trim())}const as=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rs=new Set(as),Wy=t=>t===ss||t===pe,q2=new Set(["x","y","z"]),O2=as.filter(t=>!q2.has(t));function F2(t){const e=[];return O2.forEach(i=>{const s=t.getValue(i);s!==void 0&&(e.push([i,s.get()]),s.set(i.startsWith("scale")?1:0))}),e}const Qi={width:({x:t},{paddingLeft:e="0",paddingRight:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),height:({y:t},{paddingTop:e="0",paddingBottom:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Kf(e,"x"),y:(t,{transform:e})=>Kf(e,"y")};Qi.translateX=Qi.x;Qi.translateY=Qi.y;const $i=new Set;let Xf=!1,Qf=!1,$f=!1;function wS(){if(Qf){const t=Array.from($i).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),i=new Map;e.forEach(s=>{const r=F2(s);r.length&&(i.set(s,r),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=i.get(s);r&&r.forEach(([u,c])=>{var h;(h=s.getValue(u))==null||h.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Qf=!1,Xf=!1,$i.forEach(t=>t.complete($f)),$i.clear()}function RS(){$i.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Qf=!0)})}function Y2(){$f=!0,RS(),wS(),$f=!1}class Gd{constructor(e,i,s,r,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=i,this.name=s,this.motionValue=r,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?($i.add(this),Xf||(Xf=!0,Je.read(RS),Je.resolveKeyframes(wS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:i,element:s,motionValue:r}=this;if(e[0]===null){const u=r==null?void 0:r.get(),c=e[e.length-1];if(u!==void 0)e[0]=u;else if(s&&i){const h=s.readValue(i,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),r&&u===void 0&&r.set(e[0])}P2(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),$i.delete(this)}cancel(){this.state==="scheduled"&&($i.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const J2=t=>t.startsWith("--");function K2(t,e,i){J2(e)?t.style.setProperty(e,i):t.style[e]=i}const X2=Md(()=>window.ScrollTimeline!==void 0),Q2={};function $2(t,e){const i=Md(t);return()=>Q2[e]??i()}const DS=$2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),da=([t,e,i,s])=>`cubic-bezier(${t}, ${e}, ${i}, ${s})`,jy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:da([0,.65,.55,1]),circOut:da([.55,0,1,.45]),backIn:da([.31,.01,.66,-.59]),backOut:da([.33,1.53,.69,.99])};function IS(t,e){if(t)return typeof t=="function"?DS()?_S(t,e):"ease-out":mS(t)?da(t):Array.isArray(t)?t.map(i=>IS(i,e)||jy.easeOut):jy[t]}function Z2(t,e,i,{delay:s=0,duration:r=300,repeat:u=0,repeatType:c="loop",ease:h="easeOut",times:g}={},m=void 0){const y={[e]:i};g&&(y.offset=g);const T=IS(h,r);Array.isArray(T)&&(y.easing=T);const S={delay:s,duration:r,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return m&&(S.pseudoElement=m),t.animate(y,S)}function kS(t){return typeof t=="function"&&"applyToOptions"in t}function W2({type:t,...e}){return kS(t)&&DS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class j2 extends Pd{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:i,name:s,keyframes:r,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:h,onComplete:g}=e;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=e,bd(typeof e.type!="string");const m=W2(e);this.animation=Z2(i,s,r,m,u),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=Ld(r,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):K2(i,s,y),this.animation.cancel()}g==null||g(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,i;(i=(e=this.animation).finish)==null||i.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,i;this.isPseudoElement||(i=(e=this.animation).commitStyles)==null||i.call(e)}get duration(){var i,s;const e=((s=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:s.call(i).duration)||0;return sn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+sn(e)}get time(){return sn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Cn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:i}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&X2()?(this.animation.timeline=e,rn):i(this)}}const US={anticipate:cS,backInOut:uS,circInOut:dS};function eI(t){return t in US}function tI(t){typeof t.ease=="string"&&eI(t.ease)&&(t.ease=US[t.ease])}const ev=10;class nI extends j2{constructor(e){tI(e),NS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:i,onUpdate:s,onComplete:r,element:u,...c}=this.options;if(!i)return;if(e!==void 0){i.set(e);return}const h=new zd({...c,autoplay:!1}),g=Cn(this.finishedTime??this.time);i.setWithVelocity(h.sample(g-ev).value,h.sample(g).value,ev),h.stop()}}const tv=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ei.test(t)||t==="0")&&!t.startsWith("url("));function iI(t){const e=t[0];if(t.length===1)return!0;for(let i=0;i<t.length;i++)if(t[i]!==e)return!0}function oI(t,e,i,s){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const u=t[t.length-1],c=tv(r,e),h=tv(u,e);return!c||!h?!1:iI(t)||(i==="spring"||kS(i))&&s}function Zf(t){t.duration=0,t.type="keyframes"}const sI=new Set(["opacity","clipPath","filter","transform"]),aI=Md(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rI(t){var y;const{motionValue:e,name:i,repeatDelay:s,repeatType:r,damping:u,type:c}=t;if(!(((y=e==null?void 0:e.owner)==null?void 0:y.current)instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:m}=e.owner.getProps();return aI()&&i&&sI.has(i)&&(i!=="transform"||!m)&&!g&&!s&&r!=="mirror"&&u!==0&&c!=="inertia"}const lI=40;class uI extends Pd{constructor({autoplay:e=!0,delay:i=0,type:s="keyframes",repeat:r=0,repeatDelay:u=0,repeatType:c="loop",keyframes:h,name:g,motionValue:m,element:y,...T}){var _;super(),this.stop=()=>{var w,M;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(M=this.keyframeResolver)==null||M.cancel()},this.createdAt=zt.now();const S={autoplay:e,delay:i,type:s,repeat:r,repeatDelay:u,repeatType:c,name:g,motionValue:m,element:y,...T},C=(y==null?void 0:y.KeyframeResolver)||Gd;this.keyframeResolver=new C(h,(w,M,N)=>this.onKeyframesResolved(w,M,S,!N),g,m,y),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(e,i,s,r){this.keyframeResolver=void 0;const{name:u,type:c,velocity:h,delay:g,isHandoff:m,onUpdate:y}=s;this.resolvedAt=zt.now(),oI(e,u,c,h)||((Jn.instantAnimations||!g)&&(y==null||y(Ld(e,s,i))),e[0]=e[e.length-1],Zf(s),s.repeat=0);const S={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>lI?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...s,keyframes:e},C=!m&&rI(S)?new nI({...S,element:S.motionValue.owner.current}):new zd(S);C.finished.then(()=>this.notifyFinished()).catch(rn),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,i){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Y2()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const cI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fI(t){const e=cI.exec(t);if(!e)return[,];const[,i,s,r]=e;return[`--${i??s}`,r]}function VS(t,e,i=1){const[s,r]=fI(t);if(!s)return;const u=window.getComputedStyle(e).getPropertyValue(s);if(u){const c=u.trim();return tS(c)?parseFloat(c):c}return Dd(r)?VS(r,e,i+1):r}function Hd(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const LS=new Set(["width","height","top","left","right","bottom",...as]),dI={test:t=>t==="auto",parse:t=>t},PS=t=>e=>e.test(t),zS=[ss,pe,An,xi,o2,i2,dI],nv=t=>zS.find(PS(t));function hI(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||iS(t):!0}const mI=new Set(["brightness","contrast","saturate","opacity"]);function pI(t){const[e,i]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=i.match(Id)||[];if(!s)return t;const r=i.replace(s,"");let u=mI.has(e)?1:0;return s!==i&&(u*=100),e+"("+u+r+")"}const gI=/\b([a-z-]*)\(.*?\)/gu,Wf={...Ei,getAnimatableNone:t=>{const e=t.match(gI);return e?e.map(pI).join(" "):t}},iv={...ss,transform:Math.round},yI={rotate:xi,rotateX:xi,rotateY:xi,rotateZ:xi,scale:$r,scaleX:$r,scaleY:$r,scaleZ:$r,skew:xi,skewX:xi,skewY:xi,distance:pe,translateX:pe,translateY:pe,translateZ:pe,x:pe,y:pe,z:pe,perspective:pe,transformPerspective:pe,opacity:Sa,originX:Fy,originY:Fy,originZ:pe},Bd={borderWidth:pe,borderTopWidth:pe,borderRightWidth:pe,borderBottomWidth:pe,borderLeftWidth:pe,borderRadius:pe,radius:pe,borderTopLeftRadius:pe,borderTopRightRadius:pe,borderBottomRightRadius:pe,borderBottomLeftRadius:pe,width:pe,maxWidth:pe,height:pe,maxHeight:pe,top:pe,right:pe,bottom:pe,left:pe,padding:pe,paddingTop:pe,paddingRight:pe,paddingBottom:pe,paddingLeft:pe,margin:pe,marginTop:pe,marginRight:pe,marginBottom:pe,marginLeft:pe,backgroundPositionX:pe,backgroundPositionY:pe,...yI,zIndex:iv,fillOpacity:Sa,strokeOpacity:Sa,numOctaves:iv},vI={...Bd,color:at,backgroundColor:at,outlineColor:at,fill:at,stroke:at,borderColor:at,borderTopColor:at,borderRightColor:at,borderBottomColor:at,borderLeftColor:at,filter:Wf,WebkitFilter:Wf},GS=t=>vI[t];function HS(t,e){let i=GS(t);return i!==Wf&&(i=Ei),i.getAnimatableNone?i.getAnimatableNone(e):void 0}const TI=new Set(["auto","none","0"]);function SI(t,e,i){let s=0,r;for(;s<t.length&&!r;){const u=t[s];typeof u=="string"&&!TI.has(u)&&xa(u).values.length&&(r=t[s]),s++}if(r&&i)for(const u of e)t[u]=HS(i,r)}class xI extends Gd{constructor(e,i,s,r,u){super(e,i,s,r,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:i,name:s}=this;if(!i||!i.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let m=e[g];if(typeof m=="string"&&(m=m.trim(),Dd(m))){const y=VS(m,i.current);y!==void 0&&(e[g]=y),g===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!LS.has(s)||e.length!==2)return;const[r,u]=e,c=nv(r),h=nv(u);if(c!==h)if(Wy(c)&&Wy(h))for(let g=0;g<e.length;g++){const m=e[g];typeof m=="string"&&(e[g]=parseFloat(m))}else Qi[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:i}=this,s=[];for(let r=0;r<e.length;r++)(e[r]===null||hI(e[r]))&&s.push(r);s.length&&SI(e,s,i)}measureInitialState(){const{element:e,unresolvedKeyframes:i,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qi[s](e.measureViewportBox(),window.getComputedStyle(e.current)),i[0]=this.measuredOrigin;const r=i[i.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){var h;const{element:e,name:i,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(i);r&&r.jump(this.measuredOrigin,!1);const u=s.length-1,c=s[u];s[u]=Qi[i](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([g,m])=>{e.getValue(g).set(m)}),this.resolveNoneKeyframes()}}function EI(t,e,i){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const r=(i==null?void 0:i[t])??s.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const BS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function CI(t){return nS(t)&&"offsetHeight"in t}const ov=30,AI=t=>!isNaN(parseFloat(t)),pa={current:void 0};class _I{constructor(e,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var u;const r=zt.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=i.owner}setCurrent(e){this.current=e,this.updatedAt=zt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=AI(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,i){this.events[e]||(this.events[e]=new Nd);const s=this.events[e].add(i);return e==="change"?()=>{s(),Je.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,i){this.passiveEffect=e,this.stopPassiveEffect=i}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,i,s){this.set(i),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,i=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return pa.current&&pa.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=zt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ov)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,ov);return oS(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(e){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=e(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,i;(e=this.dependents)==null||e.clear(),(i=this.events.destroy)==null||i.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zi(t,e){return new _I(t,e)}const{schedule:qd}=pS(queueMicrotask,!1),mn={x:!1,y:!1};function qS(){return mn.x||mn.y}function bI(t){return t==="x"||t==="y"?mn[t]?null:(mn[t]=!0,()=>{mn[t]=!1}):mn.x||mn.y?null:(mn.x=mn.y=!0,()=>{mn.x=mn.y=!1})}function OS(t,e){const i=EI(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[i,r,()=>s.abort()]}function sv(t){return!(t.pointerType==="touch"||qS())}function MI(t,e,i={}){const[s,r,u]=OS(t,i),c=h=>{if(!sv(h))return;const{target:g}=h,m=e(g,h);if(typeof m!="function"||!g)return;const y=T=>{sv(T)&&(m(T),g.removeEventListener("pointerleave",y))};g.addEventListener("pointerleave",y,r)};return s.forEach(h=>{h.addEventListener("pointerenter",c,r)}),u}const FS=(t,e)=>e?t===e?!0:FS(t,e.parentElement):!1,Od=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,NI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function wI(t){return NI.has(t.tagName)||t.tabIndex!==-1}const il=new WeakSet;function av(t){return e=>{e.key==="Enter"&&t(e)}}function ff(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const RI=(t,e)=>{const i=t.currentTarget;if(!i)return;const s=av(()=>{if(il.has(i))return;ff(i,"down");const r=av(()=>{ff(i,"up")}),u=()=>ff(i,"cancel");i.addEventListener("keyup",r,e),i.addEventListener("blur",u,e)});i.addEventListener("keydown",s,e),i.addEventListener("blur",()=>i.removeEventListener("keydown",s),e)};function rv(t){return Od(t)&&!qS()}function DI(t,e,i={}){const[s,r,u]=OS(t,i),c=h=>{const g=h.currentTarget;if(!rv(h))return;il.add(g);const m=e(g,h),y=(C,_)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",S),il.has(g)&&il.delete(g),rv(C)&&typeof m=="function"&&m(C,{success:_})},T=C=>{y(C,g===window||g===document||i.useGlobalTarget||FS(g,C.target))},S=C=>{y(C,!1)};window.addEventListener("pointerup",T,r),window.addEventListener("pointercancel",S,r)};return s.forEach(h=>{(i.useGlobalTarget?window:h).addEventListener("pointerdown",c,r),CI(h)&&(h.addEventListener("focus",m=>RI(m,r)),!wI(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),u}function YS(t){return nS(t)&&"ownerSVGElement"in t}function II(t){return YS(t)&&t.tagName==="svg"}function kI(...t){const e=!Array.isArray(t[0]),i=e?0:-1,s=t[0+i],r=t[1+i],u=t[2+i],c=t[3+i],h=MS(r,u,c);return e?h(s):h}const At=t=>!!(t&&t.getVelocity),UI=[...zS,at,Ei],VI=t=>UI.find(PS(t)),Fd=q.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function LI(t=!0){const e=q.useContext(Cd);if(e===null)return[!0,null];const{isPresent:i,onExitComplete:s,register:r}=e,u=q.useId();q.useEffect(()=>{if(t)return r(u)},[t]);const c=q.useCallback(()=>t&&s&&s(u),[u,s,t]);return!i&&s?[!1,c]:[!0]}const JS=q.createContext({strict:!1}),lv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ts={};for(const t in lv)ts[t]={isEnabled:e=>lv[t].some(i=>!!e[i])};function PI(t){for(const e in t)ts[e]={...ts[e],...t[e]}}const zI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||zI.has(t)}let KS=t=>!pl(t);function GI(t){typeof t=="function"&&(KS=e=>e.startsWith("on")?!pl(e):t(e))}try{GI(require("@emotion/is-prop-valid").default)}catch{}function HI(t,e,i){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(KS(r)||i===!0&&pl(r)||!e&&!pl(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}const bl=q.createContext({});function Ml(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ea(t){return typeof t=="string"||Array.isArray(t)}const Yd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jd=["initial",...Yd];function Nl(t){return Ml(t.animate)||Jd.some(e=>Ea(t[e]))}function XS(t){return!!(Nl(t)||t.variants)}function BI(t,e){if(Nl(t)){const{initial:i,animate:s}=t;return{initial:i===!1||Ea(i)?i:void 0,animate:Ea(s)?s:void 0}}return t.inherit!==!1?e:{}}function qI(t){const{initial:e,animate:i}=BI(t,q.useContext(bl));return q.useMemo(()=>({initial:e,animate:i}),[uv(e),uv(i)])}function uv(t){return Array.isArray(t)?t.join(" "):t}function cv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ra={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(pe.test(t))t=parseFloat(t);else return t;const i=cv(t,e.target.x),s=cv(t,e.target.y);return`${i}% ${s}%`}},OI={correct:(t,{treeScale:e,projectionDelta:i})=>{const s=t,r=Ei.parse(t);if(r.length>5)return s;const u=Ei.createTransformer(t),c=typeof r[0]!="number"?1:0,h=i.x.scale*e.x,g=i.y.scale*e.y;r[0+c]/=h,r[1+c]/=g;const m=Qe(h,g,.5);return typeof r[2+c]=="number"&&(r[2+c]/=m),typeof r[3+c]=="number"&&(r[3+c]/=m),u(r)}},jf={borderRadius:{...ra,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ra,borderTopRightRadius:ra,borderBottomLeftRadius:ra,borderBottomRightRadius:ra,boxShadow:OI};function QS(t,{layout:e,layoutId:i}){return rs.has(t)||t.startsWith("origin")||(e||i!==void 0)&&(!!jf[t]||t==="opacity")}const FI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},YI=as.length;function JI(t,e,i){let s="",r=!0;for(let u=0;u<YI;u++){const c=as[u],h=t[c];if(h===void 0)continue;let g=!0;if(typeof h=="number"?g=h===(c.startsWith("scale")?1:0):g=parseFloat(h)===0,!g||i){const m=BS(h,Bd[c]);if(!g){r=!1;const y=FI[c]||c;s+=`${y}(${m}) `}i&&(e[c]=m)}}return s=s.trim(),i?s=i(e,r?"":s):r&&(s="none"),s}function Kd(t,e,i){const{style:s,vars:r,transformOrigin:u}=t;let c=!1,h=!1;for(const g in e){const m=e[g];if(rs.has(g)){c=!0;continue}else if(yS(g)){r[g]=m;continue}else{const y=BS(m,Bd[g]);g.startsWith("origin")?(h=!0,u[g]=y):s[g]=y}}if(e.transform||(c||i?s.transform=JI(e,t.transform,i):s.transform&&(s.transform="none")),h){const{originX:g="50%",originY:m="50%",originZ:y=0}=u;s.transformOrigin=`${g} ${m} ${y}`}}const Xd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function $S(t,e,i){for(const s in e)!At(e[s])&&!QS(s,i)&&(t[s]=e[s])}function KI({transformTemplate:t},e){return q.useMemo(()=>{const i=Xd();return Kd(i,e,t),Object.assign({},i.vars,i.style)},[e])}function XI(t,e){const i=t.style||{},s={};return $S(s,i,t),Object.assign(s,KI(t,e)),s}function QI(t,e){const i={},s=XI(t,e);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=s,i}const $I={offset:"stroke-dashoffset",array:"stroke-dasharray"},ZI={offset:"strokeDashoffset",array:"strokeDasharray"};function WI(t,e,i=1,s=0,r=!0){t.pathLength=1;const u=r?$I:ZI;t[u.offset]=pe.transform(-s);const c=pe.transform(e),h=pe.transform(i);t[u.array]=`${c} ${h}`}function ZS(t,{attrX:e,attrY:i,attrScale:s,pathLength:r,pathSpacing:u=1,pathOffset:c=0,...h},g,m,y){if(Kd(t,h,m),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:S}=t;T.transform&&(S.transform=T.transform,delete T.transform),(S.transform||T.transformOrigin)&&(S.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),S.transform&&(S.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete T.transformBox),e!==void 0&&(T.x=e),i!==void 0&&(T.y=i),s!==void 0&&(T.scale=s),r!==void 0&&WI(T,r,u,c,!1)}const WS=()=>({...Xd(),attrs:{}}),jS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function jI(t,e,i,s){const r=q.useMemo(()=>{const u=WS();return ZS(u,e,jS(s),t.transformTemplate,t.style),{...u.attrs,style:{...u.style}}},[e]);if(t.style){const u={};$S(u,t.style,t),r.style={...u,...r.style}}return r}const ek=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Qd(t){return typeof t!="string"||t.includes("-")?!1:!!(ek.indexOf(t)>-1||/[A-Z]/u.test(t))}function tk(t,e,i,{latestValues:s},r,u=!1){const h=(Qd(t)?jI:QI)(e,s,r,t),g=HI(e,typeof t=="string",u),m=t!==q.Fragment?{...g,...h,ref:i}:{},{children:y}=e,T=q.useMemo(()=>At(y)?y.get():y,[y]);return q.createElement(t,{...m,children:T})}function fv(t){const e=[{},{}];return t==null||t.values.forEach((i,s)=>{e[0][s]=i.get(),e[1][s]=i.getVelocity()}),e}function $d(t,e,i,s){if(typeof e=="function"){const[r,u]=fv(s);e=e(i!==void 0?i:t.custom,r,u)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,u]=fv(s);e=e(i!==void 0?i:t.custom,r,u)}return e}function ol(t){return At(t)?t.get():t}function nk({scrapeMotionValuesFromProps:t,createRenderState:e},i,s,r){return{latestValues:ik(i,s,r,t),renderState:e()}}function ik(t,e,i,s){const r={},u=s(t,{});for(const S in u)r[S]=ol(u[S]);let{initial:c,animate:h}=t;const g=Nl(t),m=XS(t);e&&m&&!g&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let y=i?i.initial===!1:!1;y=y||c===!1;const T=y?h:c;if(T&&typeof T!="boolean"&&!Ml(T)){const S=Array.isArray(T)?T:[T];for(let C=0;C<S.length;C++){const _=$d(t,S[C]);if(_){const{transitionEnd:w,transition:M,...N}=_;for(const G in N){let I=N[G];if(Array.isArray(I)){const F=y?I.length-1:0;I=I[F]}I!==null&&(r[G]=I)}for(const G in w)r[G]=w[G]}}}return r}const ex=t=>(e,i)=>{const s=q.useContext(bl),r=q.useContext(Cd),u=()=>nk(t,e,s,r);return i?u():xd(u)};function Zd(t,e,i){var u;const{style:s}=t,r={};for(const c in s)(At(s[c])||e.style&&At(e.style[c])||QS(c,t)||((u=i==null?void 0:i.getValue(c))==null?void 0:u.liveStyle)!==void 0)&&(r[c]=s[c]);return r}const ok=ex({scrapeMotionValuesFromProps:Zd,createRenderState:Xd});function tx(t,e,i){const s=Zd(t,e,i);for(const r in t)if(At(t[r])||At(e[r])){const u=as.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[u]=t[r]}return s}const sk=ex({scrapeMotionValuesFromProps:tx,createRenderState:WS}),ak=Symbol.for("motionComponentSymbol");function Jo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function rk(t,e,i){return q.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),i&&(typeof i=="function"?i(s):Jo(i)&&(i.current=s))},[e])}const Wd=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lk="framerAppearId",nx="data-"+Wd(lk),ix=q.createContext({});function uk(t,e,i,s,r){var w,M;const{visualElement:u}=q.useContext(bl),c=q.useContext(JS),h=q.useContext(Cd),g=q.useContext(Fd).reducedMotion,m=q.useRef(null);s=s||c.renderer,!m.current&&s&&(m.current=s(t,{visualState:e,parent:u,props:i,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:g}));const y=m.current,T=q.useContext(ix);y&&!y.projection&&r&&(y.type==="html"||y.type==="svg")&&ck(m.current,i,r,T);const S=q.useRef(!1);q.useInsertionEffect(()=>{y&&S.current&&y.update(i,h)});const C=i[nx],_=q.useRef(!!C&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,C))&&((M=window.MotionHasOptimisedAnimation)==null?void 0:M.call(window,C)));return eS(()=>{y&&(S.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),_.current&&y.animationState&&y.animationState.animateChanges())}),q.useEffect(()=>{y&&(!_.current&&y.animationState&&y.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,C)}),_.current=!1),y.enteringChildren=void 0)}),y}function ck(t,e,i,s){const{layoutId:r,layout:u,drag:c,dragConstraints:h,layoutScroll:g,layoutRoot:m,layoutCrossfade:y}=e;t.projection=new i(t.latestValues,e["data-framer-portal-id"]?void 0:ox(t.parent)),t.projection.setOptions({layoutId:r,layout:u,alwaysMeasureLayout:!!c||h&&Jo(h),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:g,layoutRoot:m})}function ox(t){if(t)return t.options.allowProjection!==!1?t.projection:ox(t.parent)}function df(t,{forwardMotionProps:e=!1}={},i,s){i&&PI(i);const r=Qd(t)?sk:ok;function u(h,g){let m;const y={...q.useContext(Fd),...h,layoutId:fk(h)},{isStatic:T}=y,S=qI(h),C=r(h,T);if(!T&&Ed){dk();const _=hk(y);m=_.MeasureLayout,S.visualElement=uk(t,C,y,s,_.ProjectionNode)}return E.jsxs(bl.Provider,{value:S,children:[m&&S.visualElement?E.jsx(m,{visualElement:S.visualElement,...y}):null,tk(t,h,rk(C,S.visualElement,g),C,T,e)]})}u.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=q.forwardRef(u);return c[ak]=t,c}function fk({layoutId:t}){const e=q.useContext(jT).id;return e&&t!==void 0?e+"-"+t:t}function dk(t,e){q.useContext(JS).strict}function hk(t){const{drag:e,layout:i}=ts;if(!e&&!i)return{};const s={...e,...i};return{MeasureLayout:e!=null&&e.isEnabled(t)||i!=null&&i.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function mk(t,e){if(typeof Proxy>"u")return df;const i=new Map,s=(u,c)=>df(u,c,t,e),r=(u,c)=>s(u,c);return new Proxy(r,{get:(u,c)=>c==="create"?s:(i.has(c)||i.set(c,df(c,void 0,t,e)),i.get(c))})}function sx({top:t,left:e,right:i,bottom:s}){return{x:{min:e,max:i},y:{min:t,max:s}}}function pk({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function gk(t,e){if(!e)return t;const i=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:i.y,left:i.x,bottom:s.y,right:s.x}}function hf(t){return t===void 0||t===1}function ed({scale:t,scaleX:e,scaleY:i}){return!hf(t)||!hf(e)||!hf(i)}function Yi(t){return ed(t)||ax(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ax(t){return dv(t.x)||dv(t.y)}function dv(t){return t&&t!=="0%"}function gl(t,e,i){const s=t-i,r=e*s;return i+r}function hv(t,e,i,s,r){return r!==void 0&&(t=gl(t,r,s)),gl(t,i,s)+e}function td(t,e=0,i=1,s,r){t.min=hv(t.min,e,i,s,r),t.max=hv(t.max,e,i,s,r)}function rx(t,{x:e,y:i}){td(t.x,e.translate,e.scale,e.originPoint),td(t.y,i.translate,i.scale,i.originPoint)}const mv=.999999999999,pv=1.0000000000001;function yk(t,e,i,s=!1){const r=i.length;if(!r)return;e.x=e.y=1;let u,c;for(let h=0;h<r;h++){u=i[h],c=u.projectionDelta;const{visualElement:g}=u.options;g&&g.props.style&&g.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Xo(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,rx(t,c)),s&&Yi(u.latestValues)&&Xo(t,u.latestValues))}e.x<pv&&e.x>mv&&(e.x=1),e.y<pv&&e.y>mv&&(e.y=1)}function Ko(t,e){t.min=t.min+e,t.max=t.max+e}function gv(t,e,i,s,r=.5){const u=Qe(t.min,t.max,r);td(t,e,i,u,s)}function Xo(t,e){gv(t.x,e.x,e.scaleX,e.scale,e.originX),gv(t.y,e.y,e.scaleY,e.scale,e.originY)}function lx(t,e){return sx(gk(t.getBoundingClientRect(),e))}function vk(t,e,i){const s=lx(t,i),{scroll:r}=e;return r&&(Ko(s.x,r.offset.x),Ko(s.y,r.offset.y)),s}const yv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qo=()=>({x:yv(),y:yv()}),vv=()=>({min:0,max:0}),lt=()=>({x:vv(),y:vv()}),nd={current:null},ux={current:!1};function Tk(){if(ux.current=!0,!!Ed)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>nd.current=t.matches;t.addEventListener("change",e),e()}else nd.current=!1}const Sk=new WeakMap;function xk(t,e,i){for(const s in e){const r=e[s],u=i[s];if(At(r))t.addValue(s,r);else if(At(u))t.addValue(s,Zi(r,{owner:t}));else if(u!==r)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(r):c.hasAnimated||c.set(r)}else{const c=t.getStaticValue(s);t.addValue(s,Zi(c!==void 0?c:r,{owner:t}))}}for(const s in i)e[s]===void 0&&t.removeValue(s);return e}const Tv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ek{scrapeMotionValuesFromProps(e,i,s){return{}}constructor({parent:e,props:i,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:u,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Gd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=zt.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,Je.render(this.render,!1,!0))};const{latestValues:g,renderState:m}=c;this.latestValues=g,this.baseTarget={...g},this.initialValues=i.initial?{...g}:{},this.renderState=m,this.parent=e,this.props=i,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=h,this.blockInitialAnimation=!!u,this.isControllingVariants=Nl(i),this.isVariantNode=XS(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...T}=this.scrapeMotionValuesFromProps(i,{},this);for(const S in T){const C=T[S];g[S]!==void 0&&At(C)&&C.set(g[S])}}mount(e){var i;this.current=e,Sk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),ux.current||Tk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nd.current,(i=this.parent)==null||i.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Kn(this.notifyUpdate),Kn(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const s=this.features[i];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,i){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=rs.has(e);s&&this.onBindTransform&&this.onBindTransform();const r=i.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Je.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,i)),this.valueSubscriptions.set(e,()=>{r(),u&&u(),i.owner&&i.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ts){const i=ts[e];if(!i)continue;const{isEnabled:s,Feature:r}=i;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):lt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,i){this.latestValues[e]=i}update(e,i){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let s=0;s<Tv.length;s++){const r=Tv[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const u="on"+r,c=e[u];c&&(this.propEventSubscriptions[r]=this.on(r,c))}this.prevMotionValues=xk(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(e),()=>i.variantChildren.delete(e)}addValue(e,i){const s=this.values.get(e);i!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,i),this.values.set(e,i),this.latestValues[e]=i.get())}removeValue(e){this.values.delete(e);const i=this.valueSubscriptions.get(e);i&&(i(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,i){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&i!==void 0&&(s=Zi(i===null?void 0:i,{owner:this}),this.addValue(e,s)),s}readValue(e,i){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(tS(s)||iS(s))?s=parseFloat(s):!VI(s)&&Ei.test(i)&&(s=HS(e,i)),this.setBaseTarget(e,At(s)?s.get():s)),At(s)?s.get():s}setBaseTarget(e,i){this.baseTarget[e]=i}getBaseTarget(e){var u;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const c=$d(this.props,i,(u=this.presenceContext)==null?void 0:u.custom);c&&(s=c[e])}if(i&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!At(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,i){return this.events[e]||(this.events[e]=new Nd),this.events[e].add(i)}notify(e,...i){this.events[e]&&this.events[e].notify(...i)}scheduleRenderMicrotask(){qd.render(this.render)}}class cx extends Ek{constructor(){super(...arguments),this.KeyframeResolver=xI}sortInstanceNodePosition(e,i){return e.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(e,i){return e.style?e.style[i]:void 0}removeValueFromRenderState(e,{vars:i,style:s}){delete i[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;At(e)&&(this.childSubscription=e.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function fx(t,{style:e,vars:i},s,r){const u=t.style;let c;for(c in e)u[c]=e[c];r==null||r.applyProjectionStyles(u,s);for(c in i)u.setProperty(c,i[c])}function Ck(t){return window.getComputedStyle(t)}class Ak extends cx{constructor(){super(...arguments),this.type="html",this.renderInstance=fx}readValueFromInstance(e,i){var s;if(rs.has(i))return(s=this.projection)!=null&&s.isProjecting?Jf(i):H2(e,i);{const r=Ck(e),u=(yS(i)?r.getPropertyValue(i):r[i])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(e,{transformPagePoint:i}){return lx(e,i)}build(e,i,s){Kd(e,i,s.transformTemplate)}scrapeMotionValuesFromProps(e,i,s){return Zd(e,i,s)}}const dx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _k(t,e,i,s){fx(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(dx.has(r)?r:Wd(r),e.attrs[r])}class bk extends cx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=lt}getBaseTargetFromProps(e,i){return e[i]}readValueFromInstance(e,i){if(rs.has(i)){const s=GS(i);return s&&s.default||0}return i=dx.has(i)?i:Wd(i),e.getAttribute(i)}scrapeMotionValuesFromProps(e,i,s){return tx(e,i,s)}build(e,i,s){ZS(e,i,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,i,s,r){_k(e,i,s,r)}mount(e){this.isSVGTag=jS(e.tagName),super.mount(e)}}const Mk=(t,e)=>Qd(t)?new bk(e):new Ak(e,{allowProjection:t!==q.Fragment});function jo(t,e,i){const s=t.getProps();return $d(s,e,i!==void 0?i:s.custom,t)}const id=t=>Array.isArray(t);function Nk(t,e,i){t.hasValue(e)?t.getValue(e).set(i):t.addValue(e,Zi(i))}function wk(t){return id(t)?t[t.length-1]||0:t}function Rk(t,e){const i=jo(t,e);let{transitionEnd:s={},transition:r={},...u}=i||{};u={...u,...s};for(const c in u){const h=wk(u[c]);Nk(t,c,h)}}function Dk(t){return!!(At(t)&&t.add)}function od(t,e){const i=t.getValue("willChange");if(Dk(i))return i.add(e);if(!i&&Jn.WillChange){const s=new Jn.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function hx(t){return t.props[nx]}const Ik=t=>t!==null;function kk(t,{repeat:e,repeatType:i="loop"},s){const r=t.filter(Ik),u=e&&i!=="loop"&&e%2===1?0:r.length-1;return r[u]}const Uk={type:"spring",stiffness:500,damping:25,restSpeed:10},Vk=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Lk={type:"keyframes",duration:.8},Pk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zk=(t,{keyframes:e})=>e.length>2?Lk:rs.has(t)?t.startsWith("scale")?Vk(e[1]):Uk:Pk;function Gk({when:t,delay:e,delayChildren:i,staggerChildren:s,staggerDirection:r,repeat:u,repeatType:c,repeatDelay:h,from:g,elapsed:m,...y}){return!!Object.keys(y).length}const jd=(t,e,i,s={},r,u)=>c=>{const h=Hd(s,t)||{},g=h.delay||s.delay||0;let{elapsed:m=0}=s;m=m-Cn(g);const y={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:S=>{e.set(S),h.onUpdate&&h.onUpdate(S)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:u?void 0:r};Gk(h)||Object.assign(y,zk(t,y)),y.duration&&(y.duration=Cn(y.duration)),y.repeatDelay&&(y.repeatDelay=Cn(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let T=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Zf(y),y.delay===0&&(T=!0)),(Jn.instantAnimations||Jn.skipAnimations)&&(T=!0,Zf(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,T&&!u&&e.get()!==void 0){const S=kk(y.keyframes,h);if(S!==void 0){Je.update(()=>{y.onUpdate(S),y.onComplete()});return}}return h.isSync?new zd(y):new uI(y)};function Hk({protectedKeys:t,needsAnimating:e},i){const s=t.hasOwnProperty(i)&&e[i]!==!0;return e[i]=!1,s}function mx(t,e,{delay:i=0,transitionOverride:s,type:r}={}){let{transition:u=t.getDefaultTransition(),transitionEnd:c,...h}=e;s&&(u=s);const g=[],m=r&&t.animationState&&t.animationState.getState()[r];for(const y in h){const T=t.getValue(y,t.latestValues[y]??null),S=h[y];if(S===void 0||m&&Hk(m,y))continue;const C={delay:i,...Hd(u||{},y)},_=T.get();if(_!==void 0&&!T.isAnimating&&!Array.isArray(S)&&S===_&&!C.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const N=hx(t);if(N){const G=window.MotionHandoffAnimation(N,y,Je);G!==null&&(C.startTime=G,w=!0)}}od(t,y),T.start(jd(y,T,S,t.shouldReduceMotion&&LS.has(y)?{type:!1}:C,t,w));const M=T.animation;M&&g.push(M)}return c&&Promise.all(g).then(()=>{Je.update(()=>{c&&Rk(t,c)})}),g}function px(t,e,i,s=0,r=1){const u=Array.from(t).sort((m,y)=>m.sortNodePosition(y)).indexOf(e),c=t.size,h=(c-1)*s;return typeof i=="function"?i(u,c):r===1?u*s:h-u*s}function sd(t,e,i={}){var g;const s=jo(t,e,i.type==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=s||{};i.transitionOverride&&(r=i.transitionOverride);const u=s?()=>Promise.all(mx(t,s,i)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:y=0,staggerChildren:T,staggerDirection:S}=r;return Bk(t,e,m,y,T,S,i)}:()=>Promise.resolve(),{when:h}=r;if(h){const[m,y]=h==="beforeChildren"?[u,c]:[c,u];return m().then(()=>y())}else return Promise.all([u(),c(i.delay)])}function Bk(t,e,i=0,s=0,r=0,u=1,c){const h=[];for(const g of t.variantChildren)g.notify("AnimationStart",e),h.push(sd(g,e,{...c,delay:i+(typeof s=="function"?0:s)+px(t.variantChildren,g,s,r,u)}).then(()=>g.notify("AnimationComplete",e)));return Promise.all(h)}function qk(t,e,i={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(u=>sd(t,u,i));s=Promise.all(r)}else if(typeof e=="string")s=sd(t,e,i);else{const r=typeof e=="function"?jo(t,e,i.custom):e;s=Promise.all(mx(t,r,i))}return s.then(()=>{t.notify("AnimationComplete",e)})}function gx(t,e){if(!Array.isArray(e))return!1;const i=e.length;if(i!==t.length)return!1;for(let s=0;s<i;s++)if(e[s]!==t[s])return!1;return!0}const Ok=Jd.length;function yx(t){if(!t)return;if(!t.isControllingVariants){const i=t.parent?yx(t.parent)||{}:{};return t.props.initial!==void 0&&(i.initial=t.props.initial),i}const e={};for(let i=0;i<Ok;i++){const s=Jd[i],r=t.props[s];(Ea(r)||r===!1)&&(e[s]=r)}return e}const Fk=[...Yd].reverse(),Yk=Yd.length;function Jk(t){return e=>Promise.all(e.map(({animation:i,options:s})=>qk(t,i,s)))}function Kk(t){let e=Jk(t),i=Sv(),s=!0;const r=g=>(m,y)=>{var S;const T=jo(t,y,g==="exit"?(S=t.presenceContext)==null?void 0:S.custom:void 0);if(T){const{transition:C,transitionEnd:_,...w}=T;m={...m,...w,..._}}return m};function u(g){e=g(t)}function c(g){const{props:m}=t,y=yx(t.parent)||{},T=[],S=new Set;let C={},_=1/0;for(let M=0;M<Yk;M++){const N=Fk[M],G=i[N],I=m[N]!==void 0?m[N]:y[N],F=Ea(I),Y=N===g?G.isActive:null;Y===!1&&(_=M);let j=I===y[N]&&I!==m[N]&&F;if(j&&s&&t.manuallyAnimateOnMount&&(j=!1),G.protectedKeys={...C},!G.isActive&&Y===null||!I&&!G.prevProp||Ml(I)||typeof I=="boolean")continue;const Q=Xk(G.prevProp,I);let $=Q||N===g&&G.isActive&&!j&&F||M>_&&F,Z=!1;const ne=Array.isArray(I)?I:[I];let ue=ne.reduce(r(N),{});Y===!1&&(ue={});const{prevResolvedValues:Ae={}}=G,ge={...Ae,...ue},Me=V=>{$=!0,S.has(V)&&(Z=!0,S.delete(V)),G.needsAnimating[V]=!0;const W=t.getValue(V);W&&(W.liveStyle=!1)};for(const V in ge){const W=ue[V],ae=Ae[V];if(C.hasOwnProperty(V))continue;let fe=!1;id(W)&&id(ae)?fe=!gx(W,ae):fe=W!==ae,fe?W!=null?Me(V):S.add(V):W!==void 0&&S.has(V)?Me(V):G.protectedKeys[V]=!0}G.prevProp=I,G.prevResolvedValues=ue,G.isActive&&(C={...C,...ue}),s&&t.blockInitialAnimation&&($=!1);const qe=j&&Q;$&&(!qe||Z)&&T.push(...ne.map(V=>{const W={type:N};if(typeof V=="string"&&s&&!qe&&t.manuallyAnimateOnMount&&t.parent){const{parent:ae}=t,fe=jo(ae,V);if(ae.enteringChildren&&fe){const{delayChildren:R}=fe.transition||{};W.delay=px(ae.enteringChildren,t,R)}}return{animation:V,options:W}}))}if(S.size){const M={};if(typeof m.initial!="boolean"){const N=jo(t,Array.isArray(m.initial)?m.initial[0]:m.initial);N&&N.transition&&(M.transition=N.transition)}S.forEach(N=>{const G=t.getBaseTarget(N),I=t.getValue(N);I&&(I.liveStyle=!0),M[N]=G??null}),T.push({animation:M})}let w=!!T.length;return s&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(w=!1),s=!1,w?e(T):Promise.resolve()}function h(g,m){var T;if(i[g].isActive===m)return Promise.resolve();(T=t.variantChildren)==null||T.forEach(S=>{var C;return(C=S.animationState)==null?void 0:C.setActive(g,m)}),i[g].isActive=m;const y=c(g);for(const S in i)i[S].protectedKeys={};return y}return{animateChanges:c,setActive:h,setAnimateFunction:u,getState:()=>i,reset:()=>{i=Sv()}}}function Xk(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!gx(e,t):!1}function Oi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Sv(){return{animate:Oi(!0),whileInView:Oi(),whileHover:Oi(),whileTap:Oi(),whileDrag:Oi(),whileFocus:Oi(),exit:Oi()}}class Ai{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Qk extends Ai{constructor(e){super(e),e.animationState||(e.animationState=Kk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ml(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:i}=this.node.prevProps||{};e!==i&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let $k=0;class Zk extends Ai{constructor(){super(...arguments),this.id=$k++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:i}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);i&&!e&&r.then(()=>{i(this.id)})}mount(){const{register:e,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Wk={animation:{Feature:Qk},exit:{Feature:Zk}};function Ca(t,e,i,s={passive:!0}){return t.addEventListener(e,i,s),()=>t.removeEventListener(e,i)}function Ma(t){return{point:{x:t.pageX,y:t.pageY}}}const jk=t=>e=>Od(e)&&t(e,Ma(e));function ga(t,e,i,s){return Ca(t,e,jk(i),s)}const vx=1e-4,eU=1-vx,tU=1+vx,Tx=.01,nU=0-Tx,iU=0+Tx;function Nt(t){return t.max-t.min}function oU(t,e,i){return Math.abs(t-e)<=i}function xv(t,e,i,s=.5){t.origin=s,t.originPoint=Qe(e.min,e.max,t.origin),t.scale=Nt(i)/Nt(e),t.translate=Qe(i.min,i.max,t.origin)-t.originPoint,(t.scale>=eU&&t.scale<=tU||isNaN(t.scale))&&(t.scale=1),(t.translate>=nU&&t.translate<=iU||isNaN(t.translate))&&(t.translate=0)}function ya(t,e,i,s){xv(t.x,e.x,i.x,s?s.originX:void 0),xv(t.y,e.y,i.y,s?s.originY:void 0)}function Ev(t,e,i){t.min=i.min+e.min,t.max=t.min+Nt(e)}function sU(t,e,i){Ev(t.x,e.x,i.x),Ev(t.y,e.y,i.y)}function Cv(t,e,i){t.min=e.min-i.min,t.max=t.min+Nt(e)}function yl(t,e,i){Cv(t.x,e.x,i.x),Cv(t.y,e.y,i.y)}function on(t){return[t("x"),t("y")]}const Sx=({current:t})=>t?t.ownerDocument.defaultView:null,Av=(t,e)=>Math.abs(t-e);function aU(t,e){const i=Av(t.x,e.x),s=Av(t.y,e.y);return Math.sqrt(i**2+s**2)}class xx{constructor(e,i,{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=pf(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,_=aU(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!_)return;const{point:w}=S,{timestamp:M}=vt;this.history.push({...w,timestamp:M});const{onStart:N,onMove:G}=this.handlers;C||(N&&N(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),G&&G(this.lastMoveEvent,S)},this.handlePointerMove=(S,C)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=mf(C,this.transformPagePoint),Je.update(this.updatePoint,!0)},this.handlePointerUp=(S,C)=>{this.end();const{onEnd:_,onSessionEnd:w,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=pf(S.type==="pointercancel"?this.lastMoveEventInfo:mf(C,this.transformPagePoint),this.history);this.startEvent&&_&&_(S,N),w&&w(S,N)},!Od(e))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=r||window;const h=Ma(e),g=mf(h,this.transformPagePoint),{point:m}=g,{timestamp:y}=vt;this.history=[{...m,timestamp:y}];const{onSessionStart:T}=i;T&&T(e,pf(g,this.history)),this.removeListeners=Aa(ga(this.contextWindow,"pointermove",this.handlePointerMove),ga(this.contextWindow,"pointerup",this.handlePointerUp),ga(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Kn(this.updatePoint)}}function mf(t,e){return e?{point:e(t.point)}:t}function _v(t,e){return{x:t.x-e.x,y:t.y-e.y}}function pf({point:t},e){return{point:t,delta:_v(t,Ex(e)),offset:_v(t,rU(e)),velocity:lU(e,.1)}}function rU(t){return t[0]}function Ex(t){return t[t.length-1]}function lU(t,e){if(t.length<2)return{x:0,y:0};let i=t.length-1,s=null;const r=Ex(t);for(;i>=0&&(s=t[i],!(r.timestamp-s.timestamp>Cn(e)));)i--;if(!s)return{x:0,y:0};const u=sn(r.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const c={x:(r.x-s.x)/u,y:(r.y-s.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function uU(t,{min:e,max:i},s){return e!==void 0&&t<e?t=s?Qe(e,t,s.min):Math.max(t,e):i!==void 0&&t>i&&(t=s?Qe(i,t,s.max):Math.min(t,i)),t}function bv(t,e,i){return{min:e!==void 0?t.min+e:void 0,max:i!==void 0?t.max+i-(t.max-t.min):void 0}}function cU(t,{top:e,left:i,bottom:s,right:r}){return{x:bv(t.x,i,r),y:bv(t.y,e,s)}}function Mv(t,e){let i=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([i,s]=[s,i]),{min:i,max:s}}function fU(t,e){return{x:Mv(t.x,e.x),y:Mv(t.y,e.y)}}function dU(t,e){let i=.5;const s=Nt(t),r=Nt(e);return r>s?i=Ta(e.min,e.max-s,t.min):s>r&&(i=Ta(t.min,t.max-r,e.min)),Yn(0,1,i)}function hU(t,e){const i={};return e.min!==void 0&&(i.min=e.min-t.min),e.max!==void 0&&(i.max=e.max-t.min),i}const ad=.35;function mU(t=ad){return t===!1?t=0:t===!0&&(t=ad),{x:Nv(t,"left","right"),y:Nv(t,"top","bottom")}}function Nv(t,e,i){return{min:wv(t,e),max:wv(t,i)}}function wv(t,e){return typeof t=="number"?t:t[e]||0}const pU=new WeakMap;class gU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=lt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:i=!1,distanceThreshold:s}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const u=T=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(Ma(T).point)},c=(T,S)=>{const{drag:C,dragPropagation:_,onDragStart:w}=this.getProps();if(C&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bI(C),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),on(N=>{let G=this.getAxisMotionValue(N).get()||0;if(An.test(G)){const{projection:I}=this.visualElement;if(I&&I.layout){const F=I.layout.layoutBox[N];F&&(G=Nt(F)*(parseFloat(G)/100))}}this.originPoint[N]=G}),w&&Je.postRender(()=>w(T,S)),od(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},h=(T,S)=>{this.latestPointerEvent=T,this.latestPanInfo=S;const{dragPropagation:C,dragDirectionLock:_,onDirectionLock:w,onDrag:M}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:N}=S;if(_&&this.currentDirection===null){this.currentDirection=yU(N),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",S.point,N),this.updateAxis("y",S.point,N),this.visualElement.render(),M&&M(T,S)},g=(T,S)=>{this.latestPointerEvent=T,this.latestPanInfo=S,this.stop(T,S),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>on(T=>{var S;return this.getAnimationState(T)==="paused"&&((S=this.getAxisMotionValue(T).animation)==null?void 0:S.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new xx(e,{onSessionStart:u,onStart:c,onMove:h,onSessionEnd:g,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:Sx(this.visualElement)})}stop(e,i){const s=e||this.latestPointerEvent,r=i||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!r||!s)return;const{velocity:c}=r;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&Je.postRender(()=>h(s,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:i}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(e,i,s){const{drag:r}=this.getProps();if(!s||!Zr(e,r,this.currentDirection))return;const u=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=uU(c,this.constraints[e],this.elastic[e])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:e,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,r=this.constraints;e&&Jo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=cU(s.layoutBox,e):this.constraints=!1,this.elastic=mU(i),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&on(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=hU(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:i}=this.getProps();if(!e||!Jo(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const u=vk(s,r.root,this.visualElement.getTransformPagePoint());let c=fU(r.layout.layoutBox,u);if(i){const h=i(pk(c));this.hasMutatedConstraints=!!h,h&&(c=sx(h))}return c}startAnimation(e){const{drag:i,dragMomentum:s,dragElastic:r,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),g=this.constraints||{},m=on(y=>{if(!Zr(y,i,this.currentDirection))return;let T=g&&g[y]||{};c&&(T={min:0,max:0});const S=r?200:1e6,C=r?40:1e7,_={type:"inertia",velocity:s?e[y]:0,bounceStiffness:S,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...u,...T};return this.startAxisValueAnimation(y,_)});return Promise.all(m).then(h)}startAxisValueAnimation(e,i){const s=this.getAxisMotionValue(e);return od(this.visualElement,e),s.start(jd(e,s,0,i,this.visualElement,!1))}stopAnimation(){on(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){on(e=>{var i;return(i=this.getAxisMotionValue(e).animation)==null?void 0:i.pause()})}getAnimationState(e){var i;return(i=this.getAxisMotionValue(e).animation)==null?void 0:i.state}getAxisMotionValue(e){const i=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[i];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){on(i=>{const{drag:s}=this.getProps();if(!Zr(i,s,this.currentDirection))return;const{projection:r}=this.visualElement,u=this.getAxisMotionValue(i);if(r&&r.layout){const{min:c,max:h}=r.layout.layoutBox[i];u.set(e[i]-Qe(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:i}=this.getProps(),{projection:s}=this.visualElement;if(!Jo(i)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};on(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const g=h.get();r[c]=dU({min:g,max:g},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),on(c=>{if(!Zr(c,e,null))return;const h=this.getAxisMotionValue(c),{min:g,max:m}=this.constraints[c];h.set(Qe(g,m,r[c]))})}addListeners(){if(!this.visualElement.current)return;pU.set(this.visualElement,this);const e=this.visualElement.current,i=ga(e,"pointerdown",g=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&this.start(g)}),s=()=>{const{dragConstraints:g}=this.getProps();Jo(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,u=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Je.read(s);const c=Ca(window,"resize",()=>this.scalePositionWithinConstraints()),h=r.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:m})=>{this.isDragging&&m&&(on(y=>{const T=this.getAxisMotionValue(y);T&&(this.originPoint[y]+=g[y].translate,T.set(T.get()+g[y].translate))}),this.visualElement.render())}));return()=>{c(),i(),u(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:u=!1,dragElastic:c=ad,dragMomentum:h=!0}=e;return{...e,drag:i,dragDirectionLock:s,dragPropagation:r,dragConstraints:u,dragElastic:c,dragMomentum:h}}}function Zr(t,e,i){return(e===!0||e===t)&&(i===null||i===t)}function yU(t,e=10){let i=null;return Math.abs(t.y)>e?i="y":Math.abs(t.x)>e&&(i="x"),i}class vU extends Ai{constructor(e){super(e),this.removeGroupControls=rn,this.removeListeners=rn,this.controls=new gU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Rv=t=>(e,i)=>{t&&Je.postRender(()=>t(e,i))};class TU extends Ai{constructor(){super(...arguments),this.removePointerDownListener=rn}onPointerDown(e){this.session=new xx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Sx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:i,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:Rv(e),onStart:Rv(i),onMove:s,onEnd:(u,c)=>{delete this.session,r&&Je.postRender(()=>r(u,c))}}}mount(){this.removePointerDownListener=ga(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const sl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let gf=!1;class SU extends q.Component{componentDidMount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:s,layoutId:r}=this.props,{projection:u}=e;u&&(i.group&&i.group.add(u),s&&s.register&&r&&s.register(u),gf&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),sl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:i,visualElement:s,drag:r,isPresent:u}=this.props,{projection:c}=s;return c&&(c.isPresent=u,gf=!0,r||e.layoutDependency!==i||i===void 0||e.isPresent!==u?c.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?c.promote():c.relegate()||Je.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),qd.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:s}=this.props,{projection:r}=e;gf=!0,r&&(r.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Cx(t){const[e,i]=LI(),s=q.useContext(jT);return E.jsx(SU,{...t,layoutGroup:s,switchLayoutGroup:q.useContext(ix),isPresent:e,safeToRemove:i})}function xU(t,e,i){const s=At(t)?t:Zi(t);return s.start(jd("",s,e,i)),s.animation}const EU=(t,e)=>t.depth-e.depth;class CU{constructor(){this.children=[],this.isDirty=!1}add(e){Ad(this.children,e),this.isDirty=!0}remove(e){_d(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(EU),this.isDirty=!1,this.children.forEach(e)}}function AU(t,e){const i=zt.now(),s=({timestamp:r})=>{const u=r-i;u>=e&&(Kn(s),t(u-e))};return Je.setup(s,!0),()=>Kn(s)}const Ax=["TopLeft","TopRight","BottomLeft","BottomRight"],_U=Ax.length,Dv=t=>typeof t=="string"?parseFloat(t):t,Iv=t=>typeof t=="number"||pe.test(t);function bU(t,e,i,s,r,u){r?(t.opacity=Qe(0,i.opacity??1,MU(s)),t.opacityExit=Qe(e.opacity??1,0,NU(s))):u&&(t.opacity=Qe(e.opacity??1,i.opacity??1,s));for(let c=0;c<_U;c++){const h=`border${Ax[c]}Radius`;let g=kv(e,h),m=kv(i,h);if(g===void 0&&m===void 0)continue;g||(g=0),m||(m=0),g===0||m===0||Iv(g)===Iv(m)?(t[h]=Math.max(Qe(Dv(g),Dv(m),s),0),(An.test(m)||An.test(g))&&(t[h]+="%")):t[h]=m}(e.rotate||i.rotate)&&(t.rotate=Qe(e.rotate||0,i.rotate||0,s))}function kv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const MU=_x(0,.5,fS),NU=_x(.5,.95,rn);function _x(t,e,i){return s=>s<t?0:s>e?1:i(Ta(t,e,s))}function Uv(t,e){t.min=e.min,t.max=e.max}function hn(t,e){Uv(t.x,e.x),Uv(t.y,e.y)}function Vv(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Lv(t,e,i,s,r){return t-=e,t=gl(t,1/i,s),r!==void 0&&(t=gl(t,1/r,s)),t}function wU(t,e=0,i=1,s=.5,r,u=t,c=t){if(An.test(e)&&(e=parseFloat(e),e=Qe(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Qe(u.min,u.max,s);t===u&&(h-=e),t.min=Lv(t.min,e,i,h,r),t.max=Lv(t.max,e,i,h,r)}function Pv(t,e,[i,s,r],u,c){wU(t,e[i],e[s],e[r],e.scale,u,c)}const RU=["x","scaleX","originX"],DU=["y","scaleY","originY"];function zv(t,e,i,s){Pv(t.x,e,RU,i?i.x:void 0,s?s.x:void 0),Pv(t.y,e,DU,i?i.y:void 0,s?s.y:void 0)}function Gv(t){return t.translate===0&&t.scale===1}function bx(t){return Gv(t.x)&&Gv(t.y)}function Hv(t,e){return t.min===e.min&&t.max===e.max}function IU(t,e){return Hv(t.x,e.x)&&Hv(t.y,e.y)}function Bv(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Mx(t,e){return Bv(t.x,e.x)&&Bv(t.y,e.y)}function qv(t){return Nt(t.x)/Nt(t.y)}function Ov(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class kU{constructor(){this.members=[]}add(e){Ad(this.members,e),e.scheduleRender()}remove(e){if(_d(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(e){const i=this.members.findIndex(r=>e===r);if(i===0)return!1;let s;for(let r=i;r>=0;r--){const u=this.members[r];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(e,i){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,i&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:i,resumingFrom:s}=e;i.onExitComplete&&i.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function UU(t,e,i){let s="";const r=t.x.translate/e.x,u=t.y.translate/e.y,c=(i==null?void 0:i.z)||0;if((r||u||c)&&(s=`translate3d(${r}px, ${u}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),i){const{transformPerspective:m,rotate:y,rotateX:T,rotateY:S,skewX:C,skewY:_}=i;m&&(s=`perspective(${m}px) ${s}`),y&&(s+=`rotate(${y}deg) `),T&&(s+=`rotateX(${T}deg) `),S&&(s+=`rotateY(${S}deg) `),C&&(s+=`skewX(${C}deg) `),_&&(s+=`skewY(${_}deg) `)}const h=t.x.scale*e.x,g=t.y.scale*e.y;return(h!==1||g!==1)&&(s+=`scale(${h}, ${g})`),s||"none"}const yf=["","X","Y","Z"],VU=1e3;let LU=0;function vf(t,e,i,s){const{latestValues:r}=e;r[t]&&(i[t]=r[t],e.setStaticValue(t,0),s&&(s[t]=0))}function Nx(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const i=hx(e);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:r,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",Je,!(r||u))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&Nx(s)}function wx({attachResizeListener:t,defaultParent:e,measureScroll:i,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(c={},h=e==null?void 0:e()){this.id=LU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(GU),this.nodes.forEach(OU),this.nodes.forEach(FU),this.nodes.forEach(HU)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new CU)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Nd),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const g=this.eventHandlers.get(c);g&&g.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=YS(c)&&!II(c),this.instance=c;const{layoutId:h,layout:g,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||h)&&(this.isLayoutDirty=!0),t){let y,T=0;const S=()=>this.root.updateBlockedByResize=!1;Je.read(()=>{T=window.innerWidth}),t(c,()=>{const C=window.innerWidth;C!==T&&(T=C,this.root.updateBlockedByResize=!0,y&&y(),y=AU(S,250),sl.hasAnimatedSinceResize&&(sl.hasAnimatedSinceResize=!1,this.nodes.forEach(Jv)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||g)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:T,hasRelativeLayoutChanged:S,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||m.getDefaultTransition()||QU,{onLayoutAnimationStart:w,onLayoutAnimationComplete:M}=m.getProps(),N=!this.targetLayout||!Mx(this.targetLayout,C),G=!T&&S;if(this.options.layoutRoot||this.resumeFrom||G||T&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const I={...Hd(_,"layout"),onPlay:w,onComplete:M};(m.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I),this.setAnimationOrigin(y,G)}else T||Jv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Kn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(YU),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Nx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const T=this.path[y];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:h,layout:g}=this.options;if(h===void 0&&!g)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Fv);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Yv);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(qU),this.nodes.forEach(PU),this.nodes.forEach(zU)):this.nodes.forEach(Yv),this.clearAllSnapshots();const h=zt.now();vt.delta=Yn(0,1e3/60,h-vt.timestamp),vt.timestamp=h,vt.isProcessing=!0,af.update.process(vt),af.preRender.process(vt),af.render.process(vt),vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(BU),this.sharedNodes.forEach(JU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Nt(this.snapshot.measuredBox.x)&&!Nt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const g=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:g,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!r)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!bx(this.projectionDelta),g=this.getTransformTemplate(),m=g?g(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;c&&this.instance&&(h||Yi(this.latestValues)||y)&&(r(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let g=this.removeElementScroll(h);return c&&(g=this.removeTransform(g)),$U(g),{animationId:this.root.animationId,measuredBox:h,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return lt();const h=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(ZU))){const{scroll:y}=this.root;y&&(Ko(h.x,y.offset.x),Ko(h.y,y.offset.y))}return h}removeElementScroll(c){var g;const h=lt();if(hn(h,c),(g=this.scroll)!=null&&g.wasRoot)return h;for(let m=0;m<this.path.length;m++){const y=this.path[m],{scroll:T,options:S}=y;y!==this.root&&T&&S.layoutScroll&&(T.wasRoot&&hn(h,c),Ko(h.x,T.offset.x),Ko(h.y,T.offset.y))}return h}applyTransform(c,h=!1){const g=lt();hn(g,c);for(let m=0;m<this.path.length;m++){const y=this.path[m];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Xo(g,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Yi(y.latestValues)&&Xo(g,y.latestValues)}return Yi(this.latestValues)&&Xo(g,this.latestValues),g}removeTransform(c){const h=lt();hn(h,c);for(let g=0;g<this.path.length;g++){const m=this.path[g];if(!m.instance||!Yi(m.latestValues))continue;ed(m.latestValues)&&m.updateSnapshot();const y=lt(),T=m.measurePageBox();hn(y,T),zv(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return Yi(this.latestValues)&&zv(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var C;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==h;if(!(c||g&&this.isSharedProjectionDirty||this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:T}=this.options;if(!this.layout||!(y||T))return;this.resolvedRelativeTargetAt=vt.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=lt(),this.targetWithTransforms=lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hn(this.target,this.layout.layoutBox),rx(this.target,this.targetDelta)):hn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ed(this.parent.latestValues)||ax(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,g){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),yl(this.relativeTargetOrigin,h,g),hn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var _;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let g=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(g=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===vt.timestamp&&(g=!1),g)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;hn(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,S=this.treeScale.y;yk(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=lt());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Vv(this.prevProjectionDelta.x,this.projectionDelta.x),Vv(this.prevProjectionDelta.y,this.projectionDelta.y)),ya(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==S||!Ov(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ov(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qo(),this.projectionDelta=Qo(),this.projectionDeltaWithTransform=Qo()}setAnimationOrigin(c,h=!1){const g=this.snapshot,m=g?g.latestValues:{},y={...this.latestValues},T=Qo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const S=lt(),C=g?g.source:void 0,_=this.layout?this.layout.source:void 0,w=C!==_,M=this.getStack(),N=!M||M.members.length<=1,G=!!(w&&!N&&this.options.crossfade===!0&&!this.path.some(XU));this.animationProgress=0;let I;this.mixTargetDelta=F=>{const Y=F/1e3;Kv(T.x,c.x,Y),Kv(T.y,c.y,Y),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yl(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KU(this.relativeTarget,this.relativeTargetOrigin,S,Y),I&&IU(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=lt()),hn(I,this.relativeTarget)),w&&(this.animationValues=y,bU(y,m,this.latestValues,Y,G,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var h,g,m;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(m=(g=this.resumingFrom)==null?void 0:g.currentAnimation)==null||m.stop(),this.pendingAnimation&&(Kn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Je.update(()=>{sl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Zi(0)),this.currentAnimation=xU(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(VU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:g,layout:m,latestValues:y}=c;if(!(!h||!g||!m)){if(this!==c&&this.layout&&m&&Rx(this.options.animationType,this.layout.layoutBox,m.layoutBox)){g=this.target||lt();const T=Nt(this.layout.layoutBox.x);g.x.min=c.target.x.min,g.x.max=g.x.min+T;const S=Nt(this.layout.layoutBox.y);g.y.min=c.target.y.min,g.y.max=g.y.min+S}hn(h,g),Xo(h,y),ya(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new kU),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:g}={}){const m=this.getStack();m&&m.promote(this,g),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:g}=c;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(h=!0),!h)return;const m={};g.z&&vf("z",c,m,this.animationValues);for(let y=0;y<yf.length;y++)vf(`rotate${yf[y]}`,c,m,this.animationValues),vf(`skew${yf[y]}`,c,m,this.animationValues);c.render();for(const y in m)c.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=ol(h==null?void 0:h.pointerEvents)||"",c.transform=g?g(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=ol(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Yi(this.latestValues)&&(c.transform=g?g({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=m.animationValues||m.latestValues;this.applyTransformsToTarget();let T=UU(this.projectionDeltaWithTransform,this.treeScale,y);g&&(T=g(y,T)),c.transform=T;const{x:S,y:C}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${C.origin*100}% 0`,m.animationValues?c.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const _ in jf){if(y[_]===void 0)continue;const{correct:w,applyTo:M,isCSSVariable:N}=jf[_],G=T==="none"?y[_]:w(y[_],m);if(M){const I=M.length;for(let F=0;F<I;F++)c[M[F]]=G}else N?this.options.visualElement.renderState.vars[_]=G:c[_]=G}this.options.layoutId&&(c.pointerEvents=m===this?ol(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(Fv),this.root.sharedNodes.clear()}}}function PU(t){t.updateLayout()}function zU(t){var i;const e=((i=t.resumeFrom)==null?void 0:i.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:u}=t.options,c=e.source!==t.layout.source;u==="size"?on(T=>{const S=c?e.measuredBox[T]:e.layoutBox[T],C=Nt(S);S.min=s[T].min,S.max=S.min+C}):Rx(u,e.layoutBox,s)&&on(T=>{const S=c?e.measuredBox[T]:e.layoutBox[T],C=Nt(s[T]);S.max=S.min+C,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[T].max=t.relativeTarget[T].min+C)});const h=Qo();ya(h,s,e.layoutBox);const g=Qo();c?ya(g,t.applyTransform(r,!0),e.measuredBox):ya(g,s,e.layoutBox);const m=!bx(h);let y=!1;if(!t.resumeFrom){const T=t.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:S,layout:C}=T;if(S&&C){const _=lt();yl(_,e.layoutBox,S.layoutBox);const w=lt();yl(w,s,C.layoutBox),Mx(_,w)||(y=!0),T.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=_,t.relativeParent=T)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:g,layoutDelta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function GU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function HU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function BU(t){t.clearSnapshot()}function Fv(t){t.clearMeasurements()}function Yv(t){t.isLayoutDirty=!1}function qU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Jv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function OU(t){t.resolveTargetDelta()}function FU(t){t.calcProjection()}function YU(t){t.resetSkewAndRotation()}function JU(t){t.removeLeadSnapshot()}function Kv(t,e,i){t.translate=Qe(e.translate,0,i),t.scale=Qe(e.scale,1,i),t.origin=e.origin,t.originPoint=e.originPoint}function Xv(t,e,i,s){t.min=Qe(e.min,i.min,s),t.max=Qe(e.max,i.max,s)}function KU(t,e,i,s){Xv(t.x,e.x,i.x,s),Xv(t.y,e.y,i.y,s)}function XU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const QU={duration:.45,ease:[.4,0,.1,1]},Qv=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),$v=Qv("applewebkit/")&&!Qv("chrome/")?Math.round:rn;function Zv(t){t.min=$v(t.min),t.max=$v(t.max)}function $U(t){Zv(t.x),Zv(t.y)}function Rx(t,e,i){return t==="position"||t==="preserve-aspect"&&!oU(qv(e),qv(i),.2)}function ZU(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const WU=wx({attachResizeListener:(t,e)=>Ca(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tf={current:void 0},Dx=wx({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Tf.current){const t=new WU({});t.mount(window),t.setOptions({layoutScroll:!0}),Tf.current=t}return Tf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),jU={pan:{Feature:TU},drag:{Feature:vU,ProjectionNode:Dx,MeasureLayout:Cx}};function Wv(t,e,i){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",i==="Start");const r="onHover"+i,u=s[r];u&&Je.postRender(()=>u(e,Ma(e)))}class e3 extends Ai{mount(){const{current:e}=this.node;e&&(this.unmount=MI(e,(i,s)=>(Wv(this.node,s,"Start"),r=>Wv(this.node,r,"End"))))}unmount(){}}class t3 extends Ai{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Aa(Ca(this.node.current,"focus",()=>this.onFocus()),Ca(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jv(t,e,i){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",i==="Start");const r="onTap"+(i==="End"?"":i),u=s[r];u&&Je.postRender(()=>u(e,Ma(e)))}class n3 extends Ai{mount(){const{current:e}=this.node;e&&(this.unmount=DI(e,(i,s)=>(jv(this.node,s,"Start"),(r,{success:u})=>jv(this.node,r,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const rd=new WeakMap,Sf=new WeakMap,i3=t=>{const e=rd.get(t.target);e&&e(t)},o3=t=>{t.forEach(i3)};function s3({root:t,...e}){const i=t||document;Sf.has(i)||Sf.set(i,{});const s=Sf.get(i),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(o3,{root:t,...e})),s[r]}function a3(t,e,i){const s=s3(e);return rd.set(t,i),s.observe(t),()=>{rd.delete(t),s.unobserve(t)}}const r3={some:0,all:1};class l3 extends Ai{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:i,margin:s,amount:r="some",once:u}=e,c={root:i?i.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:r3[r]},h=g=>{const{isIntersecting:m}=g;if(this.isInView===m||(this.isInView=m,u&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:T}=this.node.getProps(),S=m?y:T;S&&S(g)};return a3(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:i}=this.node;["amount","margin","root"].some(u3(e,i))&&this.startObserver()}unmount(){}}function u3({viewport:t={}},{viewport:e={}}={}){return i=>t[i]!==e[i]}const c3={inView:{Feature:l3},tap:{Feature:n3},focus:{Feature:t3},hover:{Feature:e3}},f3={layout:{ProjectionNode:Dx,MeasureLayout:Cx}},d3={...Wk,...c3,...jU,...f3},Wr=mk(d3,Mk);function ld(t){const e=xd(()=>Zi(t)),{isStatic:i}=q.useContext(Fd);if(i){const[,s]=q.useState(t);q.useEffect(()=>e.on("change",s),[])}return e}function Ix(t,e){const i=ld(e()),s=()=>i.set(e());return s(),eS(()=>{const r=()=>Je.preRender(s,!1,!0),u=t.map(c=>c.on("change",r));return()=>{u.forEach(c=>c()),Kn(s)}}),i}function h3(t){pa.current=[],t();const e=Ix(pa.current,t);return pa.current=void 0,e}function la(t,e,i,s){if(typeof t=="function")return h3(t);const r=typeof e=="function"?e:kI(e,i,s);return Array.isArray(t)?eT(t,r):eT([t],([u])=>r(u))}function eT(t,e){const i=xd(()=>[]);return Ix(t,()=>{i.length=0;const s=t.length;for(let r=0;r<s;r++)i[r]=t[r].get();return e(i)})}const m3=({card:t,onSwipe:e,swapSides:i=!1})=>{const[s,r]=q.useState(!1),u=ld(0),c=ld(0),h=la(u,[-200,200],[-25,25]),g=la(u,[-200,-150,0,150,200],[0,1,1,1,0]),m=la(u,[0,150],[0,.5]),y=la(u,[-150,0],[.5,0]),T=la(c,[-150,0],[.5,0]),S=(N,G)=>{G.offset.x>100?e(Xi.RIGHT):G.offset.x<-100?e(Xi.LEFT):G.offset.y<-100?e(Xi.UP):(Math.abs(G.offset.x)>5||Math.abs(G.offset.y)>5)&&r(F=>!F)},C=i?t.definition:t.term,_=i?t.term:t.definition,w=i?"Definition":"Begriff",M=i?"Begriff":"Definition";return E.jsx("div",{className:"relative w-full max-w-sm h-96 perspective-1000",children:E.jsxs(Wr.div,{className:"w-full h-full relative preserve-3d cursor-grab active:cursor-grabbing",style:{x:u,y:c,rotate:h,opacity:g},drag:!0,dragConstraints:{left:0,right:0,top:0,bottom:0},dragElastic:.7,onDragEnd:S,onClick:()=>r(!s),transition:{type:"spring",stiffness:300,damping:20},initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},children:[E.jsxs("div",{className:`absolute w-full h-full bg-white dark:bg-gray-800 rounded-2xl shadow-xl backface-hidden flex flex-col items-center justify-center p-8 border border-gray-100 dark:border-gray-700 transition-all duration-500 ${s?"rotate-y-180 opacity-0 pointer-events-none":"opacity-100"}`,children:[E.jsx("span",{className:"absolute top-4 left-6 text-[10px] uppercase tracking-wider text-gray-400 font-bold",children:w}),E.jsx("h3",{className:"text-3xl font-bold text-gray-800 dark:text-white text-center select-none overflow-y-auto max-h-[60%] w-full no-scrollbar",children:C})]}),E.jsxs("div",{className:`absolute w-full h-full bg-blue-50 dark:bg-gray-800 rounded-2xl shadow-xl backface-hidden rotate-y-180 flex flex-col items-center justify-center p-8 border border-blue-100 dark:border-gray-600 transition-all duration-500 ${s?"opacity-100":"opacity-0 pointer-events-none"}`,children:[E.jsx("span",{className:"absolute top-4 left-6 text-[10px] uppercase tracking-wider text-blue-400 font-bold",children:M}),E.jsxs("div",{className:"overflow-y-auto no-scrollbar w-full h-full flex flex-col items-center justify-center text-center",children:[E.jsx("p",{className:"text-2xl font-medium text-gray-800 dark:text-gray-200 select-none",children:_}),t.exampleSentence&&E.jsxs("p",{className:"mt-4 text-sm text-gray-500 italic",children:['"',t.exampleSentence,'"']})]})]}),E.jsx(Wr.div,{style:{opacity:m},className:"absolute inset-0 bg-green-500 rounded-2xl pointer-events-none z-10 flex items-center justify-center",children:E.jsx("span",{className:"text-white text-4xl font-bold select-none",children:"GEWUSST"})}),E.jsx(Wr.div,{style:{opacity:y},className:"absolute inset-0 bg-red-500 rounded-2xl pointer-events-none z-10 flex items-center justify-center",children:E.jsx("span",{className:"text-white text-4xl font-bold select-none",children:"WIEDERHOLEN"})}),E.jsx(Wr.div,{style:{opacity:T},className:"absolute inset-0 bg-yellow-400 rounded-2xl pointer-events-none z-10 flex items-center justify-center",children:E.jsx("span",{className:"text-white text-4xl font-bold select-none",children:"TEILWEISE"})})]})})},p3=async(t,e)=>{const i=atob(t),s=i.length,r=new Uint8Array(s);for(let g=0;g<s;g++)r[g]=i.charCodeAt(g);const u=new Int16Array(r.buffer),c=e.createBuffer(1,u.length,24e3),h=c.getChannelData(0);for(let g=0;g<u.length;g++)h[g]=u[g]/32768;return c},g3=({onClose:t})=>{const[e,i]=q.useState(!1),[s,r]=q.useState("idle"),[u,c]=q.useState(0),h=q.useRef(null),g=q.useRef(null),m=q.useRef(null),y=q.useRef(0),T=async()=>{try{r("connecting");const C=window.AudioContext||window.webkitAudioContext,_=new C({sampleRate:24e3});g.current=_,m.current=_.createGain(),m.current.connect(_.destination),y.current=_.currentTime;const w=new TR({onOpen:()=>{r("connected"),i(!0)},onAudioData:async N=>{if(!g.current||!m.current)return;c(Math.random()*.5+.5),setTimeout(()=>c(0),200);const G=await p3(N,g.current),I=g.current.createBufferSource();I.buffer=G,I.connect(m.current);const F=g.current.currentTime,Y=Math.max(y.current,F);I.start(Y),y.current=Y+G.duration},onClose:()=>{r("idle"),i(!1)},onError:N=>{console.error("Live session error",N),r("error"),i(!1)}}),M=new C({sampleRate:16e3});await w.connect(M),h.current=w}catch(C){console.error("Failed to start live session",C),r("error")}},S=()=>{g.current&&g.current.close(),i(!1),r("idle")};return q.useEffect(()=>()=>{S()},[]),E.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:E.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden flex flex-col items-center p-8 relative border border-gray-200 dark:border-gray-700 transition-colors",children:[E.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition",children:E.jsx(es,{size:24})}),E.jsxs("div",{className:"mb-8 text-center",children:[E.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Gesprchsbung"}),E.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Sprich natrlich, um deine Aussprache zu ben."})]}),E.jsx("div",{className:`w-32 h-32 rounded-full flex items-center justify-center transition-all duration-300 ${e?"bg-blue-50 dark:bg-blue-900/20":"bg-gray-100 dark:bg-gray-700"}`,children:E.jsx("div",{className:"rounded-full bg-blue-500 transition-all duration-100 ease-linear shadow-lg shadow-blue-500/30 flex items-center justify-center",style:{width:e?`${60+u*60}px`:"64px",height:e?`${60+u*60}px`:"64px"},children:e?E.jsx(LD,{className:"text-white",size:32}):E.jsx(By,{className:"text-white/50",size:32})})}),E.jsxs("div",{className:"mt-8 mb-4",children:[s==="connecting"&&E.jsx("span",{className:"text-blue-500 animate-pulse font-medium",children:"Verbinde mit Gemini..."}),s==="error"&&E.jsx("span",{className:"text-red-500 font-medium",children:"Verbindung fehlgeschlagen. Versuche es erneut."}),s==="connected"&&E.jsx("span",{className:"text-green-500 font-medium",children:"Hre zu..."}),s==="idle"&&E.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:"Bereit zum Start"})]}),e?E.jsxs("button",{onClick:S,className:"w-full bg-red-100 hover:bg-red-200 dark:bg-red-900/30 dark:hover:bg-red-900/50 text-red-600 dark:text-red-400 font-bold py-3 px-6 rounded-xl transition flex items-center justify-center gap-2",children:[E.jsx(By,{size:20})," Sitzung beenden"]}):E.jsxs("button",{onClick:T,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-xl transition flex items-center justify-center gap-2",children:[E.jsx(Sd,{size:20})," Gesprch starten"]})]})})},y3=({isOpen:t,onClose:e})=>{const[i,s]=q.useState([{id:"1",role:"model",text:"Hallo! Ich kann dir helfen, Wrter, Grammatik oder Anwendungen zu verstehen. Frag mich einfach!"}]),[r,u]=q.useState(""),[c,h]=q.useState(!1),g=q.useRef(null);q.useEffect(()=>{g.current&&(g.current.scrollTop=g.current.scrollHeight)},[i]);const m=async()=>{if(!r.trim())return;const y={id:Date.now().toString(),role:"user",text:r};s(_=>[..._,y]),u(""),h(!0);const T=i.map(_=>({role:_.role,parts:[{text:_.text}]})),S=await vR(y.text,T),C={id:(Date.now()+1).toString(),role:"model",text:S};s(_=>[..._,C]),h(!1)};return t?E.jsxs("div",{className:"fixed bottom-4 right-4 w-96 h-[500px] bg-white dark:bg-gray-800 rounded-xl shadow-2xl flex flex-col border border-gray-200 dark:border-gray-700 z-40 overflow-hidden font-sans transition-colors",children:[E.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-4 flex justify-between items-center text-white",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(AD,{size:18}),E.jsx("span",{className:"font-semibold",children:"KI Assistent"})]}),E.jsx("button",{onClick:e,className:"hover:bg-white/20 p-1 rounded transition",children:E.jsx(es,{size:18})})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 dark:bg-gray-900",ref:g,children:[i.map(y=>E.jsx("div",{className:`flex ${y.role==="user"?"justify-end":"justify-start"}`,children:E.jsx("div",{className:`max-w-[80%] rounded-2xl p-3 text-sm ${y.role==="user"?"bg-blue-600 text-white rounded-br-none":"bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 text-gray-800 dark:text-gray-100 rounded-bl-none shadow-sm"}`,children:y.text})},y.id)),c&&E.jsx("div",{className:"flex justify-start",children:E.jsx("div",{className:"bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-2xl rounded-bl-none p-3 shadow-sm",children:E.jsxs("div",{className:"flex gap-1",children:[E.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),E.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-100"}),E.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-200"})]})})})]}),E.jsx("div",{className:"p-4 bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("input",{type:"text",className:"flex-1 px-4 py-2 border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-800 dark:text-white rounded-full focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition text-sm placeholder-gray-400 dark:placeholder-gray-500",placeholder:"Stelle eine Frage...",value:r,onChange:y=>u(y.target.value),onKeyDown:y=>y.key==="Enter"&&m()}),E.jsx("button",{onClick:m,disabled:!r.trim()||c,className:"bg-blue-600 text-white p-2 rounded-full hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:E.jsx(gD,{size:18})})]})})]}):null},v3=({onLogin:t,onRestore:e})=>{const[i,s]=q.useState("Flix"),[r,u]=q.useState(""),[c,h]=q.useState(""),[g,m]=q.useState(!0),y=q.useRef(null),T=C=>{if(C.preventDefault(),g){if(!i.trim())return;const _=i.includes("@"),w=_?i.split("@")[0]:i,M={id:i.toLowerCase().replace(/[^a-z0-9]/g,""),email:_?i:`${w.toLowerCase()}@example.com`,name:w,avatar:`https://api.dicebear.com/7.x/initials/svg?seed=${w}`};t(M)}else{if(!r.trim()||!c.trim())return;const _={id:r.toLowerCase().replace(/[^a-z0-9]/g,""),email:c,name:r,avatar:`https://api.dicebear.com/7.x/initials/svg?seed=${r}`};t(_)}},S=C=>{var w;const _=(w=C.target.files)==null?void 0:w[0];_&&e(_)};return E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4",children:E.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-md p-8 border border-gray-100 dark:border-gray-700",children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("div",{className:"bg-blue-600 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-blue-600/30",children:E.jsx(ZT,{className:"text-white w-8 h-8"})}),E.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Willkommen bei Fix Learn"}),E.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:g?"Melde dich an, um fortzufahren":"Erstelle ein neues Konto"})]}),E.jsxs("form",{onSubmit:T,className:"space-y-4",children:[g?E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Benutzername oder E-Mail"}),E.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-3 rounded-lg bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 outline-none transition text-gray-900 dark:text-white placeholder-gray-400",placeholder:"Benutzername oder E-Mail",value:i,onChange:C=>s(C.target.value)})]}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Benutzername"}),E.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-3 rounded-lg bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 outline-none transition text-gray-900 dark:text-white placeholder-gray-400",placeholder:"Dein Benutzername",value:r,onChange:C=>u(C.target.value)})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"E-Mail"}),E.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-3 rounded-lg bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 outline-none transition text-gray-900 dark:text-white placeholder-gray-400",placeholder:"name@beispiel.de",value:c,onChange:C=>h(C.target.value)})]})]}),E.jsxs("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg transition flex items-center justify-center gap-2 mt-6",children:[g?"Anmelden":"Registrieren"," ",E.jsx(MR,{size:20})]})]}),E.jsxs("div",{className:"my-6 flex items-center gap-4",children:[E.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-700 flex-1"}),E.jsx("span",{className:"text-xs text-gray-400 uppercase",children:"Oder"}),E.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-700 flex-1"})]}),E.jsx("input",{type:"file",ref:y,onChange:S,accept:".json",className:"hidden"}),E.jsxs("button",{onClick:()=>{var C;return(C=y.current)==null?void 0:C.click()},className:"w-full bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 font-semibold py-3 rounded-lg transition flex items-center justify-center gap-2 text-sm",children:[E.jsx(KR,{size:18}),"Backup wiederherstellen (Gertewechsel)"]}),E.jsx("div",{className:"mt-6 text-center",children:E.jsx("button",{onClick:()=>m(!g),className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:g?"Noch kein Konto? Registrieren":"Bereits ein Konto? Anmelden"})}),E.jsx("p",{className:"mt-8 text-xs text-center text-gray-400",children:'Hinweis: Um deine Daten auf einem anderen Gert zu nutzen, verwende bitte die "Backup wiederherstellen" Funktion mit deiner Backup-Datei.'})]})})},T3=({deck:t,availableCourses:e,availableFolders:i,onStartStudy:s,onRenameDeck:r,onAddToCourse:u,onAddToFolder:c,onBack:h,onDelete:g,onUpdateCard:m,onDeleteCard:y})=>{const[T,S]=q.useState(!1),[C,_]=q.useState(new Set),[w,M]=q.useState(!1),[N,G]=q.useState(t.name),[I,F]=q.useState(null),[Y,j]=q.useState(""),[Q,$]=q.useState(""),Z=t.cards.filter(V=>V.status==="known").length,ne=Math.round(Z/t.cards.length*100)||0,ue=()=>{C.size===t.cards.length?_(new Set):_(new Set(t.cards.map(V=>V.id)))},Ae=V=>{const W=new Set(C);W.has(V)?W.delete(V):W.add(V),_(W)},ge=()=>{C.size>0?s(Array.from(C)):s(void 0)},Me=(V,W)=>{W.stopPropagation(),F(V),j(V.term),$(V.definition)},qe=()=>{I&&Y&&Q&&(m({...I,term:Y,definition:Q}),F(null))},k=()=>{N.trim()&&(r(N.trim()),M(!1))};return E.jsxs("div",{className:"max-w-4xl mx-auto",children:[E.jsxs("button",{onClick:h,className:"flex items-center gap-2 text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white mb-6 transition",children:[E.jsx(QT,{size:20})," Zurck"]}),E.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-8 mb-8 relative",children:E.jsxs("div",{className:"relative z-10",children:[E.jsxs("div",{className:"flex justify-between items-start mb-6",children:[E.jsxs("div",{className:"flex-1 mr-4",children:[w?E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("input",{className:"text-3xl font-bold text-gray-900 dark:text-white bg-transparent border-b-2 border-blue-500 outline-none w-full",value:N,onChange:V=>G(V.target.value),autoFocus:!0,onKeyDown:V=>V.key==="Enter"&&k()}),E.jsx("button",{onClick:k,className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:E.jsx(Pf,{size:20})})]}):E.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:t.name}),E.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:[t.cards.length," Begriffe  Erstellt am ",new Date(t.createdAt).toLocaleDateString()]})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>{G(t.name),M(!0)},className:"p-2 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition",title:"Titel Bearbeiten",children:E.jsx(Lf,{size:20})}),E.jsx("button",{onClick:()=>{window.confirm("Mchtest du dieses Set wirklich lschen?")&&g()},className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition",title:"Set Lschen",children:E.jsx(fl,{size:20})})]})]}),E.jsxs("div",{className:"flex flex-wrap gap-4 mb-8 items-center",children:[E.jsxs("button",{onClick:ge,disabled:t.cards.length===0,className:"bg-blue-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-blue-700 transition shadow-lg shadow-blue-600/20 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[E.jsx(rD,{size:20,fill:"currentColor"}),C.size>0?`Lernen (${C.size})`:"Alles lernen"]}),E.jsxs("div",{className:"relative",children:[E.jsxs("button",{onClick:()=>S(!T),className:"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 px-4 py-2 rounded-lg font-medium transition flex items-center gap-2 border border-gray-200 dark:border-gray-600 text-sm",children:[E.jsx(Gy,{size:16})," Zu Kurs/Ordner"]}),T&&E.jsx("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-100 dark:border-gray-600 z-50 overflow-hidden animate-in fade-in zoom-in-95",children:E.jsxs("div",{className:"max-h-60 overflow-y-auto",children:[E.jsx("div",{className:"p-3 border-b border-gray-100 dark:border-gray-700 text-xs font-semibold text-gray-500 uppercase",children:"Kurse"}),e.length>0?e.map(V=>E.jsxs("button",{onClick:()=>{u(V.id),S(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 text-sm text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[E.jsx(RR,{size:14})," ",V.name]},V.id)):E.jsx("div",{className:"p-3 text-sm text-gray-400 text-center italic",children:"Keine Kurse"}),E.jsx("div",{className:"p-3 border-b border-gray-100 dark:border-gray-700 border-t text-xs font-semibold text-gray-500 uppercase",children:"Ordner"}),i.length>0?i.map(V=>E.jsxs("button",{onClick:()=>{c(V.id),S(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 text-sm text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[E.jsx(Gy,{size:14})," ",V.name]},V.id)):E.jsx("div",{className:"p-3 text-sm text-gray-400 text-center italic",children:"Keine Ordner"})]})})]})]}),E.jsx("div",{className:"w-full bg-gray-100 dark:bg-gray-700 h-3 rounded-full overflow-hidden mb-2",children:E.jsx("div",{className:"bg-green-500 h-full transition-all duration-1000",style:{width:`${ne}%`}})}),E.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-right",children:[ne,"% beherrscht"]})]})}),E.jsxs("div",{className:"grid gap-4",children:[E.jsxs("div",{className:"flex justify-between items-center mb-2",children:[E.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Begriffe in diesem Set (",t.cards.length,")"]}),E.jsx("button",{onClick:ue,className:"text-sm font-medium text-blue-600 dark:text-blue-400 hover:underline",children:C.size===t.cards.length?"Alle abwhlen":"Alle auswhlen"})]}),t.cards.length===0&&E.jsx("div",{className:"text-center py-8 text-gray-400",children:"Keine Karten vorhanden."}),t.cards.map((V,W)=>{const ae=C.has(V.id);return E.jsxs("div",{className:`bg-white dark:bg-gray-800 p-4 rounded-xl border flex justify-between items-center group cursor-pointer transition-colors ${ae?"border-blue-500 dark:border-blue-500 ring-1 ring-blue-500":"border-gray-100 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-700"}`,onClick:()=>Ae(V.id),children:[E.jsxs("div",{className:"flex items-center gap-4 flex-1 pr-4",children:[E.jsx("div",{className:`flex-shrink-0 text-gray-400 ${ae?"text-blue-600":""}`,children:ae?E.jsx(bD,{size:24}):E.jsx(WT,{size:24})}),E.jsxs("div",{className:"flex-1",children:[E.jsx("span",{className:"text-xs font-mono text-gray-400 mb-1 block",children:W+1}),E.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:V.term}),E.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:V.definition})]})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:`w-3 h-3 rounded-full flex-shrink-0 mr-2 ${V.status==="known"?"bg-green-500":V.status==="half-known"?"bg-yellow-400":"bg-gray-300 dark:bg-gray-600"}`}),E.jsx("button",{onClick:fe=>Me(V,fe),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition",children:E.jsx(Lf,{size:16})}),E.jsx("button",{onClick:fe=>{fe.stopPropagation(),window.confirm("Karte lschen?")&&y(V.id)},className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition",children:E.jsx(fl,{size:16})})]})]},V.id)})]}),I&&E.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>F(null),children:E.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-md shadow-xl",onClick:V=>V.stopPropagation(),children:[E.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-900 dark:text-white",children:"Karte bearbeiten"}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Begriff (Vorne)"}),E.jsx("input",{className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-transparent text-gray-900 dark:text-white",value:Y,onChange:V=>j(V.target.value)})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Definition (Hinten)"}),E.jsx("textarea",{className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-transparent text-gray-900 dark:text-white h-24",value:Q,onChange:V=>$(V.target.value)})]})]}),E.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[E.jsx("button",{onClick:()=>F(null),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:"Abbrechen"}),E.jsxs("button",{onClick:qe,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[E.jsx(Pf,{size:16})," Speichern"]})]})]})})]})},S3=({course:t,decks:e,allDecks:i,currentUser:s,onOpenDeck:r,onBack:u,onDeleteCourse:c,onAddMember:h,onRemoveDeck:g,onAddDeckToCourse:m,onExportCourse:y})=>{const[T,S]=q.useState(!1),[C,_]=q.useState(""),[w,M]=q.useState(!1),N=I=>{I.preventDefault(),C.trim()&&(h(t.id,C.trim()),_(""),S(!1))},G=i.filter(I=>!t.deckIds.includes(I.id));return E.jsxs("div",{className:"max-w-5xl mx-auto pb-12",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsxs("button",{onClick:u,className:"flex items-center gap-2 text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white transition",children:[E.jsx(QT,{size:20})," Zurck"]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{onClick:()=>y(t),className:"flex items-center gap-2 px-4 py-2 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 rounded-lg hover:bg-indigo-200 dark:hover:bg-indigo-900/50 transition font-medium text-sm",title:"Kurs teilen (Export)",children:[E.jsx(SD,{size:18})," Teilen"]}),E.jsxs("button",{onClick:()=>c(t.id),className:"flex items-center gap-2 px-4 py-2 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/40 transition font-medium text-sm",title:"Kurs lschen",children:[E.jsx(fl,{size:18})," Lschen"]})]})]}),E.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-700 rounded-2xl shadow-lg p-8 mb-8 text-white relative overflow-hidden",children:[E.jsxs("div",{className:"relative z-10",children:[E.jsx("h1",{className:"text-3xl font-bold mb-2",children:t.name}),E.jsx("p",{className:"text-indigo-100 max-w-2xl mb-6",children:t.description||"Gemeinsamer Lernbereich"}),E.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-sm font-medium",children:[E.jsxs("div",{className:"flex items-center gap-2 bg-white/10 px-3 py-1.5 rounded-full backdrop-blur-sm border border-white/10",children:[E.jsx(Gf,{size:16}),E.jsxs("span",{children:[t.memberIds.length+1," Mitglieder"]})]}),E.jsxs("div",{className:"flex items-center gap-2 bg-white/10 px-3 py-1.5 rounded-full backdrop-blur-sm border border-white/10",children:[E.jsx(Wo,{size:16}),E.jsxs("span",{children:[e.length," Lernsets"]})]})]})]}),E.jsx("div",{className:"absolute bottom-8 right-8 flex flex-col items-end gap-2",children:E.jsxs("div",{className:"flex -space-x-2",children:[E.jsx("img",{src:s.avatar,alt:"You",className:"w-10 h-10 rounded-full border-2 border-purple-600 shadow-sm",title:"Du"}),t.memberIds.map((I,F)=>E.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${I}`,alt:I,className:"w-10 h-10 rounded-full border-2 border-purple-600 bg-gray-200 shadow-sm",title:I},F)),E.jsx("button",{onClick:()=>S(!0),className:"w-10 h-10 rounded-full border-2 border-dashed border-white/50 bg-white/10 hover:bg-white/30 flex items-center justify-center text-white transition backdrop-blur-sm",title:"Mitglied hinzufgen",children:E.jsx(kD,{size:18})})]})})]}),T&&E.jsxs("div",{className:"mb-8 bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-indigo-100 dark:border-indigo-900/30 animate-in fade-in slide-in-from-top-4",children:[E.jsx("h3",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Person hinzufgen"}),E.jsxs("form",{onSubmit:N,className:"flex gap-2",children:[E.jsx("input",{autoFocus:!0,type:"text",placeholder:"Name der Person",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-transparent text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 outline-none",value:C,onChange:I=>_(I.target.value)}),E.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 font-medium text-sm",children:"Hinzufgen"}),E.jsx("button",{type:"button",onClick:()=>S(!1),className:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:"Abbrechen"})]})]}),w&&E.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-lg w-full max-h-[80vh] flex flex-col",children:[E.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[E.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Lernset hinzufgen"}),E.jsx("button",{onClick:()=>M(!1),children:E.jsx(es,{className:"text-gray-500"})})]}),E.jsx("div",{className:"p-4 overflow-y-auto flex-1",children:G.length===0?E.jsx("p",{className:"text-center text-gray-500 py-8",children:"Keine weiteren Sets verfgbar."}):E.jsx("div",{className:"grid gap-3",children:G.map(I=>E.jsxs("button",{onClick:()=>{m(t.id,I.id),M(!1)},className:"flex items-center justify-between p-3 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 text-left transition group",children:[E.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:I.name}),E.jsx(tl,{size:18,className:"text-indigo-500 opacity-0 group-hover:opacity-100 transition"})]},I.id))})})]})}),E.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[E.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[E.jsx(Wo,{className:"text-indigo-600 dark:text-indigo-400",size:24}),"Lernsets"]}),E.jsxs("button",{onClick:()=>M(!0),className:"flex items-center gap-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:underline bg-indigo-50 dark:bg-indigo-900/20 px-3 py-1.5 rounded-lg transition",children:[E.jsx(GR,{size:16})," Set hinzufgen"]})]}),e.length===0?E.jsxs("div",{className:"text-center py-16 bg-white dark:bg-gray-800 rounded-2xl border border-dashed border-gray-300 dark:border-gray-700",children:[E.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(Wo,{className:"text-gray-400",size:32})}),E.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"Dieser Kurs ist leer."}),E.jsx("p",{className:"text-sm text-gray-400 mt-1 mb-6",children:"Fge existierende Sets hinzu, damit Mitglieder lernen knnen."}),E.jsx("button",{onClick:()=>M(!0),className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition",children:"Set hinzufgen"})]}):E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(I=>E.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md transition group relative",children:[E.jsxs("div",{onClick:()=>r(I.id),className:"cursor-pointer",children:[E.jsx("h3",{className:"font-bold text-lg group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition mb-2 truncate text-gray-900 dark:text-white pr-8",children:I.name}),E.jsx("div",{className:"flex justify-between text-sm text-gray-500 dark:text-gray-400 mb-4",children:E.jsxs("span",{children:[I.cards.length," Karten"]})}),E.jsx("div",{className:"w-full bg-gray-100 dark:bg-gray-700 h-1.5 rounded-full overflow-hidden",children:E.jsx("div",{className:"bg-indigo-500 h-full",style:{width:`${I.cards.filter(F=>F.status==="known").length/I.cards.length*100}%`}})})]}),E.jsx("button",{onClick:F=>{F.stopPropagation(),window.confirm("Set aus diesem Kurs entfernen?")&&g(t.id,I.id)},className:"absolute top-4 right-4 p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition opacity-0 group-hover:opacity-100",title:"Aus Kurs entfernen",children:E.jsx(es,{size:16})})]},I.id))})]})},x3=({isOpen:t,onClose:e,history:i})=>{if(!t)return null;const s={};return i.forEach(r=>{const u=new Date(r.timestamp).toLocaleDateString("de-DE",{year:"numeric",month:"long",day:"numeric"});s[u]||(s[u]=[]),s[u].push(r)}),E.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex justify-end transition-opacity",children:E.jsxs("div",{className:"bg-white dark:bg-gray-900 w-full max-w-md h-full shadow-2xl p-6 overflow-hidden flex flex-col border-l border-gray-200 dark:border-gray-800 animate-slide-in-right",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[E.jsx($T,{className:"text-blue-600"}),"Verlauf"]}),E.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition text-gray-500 dark:text-gray-400",children:E.jsx(es,{size:24})})]}),E.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-8",children:i.length===0?E.jsxs("div",{className:"text-center py-12 text-gray-400 dark:text-gray-500",children:[E.jsx(IR,{size:48,className:"mx-auto mb-3 opacity-50"}),E.jsx("p",{children:"Noch keine Aktivitten."}),E.jsx("p",{className:"text-sm",children:"Erstellte Sets erscheinen hier."})]}):Object.keys(s).map(r=>E.jsxs("div",{children:[E.jsx("div",{className:"sticky top-0 bg-white dark:bg-gray-900 z-10 py-2 mb-4 border-b border-gray-100 dark:border-gray-800",children:E.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider",children:r})}),E.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-gray-100 dark:border-gray-800 ml-2",children:s[r].map(u=>E.jsxs("div",{className:"relative pl-6 py-1 group",children:[E.jsx("div",{className:`absolute -left-[21px] top-2 w-3 h-3 rounded-full border-2 border-white dark:border-gray-900 ${u.action==="created"?"bg-blue-500":"bg-green-500"}`}),E.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg border border-gray-100 dark:border-gray-700 hover:shadow-sm transition",children:[E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200 block mb-1",children:u.deckName}),E.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:new Date(u.timestamp).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})})]}),E.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:u.action==="created"?E.jsxs(E.Fragment,{children:[E.jsx(UR,{size:12})," Set erstellt"]}):E.jsxs(E.Fragment,{children:[E.jsx(Vf,{size:12})," Set importiert"]})})]})]},u.id))})]},r))})]})})},ua=(t,e)=>{try{const i=localStorage.getItem(t);return i?JSON.parse(i):e}catch(i){return console.error(`Failed to load ${t}`,i),e}},ca=(t,e)=>{localStorage.setItem(t,JSON.stringify(e))},E3=()=>{const[t,e]=q.useState(()=>ua("vocabflow_user",null)),[i,s]=q.useState(()=>ua("vocabflow_decks",[])),[r,u]=q.useState(()=>ua("vocabflow_courses",[])),[c,h]=q.useState(()=>ua("vocabflow_folders",[])),[g,m]=q.useState(()=>ua("vocabflow_history",[])),[y,T]=q.useState("dashboard"),[S,C]=q.useState(null),[_,w]=q.useState(void 0),[M,N]=q.useState(null),[G,I]=q.useState(null),[F,Y]=q.useState(!1),[j,Q]=q.useState(!1),[$,Z]=q.useState(!1),[ne,ue]=q.useState(!1),[Ae,ge]=q.useState(!1),[Me,qe]=q.useState(""),[k,V]=q.useState(!1),[W,ae]=q.useState(""),fe=q.useRef(null),R=q.useRef(null),[J,ee]=q.useState(()=>{if(typeof window<"u"){const O=localStorage.getItem("vocabflow_theme");return O?O==="dark":!0}return!0}),ie=t?i.filter(O=>O.authorId===t.id):[],me=t?r.filter(O=>O.authorId===t.id||O.memberIds.includes(t.id)):[],Se=t?c.filter(O=>O.authorId===t.id):[],De=t?g.filter(O=>O.userId===t.id):[],Xe=ie.find(O=>O.id===S),Oe=me.find(O=>O.id===M);q.useEffect(()=>{ca("vocabflow_decks",i)},[i]),q.useEffect(()=>{ca("vocabflow_courses",r)},[r]),q.useEffect(()=>{ca("vocabflow_folders",c)},[c]),q.useEffect(()=>{ca("vocabflow_history",g)},[g]),q.useEffect(()=>{t?ca("vocabflow_user",t):localStorage.removeItem("vocabflow_user")},[t]),q.useEffect(()=>{J?(document.documentElement.classList.add("dark"),localStorage.setItem("vocabflow_theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("vocabflow_theme","light"))},[J]);const $n=(O,ce,de)=>{if(!t)return;const re={id:crypto.randomUUID(),userId:t.id,deckName:O,deckId:ce,timestamp:Date.now(),action:de};m(Ee=>[re,...Ee])},ji=O=>{e(O),T("dashboard")},ls=()=>{e(null),T("dashboard")},Na=O=>{t&&(O.authorId=t.id),s([...i,O]),$n(O.name,O.id,"created"),T("dashboard")},_n=O=>{s(i.filter(ce=>ce.id!==O)),u(ce=>ce.map(de=>({...de,deckIds:de.deckIds.filter(re=>re!==O)}))),h(ce=>ce.map(de=>({...de,deckIds:de.deckIds.filter(re=>re!==O)}))),S===O&&(T("dashboard"),C(null))},us=(O,ce)=>{s(de=>de.map(re=>re.id===O?{...re,name:ce}:re))},eo=O=>{s(ce=>ce.map(de=>de.cards.some(re=>re.id===O.id)?{...de,cards:de.cards.map(re=>re.id===O.id?O:re)}:de))},wl=O=>{s(ce=>ce.map(de=>de.cards.some(re=>re.id===O)?{...de,cards:de.cards.filter(re=>re.id!==O)}:de))},wa=()=>{if(!Me.trim()||!t)return;const O={id:crypto.randomUUID(),name:Me,description:"Gemeinsames Lernen",authorId:t.id,memberIds:[],deckIds:[],createdAt:Date.now()};u([...r,O]),qe(""),ge(!1)},cs=()=>{if(!W.trim()||!t)return;const O={id:crypto.randomUUID(),name:W,authorId:t.id,deckIds:[],createdAt:Date.now()};h([...c,O]),ae(""),V(!1)},fs=O=>{window.confirm("Mchtest du diesen Ordner wirklich lschen?")&&h(c.filter(ce=>ce.id!==O))},ds=O=>{window.confirm("Mchtest du diesen Kurs wirklich lschen?")&&(u(r.filter(ce=>ce.id!==O)),M===O&&(T("dashboard"),N(null)))},Rl=(O,ce)=>{const de=ce.toLowerCase().replace(/\s+/g,"_");u(re=>re.map(Ee=>Ee.id===O&&!Ee.memberIds.includes(de)?{...Ee,memberIds:[...Ee.memberIds,de]}:Ee))},Dl=(O,ce)=>{u(de=>de.map(re=>re.id===O?{...re,deckIds:re.deckIds.filter(Ee=>Ee!==ce)}:re))},Tt=(O,ce)=>{u(de=>de.map(re=>re.id===O&&!re.deckIds.includes(ce)?{...re,deckIds:[...re.deckIds,ce]}:re))},Il=O=>{S&&(Tt(O,S),alert("Zum Kurs hinzugefgt!"))},Ra=O=>{S&&(h(ce=>ce.map(de=>de.id===O&&!de.deckIds.includes(S)?{...de,deckIds:[...de.deckIds,S]}:de)),alert("Zum Ordner hinzugefgt!"))},to=O=>{C(O),T("deck-detail")},no=O=>{N(O),T("course-detail")},kl=O=>{w(O),T("study")},Da=()=>{if(!t)return;const O={user:t,decks:ie,courses:me,folders:Se,history:De,exportDate:Date.now(),appVersion:"1.0"};hs(O,`fixlearn_backup_${t.name}_${new Date().toISOString().slice(0,10)}.json`)},Ul=O=>{const ce=i.filter(re=>O.deckIds.includes(re.id)),de={type:"course_share",course:O,decks:ce,exportedBy:t==null?void 0:t.name};hs(de,`Kurs_${O.name.replace(/\s+/g,"_")}.json`)},hs=(O,ce)=>{const de="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(O)),re=document.createElement("a");re.setAttribute("href",de),re.setAttribute("download",ce),document.body.appendChild(re),re.click(),re.remove()},_i=()=>{var O;return(O=R.current)==null?void 0:O.click()},St=O=>{const ce=new FileReader;ce.onload=de=>{var re;try{const Ee=JSON.parse((re=de.target)==null?void 0:re.result);if(Ee.user&&Array.isArray(Ee.decks)&&!Ee.type){const je=!t,ut=je?`Konto "${Ee.user.name}" wiederherstellen?`:`Profil "${Ee.user.name}" zusammenfhren?`;window.confirm(ut)&&(un(Ee.decks,Ee.courses,Ee.history,Ee.folders||[]),je?(e(Ee.user),T("dashboard")):(alert("Profil erfolgreich synchronisiert!"),ue(!1)))}else if(Ee.type==="course_share"&&Ee.course&&Array.isArray(Ee.decks)){if(window.confirm(`Kurs "${Ee.course.name}" und ${Ee.decks.length} Lernsets importieren?`)){const je={...Ee.course};t&&!je.memberIds.includes(t.id)&&je.authorId!==t.id&&je.memberIds.push(t.id),un(Ee.decks,[je],[],[]),alert(`Kurs "${Ee.course.name}" erfolgreich importiert!`)}}else alert("Ungltige Datei.")}catch(Ee){alert("Fehler beim Importieren."),console.error(Ee)}},ce.readAsText(O)},un=(O,ce,de,re)=>{const Ee=[...i];O.forEach(xt=>{Ee.find(Rt=>Rt.id===xt.id)||Ee.push(xt)}),s(Ee);const je=[...r];ce.forEach(xt=>{const Rt=je.findIndex(zl=>zl.id===xt.id);Rt===-1?je.push(xt):je[Rt]=xt}),u(je);const ut=[...c];re.forEach(xt=>{ut.find(Rt=>Rt.id===xt.id)||ut.push(xt)}),h(ut);const vn=[...g];de.forEach(xt=>{vn.find(Rt=>Rt.id===xt.id)||vn.push(xt)}),m(vn)},_t=O=>{var de;const ce=(de=O.target.files)==null?void 0:de[0];ce&&St(ce),O.target.value=""},Vl=(O,ce)=>{ce.stopPropagation(),hs(O,`${O.name.replace(/\s+/g,"_")}.json`)},Ll=()=>{var O;return(O=fe.current)==null?void 0:O.click()},Pl=O=>{var re;const ce=(re=O.target.files)==null?void 0:re[0];if(!ce)return;const de=new FileReader;de.onload=Ee=>{var je;try{const ut=JSON.parse((je=Ee.target)==null?void 0:je.result);if(ut.id&&ut.name){if(ut.type==="course_share"){alert("Dies ist eine Kurs-Datei. Bitte benutze den Profil-Import Button (unten/Cloud Icon).");return}i.some(vn=>vn.id===ut.id)&&(ut.id=crypto.randomUUID()),t&&(ut.authorId=t.id),s(vn=>[...vn,ut]),$n(ut.name,ut.id,"imported"),alert("Import erfolgreich!")}}catch{alert("Fehler beim Import.")}},de.readAsText(ce),O.target.value=""};return t?E.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 font-sans transition-colors duration-300",children:[E.jsx("input",{type:"file",ref:fe,onChange:Pl,accept:".json",style:{display:"none"}}),E.jsx("input",{type:"file",ref:R,onChange:_t,accept:".json",style:{display:"none"}}),E.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm sticky top-0 z-30 border-b border-gray-200 dark:border-gray-700 transition-colors",children:E.jsxs("div",{className:"max-w-5xl mx-auto px-4 h-16 flex items-center justify-between",children:[E.jsxs("button",{className:"flex items-center gap-2",onClick:()=>T("dashboard"),children:[E.jsx("div",{className:"bg-blue-600 p-1.5 rounded-lg",children:E.jsx(ZT,{className:"text-white w-6 h-6"})}),E.jsx("span",{className:"font-bold text-xl tracking-tight text-gray-900 dark:text-white",children:"Fix Learn"})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("button",{onClick:()=>ee(!J),className:"p-2 rounded-full text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700 transition",children:J?E.jsx(wD,{size:20}):E.jsx(oD,{size:20})}),E.jsx("button",{onClick:()=>ue(!0),className:"p-2 rounded-full text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700 transition",title:"Synchronisieren / Backup",children:E.jsx(sf,{size:20})}),E.jsxs("button",{onClick:()=>Y(!0),className:"flex items-center gap-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 px-3 py-1.5 rounded-full text-sm font-medium border border-transparent dark:border-indigo-800 hidden sm:flex",children:[E.jsx(Sd,{size:16})," Sprechen"]}),E.jsxs("div",{className:"flex items-center gap-2 ml-2 pl-2 border-l border-gray-200 dark:border-gray-700",children:[E.jsx("img",{src:t.avatar,alt:"Profile",className:"w-8 h-8 rounded-full border border-gray-200 dark:border-gray-600"}),E.jsx("button",{onClick:ls,className:"text-gray-400 hover:text-red-500 transition",title:"Abmelden",children:E.jsx(WR,{size:18})})]})]})]})}),E.jsxs("main",{className:"max-w-5xl mx-auto px-4 py-8",children:[y==="dashboard"&&E.jsxs("div",{className:"space-y-10",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[E.jsx(Gf,{size:20})," Kurse & Ordner"]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{onClick:()=>V(!0),className:"text-gray-600 dark:text-gray-400 text-sm font-medium hover:underline flex items-center gap-1",children:[E.jsx(tl,{size:16})," Ordner"]}),E.jsxs("button",{onClick:()=>ge(!0),className:"text-blue-600 dark:text-blue-400 text-sm font-medium hover:underline flex items-center gap-1",children:[E.jsx(tl,{size:16})," Kurs"]})]})]}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[Se.map(O=>E.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 p-5 rounded-xl shadow-sm hover:shadow-md transition relative group",children:[E.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[E.jsx(FR,{className:"text-yellow-500",size:24}),E.jsx("h3",{className:"font-bold text-lg text-gray-900 dark:text-white",children:O.name})]}),E.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 ml-9",children:[O.deckIds.length," Sets"]}),E.jsx("button",{onClick:()=>fs(O.id),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition",children:E.jsx(fl,{size:16})})]},O.id)),me.map(O=>E.jsxs("div",{onClick:()=>no(O.id),className:"bg-gradient-to-br from-indigo-500 to-purple-600 text-white p-5 rounded-xl shadow-sm cursor-pointer hover:shadow-md hover:scale-[1.02] transition",children:[E.jsx("h3",{className:"font-bold text-lg mb-1",children:O.name}),E.jsxs("div",{className:"flex items-center gap-4 text-xs opacity-90",children:[E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx(Wo,{size:12})," ",O.deckIds.length," Sets"]}),E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx(Gf,{size:12})," ",O.memberIds.length+1]})]})]},O.id)),me.length===0&&Se.length===0&&E.jsx("div",{className:"col-span-full text-center py-8 text-gray-500 text-sm bg-white dark:bg-gray-800 rounded-xl border border-dashed border-gray-300 dark:border-gray-700",children:"Erstelle Ordner oder Kurse, um deine Sets zu organisieren."})]})]}),E.jsxs("div",{children:[E.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4 mb-4",children:[E.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[E.jsx(Wo,{size:20})," Meine Lernsets"]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs("button",{onClick:()=>Z(!0),className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 text-sm px-3 py-1.5 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 transition flex items-center gap-1",children:[E.jsx($T,{size:16})," Verlauf"]}),E.jsxs("button",{onClick:Ll,className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 text-sm px-3 py-1.5 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 transition flex items-center gap-1",children:[E.jsx(zf,{size:16})," Import"]}),E.jsxs("button",{onClick:()=>T("create"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-blue-700 transition shadow-sm text-sm font-medium",children:[E.jsx(tl,{size:16})," Neues Set"]})]})]}),ie.length===0?E.jsxs("div",{className:"text-center py-16 bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700",children:[E.jsx(Wo,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-3"}),E.jsx("h3",{className:"text-md font-medium text-gray-900 dark:text-white",children:"Keine Sets vorhanden"}),E.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Erstelle Karten aus Texten oder Bildern."})]}):E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ie.map(O=>E.jsxs("div",{onClick:()=>to(O.id),className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md transition cursor-pointer group relative",children:[E.jsxs("div",{className:"flex justify-between items-start mb-2",children:[E.jsx("h3",{className:"font-bold text-lg group-hover:text-blue-600 dark:group-hover:text-blue-400 transition truncate text-gray-900 dark:text-white pr-8",children:O.name}),E.jsx("button",{onClick:ce=>Vl(O,ce),className:"text-gray-400 hover:text-blue-600 transition p-1",children:E.jsx(Vf,{size:16})})]}),E.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mb-4",children:[E.jsxs("span",{children:[O.cards.length," Karten"]}),E.jsx("span",{children:new Date(O.createdAt).toLocaleDateString()})]}),E.jsx("div",{className:"w-full bg-gray-100 dark:bg-gray-700 h-1.5 rounded-full overflow-hidden",children:E.jsx("div",{className:"bg-green-500 h-full",style:{width:`${O.cards.filter(ce=>ce.status==="known").length/O.cards.length*100}%`}})})]},O.id))})]})]}),y==="create"&&E.jsx(zD,{authorId:t.id,onDeckCreated:Na,onCancel:()=>T("dashboard")}),y==="deck-detail"&&Xe&&E.jsx(T3,{deck:Xe,availableCourses:me,availableFolders:Se,onStartStudy:kl,onEdit:()=>{},onRenameDeck:O=>us(Xe.id,O),onAddToCourse:Il,onAddToFolder:Ra,onBack:()=>T("dashboard"),onDelete:()=>_n(Xe.id),onUpdateCard:eo,onDeleteCard:wl}),y==="course-detail"&&Oe&&E.jsx(S3,{course:Oe,decks:ie.filter(O=>Oe.deckIds.includes(O.id)),allDecks:ie,currentUser:t,onOpenDeck:to,onBack:()=>T("dashboard"),onDeleteCourse:ds,onAddMember:Rl,onRemoveDeck:Dl,onAddDeckToCourse:Tt,onExportCourse:Ul}),y==="study"&&Xe&&E.jsx(C3,{deck:Xe,initialCardIds:_,onBack:()=>to(Xe.id),onUpdateGlobalDeck:eo})]}),E.jsx(x3,{isOpen:$,onClose:()=>Z(!1),history:De}),ne&&E.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:E.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100 dark:border-gray-700",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[E.jsx(sf,{className:"text-blue-600"}),"Synchronisierung"]}),E.jsxs("button",{onClick:()=>ue(!1),className:"text-gray-400 hover:text-gray-600",children:[E.jsx(sf,{size:0,className:"hidden"}),E.jsx(es,{size:24,className:"hover:text-gray-900 dark:hover:text-white"})]})]}),E.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6 text-sm",children:"Um deine Daten auf einem anderen Gert zu nutzen, erstelle ein Backup und importiere es dort."}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl border border-blue-100 dark:border-blue-800",children:[E.jsxs("h4",{className:"font-bold text-blue-700 dark:text-blue-300 mb-2 flex items-center gap-2",children:[E.jsx(Vf,{size:16})," Backup erstellen"]}),E.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mb-3",children:"Speichere dein komplettes Profil (Kurse, Sets, Verlauf) als Datei."}),E.jsx("button",{onClick:Da,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 rounded-lg transition text-sm",children:"Profil herunterladen"})]}),E.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-100 dark:border-gray-700",children:[E.jsxs("h4",{className:"font-bold text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[E.jsx(zf,{size:16})," Backup wiederherstellen"]}),E.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:"Lade eine Backup-Datei hoch, um Daten auf diesem Gert zu synchronisieren."}),E.jsx("button",{onClick:_i,className:"w-full bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 font-semibold py-2 rounded-lg transition text-sm",children:"Datei auswhlen"})]})]})]})}),Ae&&E.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:E.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-xl w-full max-w-sm",children:[E.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-900 dark:text-white",children:"Neuer Kurs / Board"}),E.jsx("input",{autoFocus:!0,className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 mb-4 bg-transparent text-gray-900 dark:text-white",placeholder:"Name des Kurses",value:Me,onChange:O=>qe(O.target.value)}),E.jsxs("div",{className:"flex justify-end gap-2",children:[E.jsx("button",{onClick:()=>ge(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:"Abbrechen"}),E.jsx("button",{onClick:wa,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Erstellen"})]})]})}),k&&E.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:E.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-xl w-full max-w-sm",children:[E.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-900 dark:text-white",children:"Neuer Ordner"}),E.jsx("input",{autoFocus:!0,className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 mb-4 bg-transparent text-gray-900 dark:text-white",placeholder:"Name des Ordners",value:W,onChange:O=>ae(O.target.value)}),E.jsxs("div",{className:"flex justify-end gap-2",children:[E.jsx("button",{onClick:()=>V(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:"Abbrechen"}),E.jsx("button",{onClick:cs,className:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600",children:"Erstellen"})]})]})}),E.jsx("button",{onClick:()=>Q(!j),className:"fixed bottom-6 right-6 w-14 h-14 bg-blue-600 text-white rounded-full shadow-lg flex items-center justify-center hover:bg-blue-700 transition z-40 hover:scale-105",children:E.jsx(eD,{size:28})}),E.jsx(y3,{isOpen:j,onClose:()=>Q(!1)}),F&&E.jsx(g3,{onClose:()=>Y(!1)})]}):E.jsx("div",{className:J?"dark":"",children:E.jsx(v3,{onLogin:ji,onRestore:St})})},C3=({deck:t,initialCardIds:e,onBack:i,onUpdateGlobalDeck:s})=>{const r=`vocabflow_session_${t.id}`,[u,c]=q.useState(!0),[h,g]=q.useState(!1),[m,y]=q.useState(!1),[T,S]=q.useState(!1),[C,_]=q.useState(""),[w,M]=q.useState(""),[N,G]=q.useState(()=>{try{const V=localStorage.getItem(r);if(V){const W=JSON.parse(V);if(W.deckId===t.id&&Array.isArray(W.queue)&&W.queue.length>0)return W.queue}}catch{}let k=t.cards;return e&&e.length>0&&(k=t.cards.filter(V=>e.includes(V.id))),[...k].sort(()=>Math.random()-.5)}),[I,F]=q.useState(()=>{try{const k=localStorage.getItem(r);if(k){const V=JSON.parse(k);if(V.deckId===t.id)return V.history||[]}}catch{}return[]}),[Y,j]=q.useState(()=>{try{const k=localStorage.getItem(r);if(k){const V=JSON.parse(k);if(V.deckId===t.id)return V.correctCount||0}}catch{}return 0}),Q=N.slice(1).filter(k=>k.isRetry).length,[$]=q.useState(()=>{try{const k=localStorage.getItem(r);if(k){const V=JSON.parse(k);if(V.totalSessionCards)return V.totalSessionCards}}catch{}return N.length});q.useEffect(()=>{const k={deckId:t.id,queue:N,history:I,correctCount:Y,totalSessionCards:$};localStorage.setItem(r,JSON.stringify(k))},[N,I,Y,t.id,$]);const Z=()=>{localStorage.removeItem(r),i()},ne=()=>{let k=t.cards;e&&e.length>0&&(k=t.cards.filter(W=>e.includes(W.id)));const V=u?[...k].sort(()=>Math.random()-.5):[...k];G(V),F([]),j(0),y(!1)},ue=()=>{const k=!u;if(c(k),N.length>1){const V=N[0],W=N.slice(1),ae=k?W.sort(()=>Math.random()-.5):W.sort((fe,R)=>fe.term.localeCompare(R.term));G([V,...ae])}},Ae=()=>{N.length>0&&(_(N[0].term),M(N[0].definition),S(!0),y(!1))},ge=()=>{if(N.length>0){const V={...N[0],term:C,definition:w},W=[...N];W[0]=V,G(W),s(V),S(!1)}},Me=k=>{if(N.length===0)return;const V=N[0];let ae=[...N.slice(1)],fe;if(k===Xi.LEFT){const R={...V,isRetry:!0},J=5+Math.floor(Math.random()*11);fe=Math.min(ae.length,J),ae.splice(fe,0,R)}else if(k===Xi.UP){const R={...V,isRetry:!0};fe=Math.min(ae.length,20),ae.splice(fe,0,R)}else j(R=>R+1);G(ae),F(R=>[...R,{card:V,action:k,insertedAt:fe}])},qe=()=>{if(I.length===0)return;const k=I[I.length-1],V=I.slice(0,-1);F(V),k.action===Xi.RIGHT&&j(ae=>Math.max(0,ae-1));let W=[...N];if(k.insertedAt!==void 0){const ae=W.findIndex(fe=>fe.id===k.card.id);ae!==-1&&W.splice(ae,1)}W.unshift(k.card),G(W)};return N.length===0&&Y>0?E.jsx("div",{className:"max-w-md mx-auto text-center pt-20",children:E.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700",children:[E.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-white",children:"Fertig! "}),E.jsx("div",{className:"flex justify-center gap-6 mb-6",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-3xl font-bold text-green-500",children:Y}),E.jsx("div",{className:"text-xs text-gray-500",children:"Gewusst"})]})}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("button",{onClick:ne,className:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 px-6 py-3 rounded-lg w-full flex items-center justify-center gap-2",children:[E.jsx(qy,{size:18})," Von vorne starten"]}),E.jsx("button",{onClick:Z,className:"bg-blue-600 text-white px-6 py-3 rounded-lg w-full",children:"Zurck zur bersicht"})]})]})}):N.length===0?E.jsx("div",{className:"p-8 text-center text-gray-500",children:"Lade Karten..."}):E.jsxs("div",{className:"flex flex-col items-center max-w-lg mx-auto h-[80vh] relative",children:[E.jsxs("div",{className:"w-full flex justify-between items-center mb-4 px-2",children:[E.jsxs("span",{className:"text-gray-400 font-medium text-sm tabular-nums",children:[Math.min(Y+1,$)," von ",$]}),E.jsx("button",{onClick:()=>y(!0),className:"p-2 text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition",children:E.jsx(vD,{size:20})})]}),E.jsx("div",{className:"flex-1 w-full flex items-center justify-center",children:E.jsx(m3,{card:N[0],onSwipe:Me,swapSides:h},`${N[0].id}-${Y}-${N.length}`)}),E.jsxs("div",{className:"w-full flex items-center justify-between mt-8 px-4",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("button",{onClick:Z,className:"text-gray-500 hover:text-gray-900 dark:hover:text-white flex items-center gap-1 font-medium transition text-sm",children:"Ende"}),E.jsx("button",{onClick:qe,disabled:I.length===0,className:"p-2 rounded-full text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-30 disabled:cursor-not-allowed transition",title:"Zurck (Undo)",children:E.jsx(hD,{size:20})})]}),E.jsxs("div",{className:"flex items-center gap-6",children:[E.jsxs("div",{className:"flex items-center gap-2 bg-red-50 dark:bg-red-900/20 px-3 py-1.5 rounded-full border border-red-100 dark:border-red-900/30",children:[E.jsx("div",{className:"w-2.5 h-2.5 bg-red-500 rounded-full animate-pulse"}),E.jsx("span",{className:"text-red-600 dark:text-red-400 font-bold text-sm",children:Q})]}),E.jsxs("div",{className:"flex items-center gap-2 bg-green-50 dark:bg-green-900/20 px-3 py-1.5 rounded-full border border-green-100 dark:border-green-900/30",children:[E.jsx("div",{className:"w-2.5 h-2.5 bg-green-500 rounded-full animate-pulse"}),E.jsx("span",{className:"text-green-600 dark:text-green-400 font-bold text-sm",children:Y})]})]})]}),E.jsx("p",{className:"text-center text-gray-300 dark:text-gray-600 text-xs mt-4"}),m&&E.jsx("div",{className:"absolute inset-0 bg-white/95 dark:bg-gray-900/95 z-20 flex flex-col items-center justify-center p-6 rounded-2xl backdrop-blur-sm animate-in fade-in zoom-in-95",children:E.jsxs("div",{className:"w-full max-w-xs space-y-6",children:[E.jsx("h3",{className:"text-xl font-bold text-center mb-6 text-gray-900 dark:text-white",children:"Einstellungen"}),E.jsxs("button",{onClick:()=>g(!h),className:"w-full flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-xl border border-gray-100 dark:border-gray-700",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(fD,{size:20,className:"text-blue-600"}),E.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:"Rckseite zuerst"})]}),E.jsx("div",{className:`w-10 h-6 rounded-full p-1 transition-colors ${h?"bg-blue-600":"bg-gray-300 dark:bg-gray-600"}`,children:E.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transition-transform ${h?"translate-x-4":"translate-x-0"}`})})]}),E.jsxs("button",{onClick:ue,className:"w-full flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-xl border border-gray-100 dark:border-gray-700",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(ED,{size:20,className:"text-purple-600"}),E.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:"Zufllige Reihenfolge"})]}),E.jsx("div",{className:`w-10 h-6 rounded-full p-1 transition-colors ${u?"bg-purple-600":"bg-gray-300 dark:bg-gray-600"}`,children:E.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transition-transform ${u?"translate-x-4":"translate-x-0"}`})})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-4 border-t border-gray-100 dark:border-gray-800",children:[E.jsxs("button",{onClick:Ae,className:"flex flex-col items-center justify-center gap-2 p-3 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition text-sm font-medium text-gray-700 dark:text-gray-300",children:[E.jsx(Lf,{size:20})," Karte bearbeiten"]}),E.jsxs("button",{onClick:ne,className:"flex flex-col items-center justify-center gap-2 p-3 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition text-sm font-medium text-gray-700 dark:text-gray-300",children:[E.jsx(qy,{size:20})," Neustart"]})]}),E.jsx("button",{onClick:()=>y(!1),className:"w-full py-3 text-gray-500 hover:text-gray-900 dark:hover:text-white",children:"Schlieen"})]})}),T&&E.jsx("div",{className:"absolute inset-0 bg-black/50 z-30 flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-sm shadow-xl animate-in fade-in zoom-in-95",children:[E.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-900 dark:text-white",children:"Karte bearbeiten"}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Begriff"}),E.jsx("input",{className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-transparent text-gray-900 dark:text-white",value:C,onChange:k=>_(k.target.value)})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Definition"}),E.jsx("textarea",{className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-transparent text-gray-900 dark:text-white h-24",value:w,onChange:k=>M(k.target.value)})]})]}),E.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[E.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:"Abbrechen"}),E.jsxs("button",{onClick:ge,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[E.jsx(Pf,{size:16})," Speichern"]})]})]})})]})},kx=document.getElementById("root");if(!kx)throw new Error("Could not find root element to mount to");const A3=nA.createRoot(kx);A3.render(E.jsx(XC.StrictMode,{children:E.jsx(E3,{})}));
